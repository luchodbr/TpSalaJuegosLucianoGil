"use strict";(self.webpackChunkTpSalaJuegosLucianoGil=self.webpackChunkTpSalaJuegosLucianoGil||[]).push([[179],{2011:(at,Se,k)=>{k.d(Se,{Dh:()=>he,GT:()=>de,cc:()=>Me,hO:()=>Fe,on:()=>H,pX:()=>re,xv:()=>ge});var h=k(4650),ee=k(127),N=k(5813);at=k.hmd(at);const se=["ngOnDestroy"],re=(pe,Qe,nt,Ae={})=>new Proxy(pe,{get:(ve,be)=>nt.runOutsideAngular(()=>{var Ue;if(pe[be])return!(null===(Ue=Ae?.spy)||void 0===Ue)&&Ue.get&&Ae.spy.get(be,pe[be]),pe[be];if(se.indexOf(be)>-1)return()=>{};const Be=Qe.toPromise().then(U=>{const me=U&&U[be];return"function"==typeof me?me.bind(U):me&&me.then?me.then(Y=>nt.run(()=>Y)):nt.run(()=>me)});return new Proxy(()=>{},{get:(U,me)=>Be[me],apply:(U,me,Y)=>Be.then(X=>{var ie;const ne=X&&X(...Y);return!(null===(ie=Ae?.spy)||void 0===ie)&&ie.apply&&Ae.spy.apply(be,Y,ne),ne})})})}),de=(pe,Qe)=>{Qe.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(Ae=>{Object.defineProperty(pe.prototype,Ae,Object.getOwnPropertyDescriptor(nt.prototype||nt,Ae))})})};class ce{constructor(Qe){return Qe}}const he=new h.OlP("angularfire2.app.options"),ge=new h.OlP("angularfire2.app.name");function H(pe,Qe,nt){const ve="object"==typeof nt&&nt||{};ve.name=ve.name||"string"==typeof nt&&nt||"[DEFAULT]";const Ue=ee.Z.apps.filter(Be=>Be&&Be.name===ve.name)[0]||Qe.runOutsideAngular(()=>ee.Z.initializeApp(pe,ve));try{JSON.stringify(pe)!==JSON.stringify(Ue.options)&&G("error",`${Ue.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Ue)}const G=(pe,...Qe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[pe](...Qe)},Q={provide:ce,useFactory:H,deps:[he,h.R0b,[new h.FiY,ge]]};let Fe=(()=>{class pe{constructor(nt){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",h.q4F.full,nt.toString())}static initializeApp(nt,Ae){return{ngModule:pe,providers:[{provide:he,useValue:nt},{provide:ge,useValue:Ae}]}}}return pe.\u0275fac=function(nt){return new(nt||pe)(h.LFG(h.Lbi))},pe.\u0275mod=h.oAB({type:pe}),pe.\u0275inj=h.cJS({providers:[Q]}),pe})();function Me(pe,Qe,nt,Ae,ve){const[,be,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===pe)||[];if(be)return function we(pe,Qe){try{return pe.toString()===Qe.toString()}catch{return pe===Qe}}(ve,Ue)||(ye("error",`${Qe} was already initialized on the ${nt} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:ve,was:Ue})),be;{const Be=Ae();return globalThis.\u0275AngularfireInstanceCache.push([pe,Be,ve]),Be}}const Xe=!!at.hot,ye=(pe,...Qe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[pe](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Se,k)=>{k.d(Se,{q4:()=>Qr,iC:()=>xs,HU:()=>Hl,vb:()=>Wo,JM:()=>Ma});var h=k(4650),ee=k(5867),N=k(5861),se=k(9681),re=k(2090),de=k(4859),ce=k(1877),he=k(8766);const ge="@firebase/installations",H="0.5.12",Q=`w:${H}`,Fe="FIS_v2",Qe=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(D){return D instanceof re.ZR&&D.code.includes("request-failed")}function Ae({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function ve(D){return{token:D.token,requestStatus:2,expiresIn:X(D.expiresIn),creationTime:Date.now()}}function be(D,C){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(D,C){const F=(yield C.json()).error;return Qe.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Be({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:C}){const x=Be(D);return x.append("Authorization",function ie(D){return`${Fe} ${D}`}(C)),x}function me(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,N.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function X(D){return Number(D.replace("s","000"))}function ne(D,C){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:C},{fid:x}){const F=Ae(D),J=Be(D),oe=C.getImmediate({optional:!0});if(oe){const _t=yield oe.getHeartbeatsHeader();_t&&J.append("x-firebase-client",_t)}const He={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:Fe,appId:D.appId,sdkVersion:Q})},ct=yield me(()=>fetch(F,He));if(ct.ok){const _t=yield ct.json();return{fid:_t.fid||x,registrationStatus:2,refreshToken:_t.refreshToken,authToken:ve(_t.authToken)}}throw yield be("Create Installation",ct)})).apply(this,arguments)}function Ne(D){return new Promise(C=>{setTimeout(C,D)})}const Wt=/^[cdef][\w-]{21}$/;function Ge(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function an(D){return function ut(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Wt.test(x)?x:""}catch{return""}}function Sn(D){return`${D.appName}!${D.appId}`}const Zt=new Map;function Yt(D,C){const x=Sn(D);nn(x,C),function aa(D,C){const x=function pr(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=D=>{nn(D.data.key,D.data.fid)}),Nr}();x&&x.postMessage({key:D,fid:C}),function Or(){0===Zt.size&&Nr&&(Nr.close(),Nr=null)}()}(x,C)}function nn(D,C){const x=Zt.get(D);if(x)for(const F of x)F(C)}let Nr=null;const kr="firebase-installations-store";let hi=null;function Mo(){return hi||(hi=(0,he.X3)("firebase-installations-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(kr)}})),hi}function Ke(D,C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,N.Z)(function*(D,C){const x=Sn(D),J=(yield Mo()).transaction(kr,"readwrite"),oe=J.objectStore(kr),Te=yield oe.get(x);return yield oe.put(C,x),yield J.done,(!Te||Te.fid!==C.fid)&&Yt(D,C.fid),C})).apply(this,arguments)}function zi(D){return An.apply(this,arguments)}function An(){return(An=(0,N.Z)(function*(D){const C=Sn(D),F=(yield Mo()).transaction(kr,"readwrite");yield F.objectStore(kr).delete(C),yield F.done})).apply(this,arguments)}function fi(D,C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,N.Z)(function*(D,C){const x=Sn(D),J=(yield Mo()).transaction(kr,"readwrite"),oe=J.objectStore(kr),Te=yield oe.get(x),He=C(Te);return void 0===He?yield oe.delete(x):yield oe.put(He,x),yield J.done,He&&(!Te||Te.fid!==He.fid)&&Yt(D,He.fid),He})).apply(this,arguments)}function Mn(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,N.Z)(function*(D){let C;const x=yield fi(D.appConfig,F=>{const J=hn(F),oe=dt(D,J);return C=oe.registrationPromise,oe.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function hn(D){return It(D||{fid:Ge(),registrationStatus:0})}function dt(D,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Qe.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function ot(D,C){return ln.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:tr(D)}:{installationEntry:C}}function ln(){return(ln=(0,N.Z)(function*(D,C){try{const x=yield ne(D,C);return Ke(D.appConfig,x)}catch(x){throw nt(x)&&409===x.customData.serverCode?yield zi(D.appConfig):yield Ke(D.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function tr(D){return nr.apply(this,arguments)}function nr(){return(nr=(0,N.Z)(function*(D){let C=yield wr(D.appConfig);for(;1===C.registrationStatus;)yield Ne(100),C=yield wr(D.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Mn(D);return F||x}return C})).apply(this,arguments)}function wr(D){return fi(D,C=>{if(!C)throw Qe.create("installation-not-found");return It(C)})}function It(D){return function Wi(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Qt(D,C){return pi.apply(this,arguments)}function pi(){return(pi=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:C},x){const F=Kt(D,x),J=U(D,x),oe=C.getImmediate({optional:!0});if(oe){const _t=yield oe.getHeartbeatsHeader();_t&&J.append("x-firebase-client",_t)}const He={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:D.appId}})},ct=yield me(()=>fetch(F,He));if(ct.ok)return ve(yield ct.json());throw yield be("Generate Auth Token",ct)})).apply(this,arguments)}function Kt(D,{fid:C}){return`${Ae(D)}/${C}/authTokens:generate`}function K(D){return j.apply(this,arguments)}function j(){return(j=(0,N.Z)(function*(D,C=!1){let x;const F=yield fi(D.appConfig,oe=>{if(!it(oe))throw Qe.create("not-registered");const Te=oe.authToken;if(!C&&cn(Te))return oe;if(1===Te.requestStatus)return x=V(D,C),oe;{if(!navigator.onLine)throw Qe.create("app-offline");const He=$n(oe);return x=De(D,He),He}});return x?yield x:F.authToken})).apply(this,arguments)}function V(D,C){return z.apply(this,arguments)}function z(){return(z=(0,N.Z)(function*(D,C){let x=yield q(D.appConfig);for(;1===x.authToken.requestStatus;)yield Ne(100),x=yield q(D.appConfig);const F=x.authToken;return 0===F.requestStatus?K(D,C):F})).apply(this,arguments)}function q(D){return fi(D,C=>{if(!it(C))throw Qe.create("not-registered");return function Vt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function De(D,C){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(D,C){try{const x=yield Qt(D,C),F=Object.assign(Object.assign({},C),{authToken:x});return yield Ke(D.appConfig,F),x}catch(x){if(!nt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ke(D.appConfig,F)}else yield zi(D.appConfig);throw x}})).apply(this,arguments)}function it(D){return void 0!==D&&2===D.registrationStatus}function cn(D){return 2===D.requestStatus&&!function Jt(D){const C=Date.now();return C<D.creationTime||D.creationTime+D.expiresIn<C+36e5}(D)}function $n(D){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:C})}function gn(){return(gn=(0,N.Z)(function*(D){const C=D,{installationEntry:x,registrationPromise:F}=yield Mn(C);return F?F.catch(console.error):K(C).catch(console.error),x.fid})).apply(this,arguments)}function Si(){return(Si=(0,N.Z)(function*(D,C=!1){const x=D;return yield Er(x),(yield K(x,C)).token})).apply(this,arguments)}function Er(D){return On.apply(this,arguments)}function On(){return(On=(0,N.Z)(function*(D){const{registrationPromise:C}=yield Mn(D);C&&(yield C)})).apply(this,arguments)}function _s(D){return Qe.create("missing-app-config-values",{valueName:D})}const $s="installations",yn=D=>{const C=D.getProvider("app").getImmediate(),x=function mn(D){if(!D||!D.options)throw _s("App Configuration");if(!D.name)throw _s("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!D.options[x])throw _s(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,se._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Gs=D=>{const C=D.getProvider("app").getImmediate(),x=(0,se._getProvider)(C,$s).getImmediate();return{getId:()=>function Nt(D){return gn.apply(this,arguments)}(x),getToken:J=>function Nn(D){return Si.apply(this,arguments)}(x,J)}};(function bu(){(0,se._registerComponent)(new de.wA($s,yn,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",Gs,"PRIVATE"))})(),(0,se.registerVersion)(ge,H),(0,se.registerVersion)(ge,H,"esm2017");const Ai="@firebase/remote-config",Ln=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xc{constructor(C,x,F,J){this.client=C,this.storage=x,this.storageCache=F,this.logger=J}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,J=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${J}.`),J}fetch(C){var x=this;return(0,N.Z)(function*(){const[F,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(C.cacheMaxAgeMillis,F))return J;C.eTag=J&&J.eTag;const oe=yield x.client.fetch(C),Te=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Te.push(x.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Te),oe})()}}function al(D=navigator){return D.languages&&D.languages[0]||D.language}class Au{constructor(C,x,F,J,oe,Te){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=F,this.projectId=J,this.apiKey=oe,this.appId=Te}fetch(C){var x=this;return(0,N.Z)(function*(){var F,J,oe;const[Te,He]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ht={sdk_version:x.sdkVersion,app_instance_id:Te,app_instance_id_token:He,app_id:x.appId,language_code:al()},vn={method:"POST",headers:Pt,body:JSON.stringify(ht)},cr=fetch(_t,vn),Pa=new Promise((uo,os)=>{C.signal.addEventListener(()=>{const jl=new Error("The operation was aborted.");jl.name="AbortError",os(jl)})});let Ko;try{yield Promise.race([cr,Pa]),Ko=yield cr}catch(uo){let os="fetch-client-network";throw"AbortError"===(null===(F=uo)||void 0===F?void 0:F.name)&&(os="fetch-timeout"),Ln.create(os,{originalErrorMessage:null===(J=uo)||void 0===J?void 0:J.message})}let lo=Ko.status;const Zo=Ko.headers.get("ETag")||void 0;let Oi,Cr;if(200===Ko.status){let uo;try{uo=yield Ko.json()}catch(os){throw Ln.create("fetch-client-parse",{originalErrorMessage:null===(oe=os)||void 0===oe?void 0:oe.message})}Oi=uo.entries,Cr=uo.state}if("INSTANCE_STATE_UNSPECIFIED"===Cr?lo=500:"NO_CHANGE"===Cr?lo=304:("NO_TEMPLATE"===Cr||"EMPTY_CONFIG"===Cr)&&(Oi={}),304!==lo&&200!==lo)throw Ln.create("fetch-status",{httpStatus:lo});return{status:lo,eTag:Zo,config:Oi}})()}}class sg{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,N.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:F}){var J=this;return(0,N.Z)(function*(){yield function Wn(D,C){return new Promise((x,F)=>{const J=Math.max(C-Date.now(),0),oe=setTimeout(x,J);D.addEventListener(()=>{clearTimeout(oe),F(Ln.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const oe=yield J.client.fetch(C);return yield J.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function ed(D){if(!(D instanceof re.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(oe))throw oe;const Te={throttleEndTimeMillis:Date.now()+(0,re.$s)(F),backoffCount:F+1};return yield J.storage.setThrottleMetadata(Te),J.attemptFetch(C,Te)}})()}}class Mu{constructor(C,x,F,J,oe){this.app=C,this._client=x,this._storageCache=F,this._storage=J,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xu(D,C){var x;const F=D.target.error||void 0;return Ln.create(C,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const Is="app_namespace_store";class ug{constructor(C,x,F,J=function lg(){return new Promise((D,C)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=J=>{C(xu(J,"storage-open"))},F.onsuccess=J=>{D(J.target.result)},F.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Is,{keyPath:"compositeKey"})}}catch(F){C(Ln.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=C,this.appName=x,this.namespace=F,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,N.Z)(function*(){const F=yield x.openDbPromise;return new Promise((J,oe)=>{var Te;const ct=F.transaction([Is],"readonly").objectStore(Is),_t=x.createCompositeKey(C);try{const Pt=ct.get(_t);Pt.onerror=ht=>{oe(xu(ht,"storage-get"))},Pt.onsuccess=ht=>{const vn=ht.target.result;J(vn?vn.value:void 0)}}catch(Pt){oe(Ln.create("storage-get",{originalErrorMessage:null===(Te=Pt)||void 0===Te?void 0:Te.message}))}})})()}set(C,x){var F=this;return(0,N.Z)(function*(){const J=yield F.openDbPromise;return new Promise((oe,Te)=>{var He;const _t=J.transaction([Is],"readwrite").objectStore(Is),Pt=F.createCompositeKey(C);try{const ht=_t.put({compositeKey:Pt,value:x});ht.onerror=vn=>{Te(xu(vn,"storage-set"))},ht.onsuccess=()=>{oe()}}catch(ht){Te(Ln.create("storage-set",{originalErrorMessage:null===(He=ht)||void 0===He?void 0:He.message}))}})})()}delete(C){var x=this;return(0,N.Z)(function*(){const F=yield x.openDbPromise;return new Promise((J,oe)=>{var Te;const ct=F.transaction([Is],"readwrite").objectStore(Is),_t=x.createCompositeKey(C);try{const Pt=ct.delete(_t);Pt.onerror=ht=>{oe(xu(ht,"storage-delete"))},Pt.onsuccess=()=>{J()}}catch(Pt){oe(Ln.create("storage-delete",{originalErrorMessage:null===(Te=Pt)||void 0===Te?void 0:Te.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class nd{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,N.Z)(function*(){const x=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),J=C.storage.getActiveConfig(),oe=yield x;oe&&(C.lastFetchStatus=oe);const Te=yield F;Te&&(C.lastSuccessfulFetchTimestampMillis=Te);const He=yield J;He&&(C.activeConfig=He)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function ll(){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,N.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function bs(){(0,se._registerComponent)(new de.wA("remote-config",function D(C,{instanceIdentifier:x}){const F=C.getProvider("app").getImmediate(),J=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!(0,re.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:oe,apiKey:Te,appId:He}=F.options;if(!oe)throw Ln.create("registration-project-id");if(!Te)throw Ln.create("registration-api-key");if(!He)throw Ln.create("registration-app-id");const ct=new ug(He,F.name,x=x||"firebase"),_t=new nd(ct),Pt=new ce.Yd(Ai);Pt.logLevel=ce.in.ERROR;const ht=new Au(J,se.SDK_VERSION,x,oe,Te,He),vn=new sg(ht,ct),cr=new Xc(vn,ct,_t,Pt),Pa=new Mu(F,cr,_t,ct,Pt);return function zn(D){const C=(0,re.m9)(D);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Pa),Pa},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ai,"0.3.11"),(0,se.registerVersion)(Ai,"0.3.11","esm2017")}();const Mi="/firebase-messaging-sw.js",Ki="/firebase-cloud-messaging-push-scope",Zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ca="google.c.a.c_id",ul="google.c.a.c_l",Pu="google.c.a.ts",Vh="google.c.a.e";var Qi=(()=>{return(D=Qi||(Qi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Qi;var D})();function Kr(D){const C=new Uint8Array(D);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fr(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),J=new Uint8Array(F.length);for(let oe=0;oe<F.length;++oe)J[oe]=F.charCodeAt(oe);return J}const Po="fcm_token_details_db",ur="fcm_token_object_Store";function Uh(D){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Po))return null;let C=null;return(yield(0,he.X3)(Po,5,{upgrade:(F=(0,N.Z)(function*(J,oe,Te,He){var ct;if(oe<2||!J.objectStoreNames.contains(ur))return;const _t=He.objectStore(ur),Pt=yield _t.index("fcmSenderId").get(D);if(yield _t.clear(),Pt)if(2===oe){const ht=Pt;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;C={token:ht.fcmToken,createTime:null!==(ct=ht.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:Kr(ht.vapidKey)}}}else if(3===oe){const ht=Pt;C={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Kr(ht.auth),p256dh:Kr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Kr(ht.vapidKey)}}}else if(4===oe){const ht=Pt;C={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Kr(ht.auth),p256dh:Kr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Kr(ht.vapidKey)}}}}),function(oe,Te,He,ct){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(Po),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),bn(C)?C:null;var F}),Bh.apply(this,arguments)}function bn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:C}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Zr="firebase-messaging-store";let br=null;function dl(){return br||(br=(0,he.X3)("firebase-messaging-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(Zr)}})),br}function Ro(D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,N.Z)(function*(D){const C=yi(D),F=yield(yield dl()).transaction(Zr).objectStore(Zr).get(C);if(F)return F;{const J=yield Uh(D.appConfig.senderId);if(J)return yield Gt(D,J),J}})).apply(this,arguments)}function Gt(D,C){return da.apply(this,arguments)}function da(){return(da=(0,N.Z)(function*(D,C){const x=yi(D),J=(yield dl()).transaction(Zr,"readwrite");return yield J.objectStore(Zr).put(C,x),yield J.done,C})).apply(this,arguments)}function qs(D){return hl.apply(this,arguments)}function hl(){return(hl=(0,N.Z)(function*(D){const C=yi(D),F=(yield dl()).transaction(Zr,"readwrite");yield F.objectStore(Zr).delete(C),yield F.done})).apply(this,arguments)}function yi({appConfig:D}){return D.appId}const _n=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bt(D,C){return pl.apply(this,arguments)}function pl(){return(pl=(0,N.Z)(function*(D,C){var x;const F=yield Nu(D),J=Ce(C),oe={method:"POST",headers:F,body:JSON.stringify(J)};let Te;try{Te=yield(yield fetch(Xi(D.appConfig),oe)).json()}catch(He){throw _n.create("token-subscribe-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Te.error)throw _n.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw _n.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function jh(D,C){return gl.apply(this,arguments)}function gl(){return(gl=(0,N.Z)(function*(D,C){var x;const F=yield Nu(D),J=Ce(C.subscriptionOptions),oe={method:"PATCH",headers:F,body:JSON.stringify(J)};let Te;try{Te=yield(yield fetch(`${Xi(D.appConfig)}/${C.token}`,oe)).json()}catch(He){throw _n.create("token-update-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Te.error)throw _n.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw _n.create("token-update-no-token");return Te.token})).apply(this,arguments)}function ml(D,C){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,N.Z)(function*(D,C){var x;const J={method:"DELETE",headers:yield Nu(D)};try{const Te=yield(yield fetch(`${Xi(D.appConfig)}/${C}`,J)).json();if(Te.error)throw _n.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(oe){throw _n.create("token-unsubscribe-failed",{errorInfo:null===(x=oe)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Xi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Nu(D){return ha.apply(this,arguments)}function ha(){return(ha=(0,N.Z)(function*({appConfig:D,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Ce({p256dh:D,auth:C,endpoint:x,vapidKey:F}){const J={web:{endpoint:x,auth:C,p256dh:D}};return F!==Zi&&(J.web.applicationPubKey=F),J}const Ut=6048e5;function yl(D){return _l.apply(this,arguments)}function _l(){return(_l=(0,N.Z)(function*(D){const C=yield Ou(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:Kr(C.getKey("auth")),p256dh:Kr(C.getKey("p256dh"))},F=yield Ro(D.firebaseDependencies);if(F){if(od(F.subscriptionOptions,x))return Date.now()>=F.createTime+Ut?No(D,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield ml(D.firebaseDependencies,F.token)}catch(J){console.warn(J)}return fa(D.firebaseDependencies,x)}return fa(D.firebaseDependencies,x)})).apply(this,arguments)}function Dn(D){return vl.apply(this,arguments)}function vl(){return(vl=(0,N.Z)(function*(D){const C=yield Ro(D.firebaseDependencies);C&&(yield ml(D.firebaseDependencies,C.token),yield qs(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function No(D,C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,N.Z)(function*(D,C){try{const x=yield jh(D.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield Gt(D.firebaseDependencies,F),x}catch(x){throw yield Dn(D),x}})).apply(this,arguments)}function fa(D,C){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(D,C){const F={token:yield bt(D,C),createTime:Date.now(),subscriptionOptions:C};return yield Gt(D,F),F.token})).apply(this,arguments)}function Ou(D,C){return ku.apply(this,arguments)}function ku(){return(ku=(0,N.Z)(function*(D,C){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fr(C)})})).apply(this,arguments)}function od(D,C){return C.vapidKey===D.vapidKey&&C.endpoint===D.endpoint&&C.auth===D.auth&&C.p256dh===D.p256dh}function Ks(D){const C={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Cn(D,C){if(!C.notification)return;D.notification={};const x=C.notification.title;x&&(D.notification.title=x);const F=C.notification.body;F&&(D.notification.body=F);const J=C.notification.image;J&&(D.notification.image=J)}(C,D),function xi(D,C){!C.data||(D.data=C.data)}(C,D),function Lu(D,C){var x,F,J,oe,Te;if(!(C.fcmOptions||null!==(x=C.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const He=null!==(J=null===(F=C.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==J?J:null===(oe=C.notification)||void 0===oe?void 0:oe.click_action;He&&(D.fcmOptions.link=He);const ct=null===(Te=C.fcmOptions)||void 0===Te?void 0:Te.analytics_label;ct&&(D.fcmOptions.analyticsLabel=ct)}(C,D),C}function Zs(D){return"object"==typeof D&&!!D&&ca in D}function es(D,C){const x=[];for(let F=0;F<D.length;F++)x.push(D.charAt(F)),F<C.length&&x.push(C.charAt(F));return x.join("")}function ga(D){return _n.create("missing-app-config-values",{valueName:D})}es("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),es("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dg{constructor(C,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function cg(D){if(!D||!D.options)throw ga("App Configuration Object");if(!D.name)throw ga("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const F of C)if(!x[F])throw ga(F);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:J,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Fu(D){return wl.apply(this,arguments)}function wl(){return(wl=(0,N.Z)(function*(D){var C;try{D.swRegistration=yield navigator.serviceWorker.register(Mi,{scope:Ki}),D.swRegistration.update().catch(()=>{})}catch(x){throw _n.create("failed-service-worker-registration",{browserErrorMessage:null===(C=x)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function ma(D,C){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,N.Z)(function*(D,C){if(!C&&!D.swRegistration&&(yield Fu(D)),C||!D.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");D.swRegistration=C}})).apply(this,arguments)}function ya(D,C){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,N.Z)(function*(D,C){C?D.vapidKey=C:D.vapidKey||(D.vapidKey=Zi)})).apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(D,C){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield ya(D,C?.vapidKey),yield ma(D,C?.serviceWorkerRegistration),yl(D)})).apply(this,arguments)}function Bu(D,C,x){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,N.Z)(function*(D,C,x){const F=ju(C);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[ca],message_name:x[ul],message_time:x[Pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ju(D){switch(D){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ys(){return(Ys=(0,N.Z)(function*(D,C){const x=C.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===Qi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ks(x)):D.onMessageHandler.next(Ks(x)));const F=x.data;Zs(F)&&"1"===F[Vh]&&(yield Bu(D,x.messageType,F))})).apply(this,arguments)}const Qs="@firebase/messaging",qn=D=>{const C=new dg(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ad(D,C){return Ys.apply(this,arguments)}(C,x)),C},Vr=D=>{const C=D.getProvider("messaging").getImmediate();return{getToken:F=>function El(D,C){return Il.apply(this,arguments)}(C,F)}};function ld(){return $u.apply(this,arguments)}function $u(){return($u=(0,N.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fn(){(0,se._registerComponent)(new de.wA("messaging",qn,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Vr,"PRIVATE")),(0,se.registerVersion)(Qs,"0.9.16"),(0,se.registerVersion)(Qs,"0.9.16","esm2017")}();const Lo="analytics",dd="firebase_id",Js="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cl="https://www.googletagmanager.com/gtag/js",Tn=new ce.Yd("@firebase/analytics");function Tl(D){return Promise.all(D.map(C=>C.catch(x=>x)))}function Sl(D,C){const x=document.createElement("script");x.src=`${Cl}?l=${D}&id=${C}`,x.async=!0,document.head.appendChild(x)}function Gh(D,C,x,F,J,oe){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(D,C,x,F,J,oe){const Te=F[J];try{if(Te)yield C[Te];else{const ct=(yield Tl(x)).find(_t=>_t.measurementId===J);ct&&(yield C[ct.appId])}}catch(He){Tn.error(He)}D("config",J,oe)})).apply(this,arguments)}function Fo(D,C,x,F,J){return eo.apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(D,C,x,F,J){try{let oe=[];if(J&&J.send_to){let Te=J.send_to;Array.isArray(Te)||(Te=[Te]);const He=yield Tl(x);for(const ct of Te){const _t=He.find(ht=>ht.measurementId===ct),Pt=_t&&C[_t.appId];if(!Pt){oe=[];break}oe.push(Pt)}}0===oe.length&&(oe=Object.values(C)),yield Promise.all(oe),D("event",F,J||{})}catch(oe){Tn.error(oe)}})).apply(this,arguments)}function fd(){const D=window.document.getElementsByTagName("script");for(const C of Object.values(D))if(C.src&&C.src.includes(Cl))return C;return null}const ir=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ea=new class Pi{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function gd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ia(D){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,N.Z)(function*(D){var C;const{appId:x,apiKey:F}=D,J={method:"GET",headers:gd(F)},oe=Js.replace("{app-id}",x),Te=yield fetch(oe,J);if(200!==Te.status&&304!==Te.status){let He="";try{const ct=yield Te.json();null!==(C=ct.error)&&void 0!==C&&C.message&&(He=ct.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:He})}return Te.json()})).apply(this,arguments)}function xn(D){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(D,C=Ea,x){const{appId:F,apiKey:J,measurementId:oe}=D.options;if(!F)throw ir.create("no-app-id");if(!J){if(oe)return{measurementId:oe,appId:F};throw ir.create("no-api-key")}const Te=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Pl;return setTimeout((0,N.Z)(function*(){He.abort()}),void 0!==x?x:6e4),Ml({appId:F,apiKey:J,measurementId:oe},Te,He,C)})).apply(this,arguments)}function Ml(D,C,x){return to.apply(this,arguments)}function to(){return(to=(0,N.Z)(function*(D,{throttleEndTimeMillis:C,backoffCount:x},F,J=Ea){var oe,Te;const{appId:He,measurementId:ct}=D;try{yield ba(F,C)}catch(_t){if(ct)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${null===(oe=_t)||void 0===oe?void 0:oe.message}]`),{appId:He,measurementId:ct};throw _t}try{const _t=yield Ia(D);return J.deleteThrottleMetadata(He),_t}catch(_t){const Pt=_t;if(!xl(Pt)){if(J.deleteThrottleMetadata(He),ct)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:He,measurementId:ct};throw _t}const ht=503===Number(null===(Te=Pt?.customData)||void 0===Te?void 0:Te.httpStatus)?(0,re.$s)(x,J.intervalMillis,30):(0,re.$s)(x,J.intervalMillis),vn={throttleEndTimeMillis:Date.now()+ht,backoffCount:x+1};return J.setThrottleMetadata(He,vn),Tn.debug(`Calling attemptFetch again in ${ht} millis`),Ml(D,vn,F,J)}})).apply(this,arguments)}function ba(D,C){return new Promise((x,F)=>{const J=Math.max(C-Date.now(),0),oe=setTimeout(x,J);D.addEventListener(()=>{clearTimeout(oe),F(ir.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function xl(D){if(!(D instanceof re.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Pl{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Ts,Ca;function Ss(){return(Ss=(0,N.Z)(function*(D,C,x,F,J){if(J&&J.global)D("event",x,F);else{const oe=yield C;D("event",x,Object.assign(Object.assign({},F),{send_to:oe}))}})).apply(this,arguments)}function ro(D){Ca=D}function Ku(D){Ts=D}function ns(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(){var D;if(!(0,re.hl)())return Tn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return Tn.warn(ir.create("indexeddb-unavailable",{errorInfo:null===(D=C)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Bo(){return(Bo=(0,N.Z)(function*(D,C,x,F,J,oe,Te){var He;const ct=xn(D);ct.then(cr=>{x[cr.measurementId]=cr.appId,D.options.measurementId&&cr.measurementId!==D.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cr=>Tn.error(cr)),C.push(ct);const _t=ns().then(cr=>{if(cr)return F.getId()}),[Pt,ht]=yield Promise.all([ct,_t]);fd()||Sl(oe,Pt.measurementId),Ca&&(J("consent","default",Ca),ro(void 0)),J("js",new Date);const vn=null!==(He=Te?.config)&&void 0!==He?He:{};return vn.origin="firebase",vn.update=!0,null!=ht&&(vn[dd]=ht),J("config",Pt.measurementId,vn),Ts&&(J("set",Ts),Ku(void 0)),Pt.measurementId})).apply(this,arguments)}class kl{constructor(C){this.app=C}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},As=[];const Ho={};let $o,io,jo="dataLayer",Ta=!1;function a_(D,C,x){!function hg(){const D=[];if((0,re.ru)()&&D.push("This is a browser extension environment."),(0,re.zI)()||D.push("Cookies are not available."),D.length>0){const C=D.map((F,J)=>`(${J+1}) ${F}`).join(" "),x=ir.create("invalid-analytics-context",{errorInfo:C});Tn.warn(x.message)}}();const F=D.options.appId;if(!F)throw ir.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ir.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[F])throw ir.create("already-exists",{id:F});if(!Ta){!function hd(D){let C=[];Array.isArray(window[D])?C=window[D]:window[D]=C}(jo);const{wrappedGtag:oe,gtagCore:Te}=function _a(D,C,x,F,J){let oe=function(...Te){window[F].push(arguments)};return window[J]&&"function"==typeof window[J]&&(oe=window[J]),window[J]=function Al(D,C,x,F){function oe(){return(oe=(0,N.Z)(function*(Te,He,ct){try{"event"===Te?yield Fo(D,C,x,He,ct):"config"===Te?yield Gh(D,C,x,F,He,ct):"consent"===Te?D("consent","update",ct):D("set",He)}catch(_t){Tn.error(_t)}})).apply(this,arguments)}return function J(Te,He,ct){return oe.apply(this,arguments)}}(oe,D,C,x),{gtagCore:oe,wrappedGtag:window[J]}}(Ur,As,Ho,jo,"gtag");io=oe,$o=Te,Ta=!0}return Ur[F]=function Uo(D,C,x,F,J,oe,Te){return Bo.apply(this,arguments)}(D,As,Ho,C,$o,jo,x),new kl(D)}function u_(){return zh.apply(this,arguments)}function zh(){return(zh=(0,N.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const rs="@firebase/analytics";!function Dr(){(0,se._registerComponent)(new de.wA(Lo,(C,{options:x})=>a_(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function D(C){try{const x=C.getProvider(Lo).getImmediate();return{logEvent:(F,J,oe)=>function Fl(D,C,x,F){D=(0,re.m9)(D),function md(D,C,x,F,J){return Ss.apply(this,arguments)}(io,Ur[D.app.options.appId],C,x,F).catch(J=>Tn.error(J))}(x,F,J,oe)}}catch(x){throw ir.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,se.registerVersion)(rs,"0.8.0"),(0,se.registerVersion)(rs,"0.8.0","esm2017")}();var Ri=k(4408),is=k(7565);const Qu=new class so extends is.v{}(class Yu extends Ri.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,x,F):C.flush(this)}});var Ul=k(4986),Ju=k(8505),oo=k(9468),Xu=k(5363);const Qr=new h.GfV("7.4.1"),zo="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",Sa="__angularfire_symbol__remoteConfigIsSupportedValue",ao="__angularfire_symbol__remoteConfigIsSupported",_d="__angularfire_symbol__messagingIsSupportedValue",Bl="__angularfire_symbol__messagingIsSupported";function Ma(D,C,x){if(C){if(1===C.length)return C[0];const oe=C.filter(Te=>Te.app===x);if(1===oe.length)return oe[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=u_().then(D=>globalThis[zo]=D).catch(()=>globalThis[zo]=!1)),globalThis[Bl]||(globalThis[Bl]=ld().then(D=>globalThis[_d]=D).catch(()=>globalThis[_d]=!1)),globalThis[ao]||(globalThis[ao]=ll().then(D=>globalThis[Sa]=D).catch(()=>globalThis[Sa]=!1));const Wo=(D,C)=>{const x=C?[C]:(0,ee.C6)(),F=[];return x.forEach(J=>{J.container.getProvider(D).instances.forEach(Te=>{F.includes(Te)||F.push(Te)})}),F};function xa(){}class Ni{constructor(C,x=Qu){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,F){const J=this.zone;return this.delegate.schedule(function(Te){J.runGuarded(()=>{C.apply(this,[Te])})},x,F)}}class ec{constructor(C){this.zone=C,this.task=null}call(C,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),x.pipe((0,Ju.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hl=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Ni(Zone.current)),this.insideAngular=x.run(()=>new Ni(Zone.current,Ul.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ms(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function xs(D){return Ms(),function wd(D){return function(x){return(x=x.lift(new ec(D.ngZone))).pipe((0,oo.R)(D.outsideAngular),(0,Xu.Q)(D.insideAngular))}}(Ms())(D)}},2090:(at,Se,k)=>{k.d(Se,{$s:()=>Wi,BH:()=>Fe,G6:()=>Be,L:()=>he,LL:()=>Oe,Mn:()=>be,Sg:()=>Me,UG:()=>ye,US:()=>de,ZB:()=>G,ZR:()=>ne,b$:()=>nt,d:()=>Ae,eu:()=>me,hl:()=>U,jU:()=>pe,m9:()=>Kt,ne:()=>Mo,pd:()=>kr,r3:()=>vr,ru:()=>Qe,tV:()=>ge,uI:()=>Xe,vZ:()=>Nr,w1:()=>ve,xO:()=>ys,xb:()=>nn,z$:()=>we,zI:()=>Y,zd:()=>Ti});const se=function(K){const j=[];let V=0;for(let z=0;z<K.length;z++){let q=K.charCodeAt(z);q<128?j[V++]=q:q<2048?(j[V++]=q>>6|192,j[V++]=63&q|128):55296==(64512&q)&&z+1<K.length&&56320==(64512&K.charCodeAt(z+1))?(q=65536+((1023&q)<<10)+(1023&K.charCodeAt(++z)),j[V++]=q>>18|240,j[V++]=q>>12&63|128,j[V++]=q>>6&63|128,j[V++]=63&q|128):(j[V++]=q>>12|224,j[V++]=q>>6&63|128,j[V++]=63&q|128)}return j},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,j){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let q=0;q<K.length;q+=3){const De=K[q],Ve=q+1<K.length,it=Ve?K[q+1]:0,cn=q+2<K.length,Jt=cn?K[q+2]:0;let Nt=(15&it)<<2|Jt>>6,gn=63&Jt;cn||(gn=64,Ve||(Nt=64)),z.push(V[De>>2],V[(3&De)<<4|it>>4],V[Nt],V[gn])}return z.join("")},encodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(K):this.encodeByteArray(se(K),j)},decodeString(K,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(K):function(K){const j=[];let V=0,z=0;for(;V<K.length;){const q=K[V++];if(q<128)j[z++]=String.fromCharCode(q);else if(q>191&&q<224){const De=K[V++];j[z++]=String.fromCharCode((31&q)<<6|63&De)}else if(q>239&&q<365){const cn=((7&q)<<18|(63&K[V++])<<12|(63&K[V++])<<6|63&K[V++])-65536;j[z++]=String.fromCharCode(55296+(cn>>10)),j[z++]=String.fromCharCode(56320+(1023&cn))}else{const De=K[V++],Ve=K[V++];j[z++]=String.fromCharCode((15&q)<<12|(63&De)<<6|63&Ve)}}return j.join("")}(this.decodeStringToByteArray(K,j))},decodeStringToByteArray(K,j){this.init_();const V=j?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let q=0;q<K.length;){const De=V[K.charAt(q++)],it=q<K.length?V[K.charAt(q)]:0;++q;const Jt=q<K.length?V[K.charAt(q)]:64;++q;const Vt=q<K.length?V[K.charAt(q)]:64;if(++q,null==De||null==it||null==Jt||null==Vt)throw Error();z.push(De<<2|it>>4),64!==Jt&&(z.push(it<<4&240|Jt>>2),64!==Vt&&z.push(Jt<<6&192|Vt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},he=function(K){return function(K){const j=se(K);return de.encodeByteArray(j,!0)}(K).replace(/\./g,"")},ge=function(K){try{return de.decodeString(K,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function G(K,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return j}for(const V in j)!j.hasOwnProperty(V)||!Q(V)||(K[V]=G(K[V],j[V]));return K}function Q(K){return"__proto__"!==K}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,V)=>{this.resolve=j,this.reject=V})}wrapCallback(j){return(V,z)=>{V?this.reject(V):this.resolve(z),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(V):j(V,z))}}}function Me(K,j){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=j||"demo-project",q=K.iat||0,De=K.sub||K.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:q,exp:q+3600,auth_time:q,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},K);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ve)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Qe(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return we().indexOf("Electron/")>=0}function ve(){const K=we();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function be(){return we().indexOf("MSAppHost/")>=0}function Be(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function me(){return new Promise((K,j)=>{try{let V=!0;const z="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(z);q.onsuccess=()=>{q.result.close(),V||self.indexedDB.deleteDatabase(z),K(!0)},q.onupgradeneeded=()=>{V=!1},q.onerror=()=>{var De;j((null===(De=q.error)||void 0===De?void 0:De.message)||"")}}catch(V){j(V)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(j,V,z){super(V),this.code=j,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(j,V,z){this.service=j,this.serviceName=V,this.errors=z}create(j,...V){const z=V[0]||{},q=`${this.service}/${j}`,De=this.errors[j],Ve=De?function Ne(K,j){return K.replace(ut,(V,z)=>{const q=j[z];return null!=q?String(q):`<${z}?>`})}(De,z):"Error";return new ne(q,`${this.serviceName}: ${Ve} (${q}).`,z)}}const ut=/\{\$([^}]+)}/g;function vr(K,j){return Object.prototype.hasOwnProperty.call(K,j)}function nn(K){for(const j in K)if(Object.prototype.hasOwnProperty.call(K,j))return!1;return!0}function Nr(K,j){if(K===j)return!0;const V=Object.keys(K),z=Object.keys(j);for(const q of V){if(!z.includes(q))return!1;const De=K[q],Ve=j[q];if(pr(De)&&pr(Ve)){if(!Nr(De,Ve))return!1}else if(De!==Ve)return!1}for(const q of z)if(!V.includes(q))return!1;return!0}function pr(K){return null!==K&&"object"==typeof K}function ys(K){const j=[];for(const[V,z]of Object.entries(K))Array.isArray(z)?z.forEach(q=>{j.push(encodeURIComponent(V)+"="+encodeURIComponent(q))}):j.push(encodeURIComponent(V)+"="+encodeURIComponent(z));return j.length?"&"+j.join("&"):""}function Ti(K){const j={};return K.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[q,De]=z.split("=");j[decodeURIComponent(q)]=decodeURIComponent(De)}}),j}function kr(K){const j=K.indexOf("?");if(!j)return"";const V=K.indexOf("#",j);return K.substring(j,V>0?V:void 0)}function Mo(K,j){const V=new Ke(K,j);return V.subscribe.bind(V)}class Ke{constructor(j,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{j(this)}).catch(z=>{this.error(z)})}next(j){this.forEachObserver(V=>{V.next(j)})}error(j){this.forEachObserver(V=>{V.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,V,z){let q;if(void 0===j&&void 0===V&&void 0===z)throw new Error("Missing Observer.");q=function zi(K,j){if("object"!=typeof K||null===K)return!1;for(const V of j)if(V in K&&"function"==typeof K[V])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:V,complete:z},void 0===q.next&&(q.next=An),void 0===q.error&&(q.error=An),void 0===q.complete&&(q.complete=An);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),De}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,j)}sendOne(j,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{V(this.observers[j])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function Wi(K,j=1e3,V=2){const z=j*Math.pow(V,K),q=Math.round(.5*z*(Math.random()-.5)*2);return Math.min(144e5,z+q)}function Kt(K){return K&&K._delegate?K._delegate:K}},8411:(at,Se,k)=>{var h=k(4650);let ee=null;function N(){return ee}const ce=new h.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ge(){return(0,h.LFG)(G)}()},providedIn:"platform"}),n})();const H=new h.OlP("Location Initialized");let G=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Fe(){return new G((0,h.LFG)(ce))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Qe)},providedIn:"root"}),n})();const pe=new h.OlP("appBaseHref");let Qe=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+Xe(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+Xe(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+Xe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+Xe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(pe,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(Ue(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Me,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(h.LFG(ye))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ve(){return new Ae((0,h.LFG)(ye))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}let rn=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Tu{constructor(){this.$implicit=null,this.ngIf=null}}function rr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Xc=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split("."),c=-1===i.indexOf("-")?void 0:h.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,l?`${r}${l}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),al=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]}),n})();class ed{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class sg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const qi=new sg,og=new ed;let Mu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return qi;if((0,h.F4k)(t))return og;throw function Wn(n,e){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Yi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function ur(n){return"server"===n}let cl=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Hh((0,h.LFG)(ce),window)}),n})();class Hh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function br(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zr(this.window.history)||Zr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ys extends class ad extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){ee||(ee=n)}(new Ys)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bl(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}();return null==t?null:function Vr(n){qn=qn||document.createElement("a"),qn.setAttribute("href",n);const e=qn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function sl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let qn,Qs=null;const fn=new h.OlP("TRANSITION_ID"),$u=[{provide:h.ip1,useFactory:function ld(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[fn,ce,h.zs3],multi:!0}];let Gu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Dl=new h.OlP("EventManagerPlugins");let ud=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dl),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class zu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Oo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ko=(()=>{class n extends Oo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cd))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function cd(n){N().remove(n)}const Lo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dd=/%COMP%/g;function Sl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Sl(n,i,t):(i=i.replace(dd,n),t.push(i))}return t}function hd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Fo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new pd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Sl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ud),h.LFG(ko),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Fo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(_a(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_a(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Lo[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Lo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hd(r)):this.eventManager.addEventListener(e,t,hd(r))}}function _a(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fd extends Fo{constructor(e,t,r,i){super(e),this.component=r;const l=Sl(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Tn(n){return"_ngcontent-%COMP%".replace(dd,n)}(i+"-"+r.id),this.hostAttr=function Tl(n){return"_nghost-%COMP%".replace(dd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pd extends Fo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Sl(i.id,i.styles,[]);for(let c=0;c<l.length;c++){const p=document.createElement("style");p.textContent=l[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ir=(()=>{class n extends zu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const va=["alt","control","meta","shift"],wa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ea=(()=>{class n extends zu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),va.forEach(I=>{const T=r.indexOf(I);T>-1&&(r.splice(T,1),c+=I+".")}),c+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=wa[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),va.forEach(c=>{c!==i&&(0,Pi[c])(t)&&(l+=c+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Ml(){Ys.makeCurrent()},multi:!0},{provide:ce,useFactory:function ba(){return(0,h.RDi)(document),document},deps:[]}]),Ts=new h.OlP(""),md=[{provide:h.rWj,useClass:class $h{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const p=function(y){c=c||y,l--,0==l&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Ss=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function to(){return new h.qLn},deps:[]},{provide:Dl,useClass:ir,multi:!0,deps:[ce,h.R0b,h.Lbi]},{provide:Dl,useClass:Ea,multi:!0,deps:[ce]},{provide:Xs,useClass:Xs,deps:[ud,ko,h.AFp]},{provide:h.FYo,useExisting:Xs},{provide:Oo,useExisting:ko},{provide:ko,useClass:ko,deps:[ce]},{provide:ud,useClass:ud,deps:[Dl,h.R0b]},{provide:class Ro{},useClass:Gu,deps:[]},[]];let Rl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:fn,useExisting:h.AFp},$u]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ts,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Ss,...md],imports:[Yi,h.hGG]}),n})(),ts=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Vo(){return new ts((0,h.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class Fl{}const rs="*";function Vl(n,e){return{type:7,name:n,definitions:e,options:{}}}function Dr(n,e=null){return{type:4,styles:e,timings:n}}function Yu(n,e=null){return{type:2,steps:n,options:e}}function is(n){return{type:6,styles:n,offset:null}}function Wh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ul(n,e=null){return{type:8,animation:n,options:e}}function oo(n,e=null){return{type:10,animation:n,options:e}}function zo(n){Promise.resolve().then(n)}class Jr{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Sa{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?zo(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==l&&this._onFinish()}),c.onDestroy(()=>{++r==l&&this._onDestroy()}),c.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Bl(n){return new h.vHH(3e3,!1)}function Zo(){return typeof window<"u"&&typeof window.document<"u"}function Oi(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Cr(n){switch(n.length){case 0:return new Jr;case 1:return n[0];default:return new Sa(n)}}function uo(n,e,t,r,i=new Map,l=new Map){const c=[],p=[];let y=-1,I=null;if(r.forEach(T=>{const M=T.get("offset"),L=M==y,B=L&&I||new Map;T.forEach((Z,ue)=>{let Ie=ue,We=Z;if("offset"!==ue)switch(Ie=e.normalizePropertyName(Ie,c),We){case"!":We=i.get(ue);break;case rs:We=l.get(ue);break;default:We=e.normalizeStyleValue(ue,Ie,We,c)}B.set(Ie,We)}),L||p.push(B),I=B,y=M}),c.length)throw function J(n){return new h.vHH(3502,!1)}();return p}function os(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&jl(t,"start",n)));break;case"done":n.onDone(()=>r(t&&jl(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&jl(t,"destroy",n)))}}function jl(n,e,t){const l=Ed(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(l._data=c),l}function Ed(n,e,t,r,i="",l=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!c}}function vi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function mg(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Id=(n,e)=>!1,nc=(n,e,t)=>[],$l=null;function Zh(n){const e=n.parentNode||n.host;return e===$l?null:e}(Oi()||typeof Element<"u")&&(Zo()?($l=(()=>document.documentElement)(),Id=(n,e)=>{for(;e;){if(e===n)return!0;e=Zh(e)}return!1}):Id=(n,e)=>n.contains(e),nc=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yo=null,f_=!1;const Ra=Id,bd=nc;let _g=(()=>{class n{validateStyleProperty(t){return function Yh(n){Yo||(Yo=function yg(){return typeof document<"u"?document.body:null}()||{},f_=!!Yo.style&&"WebkitAppearance"in Yo.style);let e=!0;return Yo.style&&!function dE(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yo.style,!e&&f_&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Ra(t,r)}getParentElement(t){return Zh(t)}query(t,r,i){return bd(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,c,p=[],y){return new Jr(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Qh=(()=>{class n{}return n.NOOP=new _g,n})();const Dd="ng-enter",ic="ng-leave",sc="ng-trigger",Na=".ng-trigger",vg="ng-animating",oc=".ng-animating";function Qo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cd(parseFloat(e[1]),e[2])}function Cd(n,e){return"s"===e?1e3*n:n}function Td(n,e,t){return n.hasOwnProperty("duration")?n:function Ps(n,e,t){let i,l=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(Bl()),{duration:0,delay:0,easing:""};i=Cd(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(l=Cd(parseFloat(y),p[4]));const I=p[5];I&&(c=I)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function Aa(){return new h.vHH(3100,!1)}()),p=!0),l<0&&(e.push(function pg(){return new h.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,Bl())}return{duration:i,delay:l,easing:c}}(n,e,t)}function co(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Xh(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Oa(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function m_(n,e,t){return t?e+":"+t+";":""}function pE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=m_(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=m_(0,wg(t),n.style[t]));n.setAttribute("style",e)}function mr(n,e,t){n.style&&(e.forEach((r,i)=>{const l=Sd(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),Oi()&&pE(n))}function ka(n,e){n.style&&(e.forEach((t,r)=>{const i=Sd(r);n.style[i]=""}),Oi()&&pE(n))}function ac(n){return Array.isArray(n)?1==n.length?n[0]:Yu(n):n}const tf=new RegExp("{{\\s*(.+?)\\s*}}","g");function La(n){let e=[];if("string"==typeof n){let t;for(;t=tf.exec(n);)e.push(t[1]);tf.lastIndex=0}return e}function lc(n,e,t){const r=n.toString(),i=r.replace(tf,(l,c)=>{let p=e[c];return null==p&&(t.push(function gg(n){return new h.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function wi(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Fa=/-+([a-z0-9])/g;function Sd(n){return n.replace(Fa,(...e)=>e[1].toUpperCase())}function wg(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ki(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ma(n){return new h.vHH(3004,!1)}()}}function y_(n,e){return window.getComputedStyle(n)[e]}function v_(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function w_(n,e,t){if(":"==n[0]){const y=function uc(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function D(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Kh(n){return new h.vHH(3015,!1)}()),e;const i=r[1],l=r[2],c=r[3];e.push(Pd(i,c));"<"==l[0]&&!("*"==i&&"*"==c)&&e.push(Pd(c,i))}(r,t,e)):t.push(n),t}const Va=new Set(["true","1"]),xd=new Set(["false","0"]);function Pd(n,e){const t=Va.has(n)||xd.has(n),r=Va.has(e)||xd.has(e);return(i,l)=>{let c="*"==n||n==i,p="*"==e||e==l;return!c&&t&&"boolean"==typeof i&&(c=i?Va.has(n):xd.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?Va.has(e):xd.has(e)),c&&p}}const Kn=new RegExp("s*:selfs*,?","g");function rf(n,e,t,r){return new sf(n).build(e,t,r)}class sf{constructor(e){this._driver=e}build(e,t,r){const i=new Dg(t);return this._resetContextStyleTimingState(i),ki(this,ac(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function xa(){return new h.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,I=y.name;I.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,t))}),y.name=I}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function Ni(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{La(y).forEach(I=>{c.hasOwnProperty(I)||l.add(I)})})}),l.size&&(wi(l.values()),t.errors.push(function ec(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ki(this,ac(e.animation),t);return{type:1,matchers:v_(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ua(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ki(this,r,t)),options:Ua(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(c=>{t.currentTime=r;const p=ki(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:l,options:Ua(e.options)}}visitAnimate(e,t){const r=function b_(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Cg(Td(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Cg(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=Td(t,e);return Cg(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:is({});if(5==l.type)i=this.visitKeyframes(l,t);else{let c=e.styles,p=!1;if(!c){p=!0;const I={};r.easing&&(I.easing=r.easing),c=is(I)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===rs?r.push(p):t.errors.push(new h.vHH(3002,!1)):r.push(Xh(p));let l=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!l))for(let y of p.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,y)=>{const I=t.collectedStyles.get(t.currentQuerySelector),T=I.get(y);let M=!0;T&&(l!=i&&l>=T.startTime&&i<=T.endTime&&(t.errors.push(function tc(n,e,t,r,i){return new h.vHH(3010,!1)}()),M=!1),l=T.startTime),M&&I.set(y,{startTime:l,endTime:i}),t.options&&function ef(n,e,t){const r=e.params||{},i=La(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function vd(n){return new h.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ss(){return new h.vHH(3011,!1)}()),r;let l=0;const c=[];let p=!1,y=!1,I=0;const T=e.steps.map(We=>{const tt=this._makeStyleAst(We,t);let pt=null!=tt.offset?tt.offset:function I_(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(tt.styles),st=0;return null!=pt&&(l++,st=tt.offset=pt),y=y||st<0||st>1,p=p||st<I,I=st,c.push(st),tt});y&&t.errors.push(function qh(){return new h.vHH(3012,!1)}()),p&&t.errors.push(function qo(){return new h.vHH(3200,!1)}());const M=e.steps.length;let L=0;l>0&&l<M?t.errors.push(function xs(){return new h.vHH(3202,!1)}()):0==l&&(L=1/(M-1));const B=M-1,Z=t.currentTime,ue=t.currentAnimateTimings,Ie=ue.duration;return T.forEach((We,tt)=>{const pt=L>0?tt==B?1:L*tt:c[tt],st=pt*Ie;t.currentTime=Z+ue.delay+st,ue.duration=st,this._validateStyleAst(We,t),We.offset=pt,r.styles.push(We)}),r}visitReference(e,t){return{type:8,animation:ki(this,ac(e.animation),t),options:Ua(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ua(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ua(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,c]=function Kl(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Kn,"")),n=n.replace(/@\*/g,Na).replace(/@\w+/g,t=>Na+"-"+t.slice(1)).replace(/:animating/g,oc),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,vi(t.collectedStyles,t.currentQuerySelector,new Map);const p=ki(this,ac(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Ua(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function wd(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Td(e.timings,t.errors,!0);return{type:12,animation:ki(this,ac(e.animation),t),timings:r,options:null}}}class Dg{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ua(n){return n?(n=co(n)).params&&(n.params=function E_(n){return n?co(n):null}(n.params)):n={},n}function Cg(n,e,t){return{duration:n,delay:e,easing:t}}function af(n,e,t,r,i,l,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:c,subTimeline:p}}class Rs{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Tg=new RegExp(":enter","g"),D_=new RegExp(":leave","g");function Tr(n,e,t,r,i,l=new Map,c=new Map,p,y,I=[]){return(new Zl).buildKeyframes(n,e,t,r,i,l,c,p,y,I)}class Zl{buildKeyframes(e,t,r,i,l,c,p,y,I,T=[]){I=I||new Rs;const M=new Sg(e,t,I,i,l,T,[]);M.options=y;const L=y.delay?Qo(y.delay):0;M.currentTimeline.delayNextStep(L),M.currentTimeline.setStyles([c],null,M.errors,y),ki(this,r,M);const B=M.timelines.filter(Z=>Z.containsAnimation());if(B.length&&p.size){let Z;for(let ue=B.length-1;ue>=0;ue--){const Ie=B[ue];if(Ie.element===t){Z=Ie;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([p],null,M.errors,y)}return B.length?B.map(Z=>Z.buildKeyframes()):[af(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);l!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const c=null!=r.duration?Qo(r.duration):null,p=null!=r.delay?Qo(r.delay):null;return 0!==c&&e.forEach(y=>{const I=t.appendInstructionToTimeline(y,c,p);l=Math.max(l,I.duration+I.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ki(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ba);const c=Qo(l.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ki(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Qo(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),ki(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Td(t.params?lc(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*l),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Qo(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ba);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((I,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,I);l&&M.delayNextStep(l),I===t.element&&(y=M.currentTimeline),ki(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,c=Math.abs(l.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const M=T.currentTime;ki(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const Ba={};class Sg{constructor(e,t,r,i,l,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ba,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Yl(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Qo(r.duration)),null!=r.delay&&(i.delay=Qo(r.delay));const l=r.params;if(l){let c=i.params;c||(c=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=lc(l[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new Sg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ba,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new dc(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(Tg,"."+this._enterClassName)).replace(D_,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),p.push(...I)}return!l&&0==p.length&&c.push(function Pn(n){return new h.vHH(3014,!1)}()),p}}class Yl{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Yl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||rs),this._currentKeyframe.set(t,rs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},c=function cf(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,rs)}else Oa(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of c){const I=lc(y,l,r);this._pendingStyles.set(p,I),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??rs),this._updateStyle(p,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const I=Oa(p,new Map,this._backFill);I.forEach((T,M)=>{"!"===T?e.add(M):T===rs&&t.add(M)}),r||I.set("offset",y/this.duration),i.push(I)});const l=e.size?wi(e.values()):[],c=t.size?wi(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return af(this.element,i,l,c,this.duration,this.startTime,this.easing,!1)}}class dc extends Yl{constructor(e,t,r,i,l,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],c=r+t,p=t/c,y=Oa(e[0]);y.set("offset",0),l.push(y);const I=Oa(e[0]);I.set("offset",uf(p)),l.push(I);const T=e.length-1;for(let M=1;M<=T;M++){let L=Oa(e[M]);const B=L.get("offset");L.set("offset",uf((t+B*r)/c)),l.push(L)}r=c,t=0,i="",e=l}return af(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function uf(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ns{}const Nd=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class C_ extends Ns{normalizePropertyName(e,t){return Sd(e)}normalizeStyleValue(e,t,r,i){let l="";const c=r.toString().trim();if(Nd.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function Wo(n,e){return new h.vHH(3005,!1)}())}return c+l}}function Od(n,e,t,r,i,l,c,p,y,I,T,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:I,postStyleProps:T,totalTime:M,errors:L}}const Ha={};class Fn{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function hc(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,c,p,y,I,T){const M=[],L=this.ast.options&&this.ast.options.params||Ha,Z=this.buildStyles(r,p&&p.params||Ha,M),ue=y&&y.params||Ha,Ie=this.buildStyles(i,ue,M),We=new Set,tt=new Map,pt=new Map,st="void"===i,Dt={params:T_(ue,L),delay:this.ast.options?.delay},Tt=T?[]:Tr(e,t,this.ast.animation,l,c,Z,Ie,Dt,I,M);let tn=0;if(Tt.forEach(Yc=>{tn=Math.max(Yc.duration+Yc.delay,tn)}),M.length)return Od(t,this._triggerName,r,i,st,Z,Ie,[],[],tt,pt,tn,M);Tt.forEach(Yc=>{const Qc=Yc.element,Vk=vi(tt,Qc,new Set);Yc.preStyleProps.forEach(rg=>Vk.add(rg));const uE=vi(pt,Qc,new Set);Yc.postStyleProps.forEach(rg=>uE.add(rg)),Qc!==t&&We.add(Qc)});const ms=wi(We.values());return Od(t,this._triggerName,r,i,st,Z,Ie,Tt,ms,tt,pt,tn)}}function T_(n,e){const t=co(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ho{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=co(this.defaultParams);return Object.keys(e).forEach(l=>{const c=e[l];null!==c&&(i[l]=c)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,p)=>{c&&(c=lc(c,i,t));const y=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,y,c,t),r.set(y,c)})}),r}}class ja{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ho(i.style,i.options&&i.options.params||{},r))}),Mg(this.states,"true","1"),Mg(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Fn(e,i,this.states))}),this.fallbackTransition=function Ag(n,e,t){return new Fn(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Mg(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ff=new Rs;class S_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=rf(this._driver,t,r,[]);if(r.length)throw function oe(n){return new h.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=uo(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let c;const p=new Map;if(l?(c=Tr(this._driver,t,l,Dd,ic,new Map,new Map,r,ff,i),c.forEach(T=>{const M=vi(p,T.element,new Map);T.postStyleProps.forEach(L=>M.set(L,null))})):(i.push(function Te(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function He(n){return new h.vHH(3504,!1)}();p.forEach((T,M)=>{T.forEach((L,B)=>{T.set(B,this._driver.computeStyle(M,B,rs))})});const I=Cr(c.map(T=>{const M=p.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ct(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=Ed(t,"","","");return os(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const kd="ng-animate-queued",Ld="ng-animate-disabled",w=[],A={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$="__ng_removed";class ae{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function fc(n){return n??null}(r?e.value:e),r){const l=co(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Le="void",Ye=new ae(Le);class mt{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Li(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function _t(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function Pt(n){return new h.vHH(3303,!1)}();if(!function pc(n){return"start"==n||"done"==n}(r))throw function ht(n,e){return new h.vHH(3400,!1)}();const l=vi(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};l.push(c);const p=vi(this._engine.statesByElement,e,new Map);return p.has(t)||(Li(e,sc),Li(e,sc+"-"+t),p.set(t,Ye)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(c);y>=0&&l.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function vn(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),c=new Vn(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Li(e,sc),Li(e,sc+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const I=new ae(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&I.absorbOptions(y.options),p.set(t,I),y||(y=Ye),I.value!==Le&&y.value===I.value){if(!function xg(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,I.params)){const ue=[],Ie=l.matchStyles(y.value,y.params,ue),We=l.matchStyles(I.value,I.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{ka(e,Ie),mr(e,We)})}return}const L=vi(this._engine.playersByElement,e,[]);L.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let B=l.matchTransition(y.value,I.value,e,I.params),Z=!1;if(!B){if(!i)return;B=l.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:I,player:c,isFallbackTransition:Z}),Z||(Li(e,kd),c.onStart(()=>{tu(e,kd)})),c.onDone(()=>{let ue=this.players.indexOf(c);ue>=0&&this.players.splice(ue,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let We=Ie.indexOf(c);We>=0&&Ie.splice(We,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Na,!0);r.forEach(i=>{if(i[$])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),c=new Map;if(l){const p=[];if(l.forEach((y,I)=>{if(c.set(I,y.value),this._triggers.has(I)){const T=this.trigger(e,I,Le,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Cr(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const c=l.name;if(i.has(c))return;i.add(c);const y=this._triggers.get(c).fallbackTransition,I=r.get(c)||Ye,T=new ae(Le),M=new Vn(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:I,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[$];(!l||l===A)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Li(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,c=this._elementListeners.get(l);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=Ed(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,os(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ft{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new mt(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const I=r.indexOf(y);r.splice(I+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(Xl(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Xl(t))return;const l=t[$];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Li(e,Ld)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),tu(e,Ld))}removeNode(e,t,r,i){if(Xl(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[$]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return Xl(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Na,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oc,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Cr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[$];if(t&&t.setForRemoval){if(e[$]=A,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ld)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Li(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Cr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function cr(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Rs,i=[],l=new Map,c=[],p=new Map,y=new Map,I=new Map,T=new Set;this.disabledNodes.forEach(lt=>{T.add(lt);const Et=this.driver.query(lt,".ng-animate-queued",!0);for(let St=0;St<Et.length;St++)T.add(Et[St])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=eu(L,this.collectedEnterElements),Z=new Map;let ue=0;B.forEach((lt,Et)=>{const St=Dd+ue++;Z.set(Et,St),lt.forEach(un=>Li(un,St))});const Ie=[],We=new Set,tt=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const Et=this.collectedLeaveElements[lt],St=Et[$];St&&St.setForRemoval&&(Ie.push(Et),We.add(Et),St.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(un=>We.add(un)):tt.add(Et))}const pt=new Map,st=eu(L,Array.from(We));st.forEach((lt,Et)=>{const St=ic+ue++;pt.set(Et,St),lt.forEach(un=>Li(un,St))}),e.push(()=>{B.forEach((lt,Et)=>{const St=Z.get(Et);lt.forEach(un=>tu(un,St))}),st.forEach((lt,Et)=>{const St=pt.get(Et);lt.forEach(un=>tu(un,St))}),Ie.forEach(lt=>{this.processLeaveNode(lt)})});const Dt=[],Tt=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(St=>{const un=St.player,di=St.element;if(Dt.push(un),this.collectedEnterElements.length){const Gi=di[$];if(Gi&&Gi.setForMove){if(Gi.previousTriggersValues&&Gi.previousTriggersValues.has(St.triggerName)){const ig=Gi.previousTriggersValues.get(St.triggerName),oa=this.statesByElement.get(St.element);if(oa&&oa.has(St.triggerName)){const DC=oa.get(St.triggerName);DC.value=ig,oa.set(St.triggerName,DC)}}return void un.destroy()}}const Iu=!M||!this.driver.containsElement(M,di),Ao=pt.get(di),kh=Z.get(di),ar=this._buildInstruction(St,r,kh,Ao,Iu);if(ar.errors&&ar.errors.length)return void Tt.push(ar);if(Iu)return un.onStart(()=>ka(di,ar.fromStyles)),un.onDestroy(()=>mr(di,ar.toStyles)),void i.push(un);if(St.isFallbackTransition)return un.onStart(()=>ka(di,ar.fromStyles)),un.onDestroy(()=>mr(di,ar.toStyles)),void i.push(un);const Hk=[];ar.timelines.forEach(Gi=>{Gi.stretchStartingKeyframe=!0,this.disabledNodes.has(Gi.element)||Hk.push(Gi)}),ar.timelines=Hk,r.append(di,ar.timelines),c.push({instruction:ar,player:un,element:di}),ar.queriedElements.forEach(Gi=>vi(p,Gi,[]).push(un)),ar.preStyleProps.forEach((Gi,ig)=>{if(Gi.size){let oa=y.get(ig);oa||y.set(ig,oa=new Set),Gi.forEach((DC,Mx)=>oa.add(Mx))}}),ar.postStyleProps.forEach((Gi,ig)=>{let oa=I.get(ig);oa||I.set(ig,oa=new Set),Gi.forEach((DC,Mx)=>oa.add(Mx))})});if(Tt.length){const lt=[];Tt.forEach(Et=>{lt.push(function Ko(n,e){return new h.vHH(3505,!1)}())}),Dt.forEach(Et=>Et.destroy()),this.reportError(lt)}const tn=new Map,ms=new Map;c.forEach(lt=>{const Et=lt.element;r.has(Et)&&(ms.set(Et,Et),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,tn))}),i.forEach(lt=>{const Et=lt.element;this._getPreviousPlayers(Et,!1,lt.namespaceId,lt.triggerName,null).forEach(un=>{vi(tn,Et,[]).push(un),un.destroy()})});const Yc=Ie.filter(lt=>P_(lt,y,I)),Qc=new Map;gf(Qc,this.driver,tt,I,rs).forEach(lt=>{P_(lt,y,I)&&Yc.push(lt)});const uE=new Map;B.forEach((lt,Et)=>{gf(uE,this.driver,new Set(lt),y,"!")}),Yc.forEach(lt=>{const Et=Qc.get(lt),St=uE.get(lt);Qc.set(lt,new Map([...Array.from(Et?.entries()??[]),...Array.from(St?.entries()??[])]))});const rg=[],Uk=[],Bk={};c.forEach(lt=>{const{element:Et,player:St,instruction:un}=lt;if(r.has(Et)){if(T.has(Et))return St.onDestroy(()=>mr(Et,un.toStyles)),St.disabled=!0,St.overrideTotalTime(un.totalTime),void i.push(St);let di=Bk;if(ms.size>1){let Ao=Et;const kh=[];for(;Ao=Ao.parentNode;){const ar=ms.get(Ao);if(ar){di=ar;break}kh.push(Ao)}kh.forEach(ar=>ms.set(ar,di))}const Iu=this._buildAnimation(St.namespaceId,un,tn,l,uE,Qc);if(St.setRealPlayer(Iu),di===Bk)rg.push(St);else{const Ao=this.playersByElement.get(di);Ao&&Ao.length&&(St.parentPlayer=Cr(Ao)),i.push(St)}}else ka(Et,un.fromStyles),St.onDestroy(()=>mr(Et,un.toStyles)),Uk.push(St),T.has(Et)&&i.push(St)}),Uk.forEach(lt=>{const Et=l.get(lt.element);if(Et&&Et.length){const St=Cr(Et);lt.setRealPlayer(St)}}),i.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<Ie.length;lt++){const Et=Ie[lt],St=Et[$];if(tu(Et,ic),St&&St.hasAnimation)continue;let un=[];if(p.size){let Iu=p.get(Et);Iu&&Iu.length&&un.push(...Iu);let Ao=this.driver.query(Et,oc,!0);for(let kh=0;kh<Ao.length;kh++){let ar=p.get(Ao[kh]);ar&&ar.length&&un.push(...ar)}}const di=un.filter(Iu=>!Iu.destroyed);di.length?gc(this,Et,di):this.processLeaveNode(Et)}return Ie.length=0,rg.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const Et=this.players.indexOf(lt);this.players.splice(Et,1)}),lt.play()}),rg}elementContainsData(e,t){let r=!1;const i=t[$];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!l||l==Le;p.forEach(I=>{I.queued||!y&&I.triggerName!=i||c.push(I)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const l=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const I=y.element,T=I!==l,M=vi(r,I,[]);this._getPreviousPlayers(I,T,c,p,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),M.push(B)})}ka(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,c){const p=t.triggerName,y=t.element,I=[],T=new Set,M=new Set,L=t.timelines.map(Z=>{const ue=Z.element;T.add(ue);const Ie=ue[$];if(Ie&&Ie.removedBeforeQueried)return new Jr(Z.duration,Z.delay);const We=ue!==y,tt=function M_(n){const e=[];return x_(n,e),e}((r.get(ue)||w).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===ue),pt=l.get(ue),st=c.get(ue),Dt=uo(0,this._normalizer,0,Z.keyframes,pt,st),Tt=this._buildPlayer(Z,Dt,tt);if(Z.subTimeline&&i&&M.add(ue),We){const tn=new Vn(e,p,ue);tn.setRealPlayer(Tt),I.push(tn)}return Tt});I.forEach(Z=>{vi(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function as(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>Li(Z,vg));const B=Cr(L);return B.onDestroy(()=>{T.forEach(Z=>tu(Z,vg)),mr(y,t.toStyles)}),M.forEach(Z=>{vi(i,Z,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Jr(e.duration,e.delay)}}class Vn{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Jr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>os(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Xl(n){return n&&1===n.nodeType}function pf(n,e){const t=n.style.display;return n.style.display=e??"none",t}function gf(n,e,t,r,i){const l=[];t.forEach(y=>l.push(pf(y)));const c=[];r.forEach((y,I)=>{const T=new Map;y.forEach(M=>{const L=e.computeStyle(I,M,i);T.set(M,L),(!L||0==L.length)&&(I[$]=R,c.push(I))}),n.set(I,T)});let p=0;return t.forEach(y=>pf(y,l[p++])),c}function eu(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),l=new Map;function c(p){if(!p)return 1;let y=l.get(p);if(y)return y;const I=p.parentNode;return y=t.has(I)?I:i.has(I)?1:c(I),l.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function Li(n,e){n.classList?.add(e)}function tu(n,e){n.classList?.remove(e)}function gc(n,e,t){Cr(t).onDone(()=>n.processLeaveNode(e))}function x_(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Sa?x_(r.players,e):e.push(r)}}function P_(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class R_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new ft(e,t,r),this._timelineEngine=new S_(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],T=rf(this._driver,l,y,[]);if(y.length)throw function F(n,e){return new h.vHH(3404,!1)}();p=function Jl(n,e,t){return new ja(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,c]=mg(r);this._timelineEngine.command(l,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[c,p]=mg(r);return this._timelineEngine.listen(c,t,p,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yE=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&mr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mr(this._element,this._initialStyles),this._endStyles&&(mr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),mr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mf(n){let e=null;return n.forEach((t,r)=>{(function _E(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class N_{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:y_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class vE{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Ra(e,t)}getParentElement(e){return Zh(e)}query(e,t,r){return bd(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(y.easing=l);const I=new Map,T=c.filter(B=>B instanceof N_);(function Ad(n,e){return 0===n||0===e})(r,i)&&T.forEach(B=>{B.currentSnapshot.forEach((Z,ue)=>I.set(ue,Z))});let M=function p_(n){return n.length?n[0]instanceof Map?n:n.map(e=>Xh(e)):[]}(t).map(B=>Oa(B));M=function gE(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,c)=>{r.has(c)||i.push(c),r.set(c,l)}),i.length)for(let l=1;l<e.length;l++){let c=e[l];i.forEach(p=>c.set(p,y_(n,p)))}}return e}(e,M,I);const L=function CC(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=mf(e[0]),e.length>1&&(r=mf(e[e.length-1]))):e instanceof Map&&(t=mf(e)),t||r?new yE(n,t,r):null}(e,M);return new N_(e,M,y,L)}}let O_=(()=>{class n extends Fl{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Yu(t):t;return Fd(this._renderer,null,r,"register",[i]),new TC(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ce))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class TC extends class Go{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new k_(this._id,e,t||{},this._renderer)}}class k_{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Fd(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Fd(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const wE="@.disabled";let SC=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,c)=>{const p=c?.parentNode(l);p&&c.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new L_("",l,this.engine),this._rendererCache.set(l,T)),T}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(c,p,t,T.name,T)};return r.data.animation.forEach(y),new AC(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,p]=l;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(R_),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class L_{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==wE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class AC extends L_{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==wE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function MC(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),c="";return"@"!=l.charAt(0)&&([l,c]=function xC(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let PC=(()=>{class n extends R_{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ce),h.LFG(Qh),h.LFG(Ns),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const EE=[{provide:Fl,useClass:O_},{provide:Ns,useFactory:function F_(){return new C_}},{provide:R_,useClass:PC},{provide:h.FYo,useFactory:function RC(n,e,t){return new SC(n,e,t)},deps:[Xs,R_,h.R0b]}],V_=[{provide:Qh,useFactory:()=>new vE},{provide:h.QbO,useValue:"BrowserAnimations"},...EE],U_=[{provide:Qh,useClass:_g},{provide:h.QbO,useValue:"NoopAnimations"},...EE];let NC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?U_:V_}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:V_,imports:[Rl]}),n})();var wn=k(8996),nu=k(7669);function Ze(...n){const e=(0,nu.yG)(n);return(0,wn.D)(n,e)}var Vi=k(7579);class Ui extends Vi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Rg=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Jo=k(9751);const{isArray:kC}=Array,{getPrototypeOf:bE,prototype:LC,keys:DE}=Object;function CE(n){if(1===n.length){const e=n[0];if(kC(e))return{args:e,keys:null};if(function FC(n){return n&&"object"==typeof n&&bE(n)===LC}(e)){const t=DE(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var yf=k(4671),At=k(4004);const{isArray:VC}=Array;function Xo(n){return(0,At.U)(e=>function Vd(n,e){return VC(e)?n(...e):n(e)}(n,e))}function TE(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Xr=k(5403),Px=k(9672);function UC(...n){const e=(0,nu.yG)(n),t=(0,nu.jO)(n),{args:r,keys:i}=CE(n);if(0===r.length)return(0,wn.D)([],e);const l=new Jo.y(function SE(n,e,t=yf.y){return r=>{BC(e,()=>{const{length:i}=n,l=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)BC(e,()=>{const I=(0,wn.D)(n[y],e);let T=!1;I.subscribe((0,Xr.x)(r,M=>{l[y]=M,T||(T=!0,p--),p||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>TE(i,c):yf.y));return t?l.pipe(Xo(t)):l}function BC(n,e,t){n?(0,Px.f)(t,n,e):e()}var Bi=k(8189);function _f(...n){return function B_(){return(0,Bi.J)(1)}()((0,wn.D)(n,(0,nu.yG)(n)))}var Ng=k(8421);function H_(n){return new Jo.y(e=>{(0,Ng.Xf)(n()).subscribe(e)})}var HC=k(9635),mc=k(576);function vf(n,e){const t=(0,mc.m)(n)?n:()=>n,r=i=>i.error(t());return new Jo.y(e?i=>e.schedule(r,0,i):r)}var yc=k(515),Og=k(727),Br=k(4482);function kg(){return(0,Br.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jC extends Jo.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Br.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Og.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Og.w0.EMPTY)}return e}refCount(){return kg()(this)}}function Un(n,e){return(0,Br.e)((t,r)=>{let i=null,l=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Xr.x)(r,y=>{i?.unsubscribe();let I=0;const T=l++;(0,Ng.Xf)(n(y,T)).subscribe(i=(0,Xr.x)(r,M=>r.next(e?e(y,M,T,I++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function _c(n){return n<=0?()=>yc.E:(0,Br.e)((e,t)=>{let r=0;e.subscribe((0,Xr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function wf(...n){const e=(0,nu.yG)(n);return(0,Br.e)((t,r)=>{(e?_f(n,t,e):_f(n,t)).subscribe(r)})}function fo(n,e){return(0,Br.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Hr=k(5577);function Lg(n){return(0,Br.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function AE(n=$C){return(0,Br.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $C(){return new Rg}function $a(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fo((i,l)=>n(i,l,r)):yf.y,_c(1),t?Lg(e):AE(()=>new Rg))}function vc(n,e){return(0,mc.m)(e)?(0,Hr.z)(n,e,1):(0,Hr.z)(n,1)}var ei=k(8505);function Ga(n){return(0,Br.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Xr.x)(t,void 0,void 0,c=>{l=(0,Ng.Xf)(n(c,Ga(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function j_(n,e,t,r,i){return(l,c)=>{let p=t,y=e,I=0;l.subscribe((0,Xr.x)(c,T=>{const M=I++;y=p?n(y,T,M):(p=!0,T),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Ud(n,e){return(0,Br.e)(j_(n,e,arguments.length>=2,!0))}function Ef(n){return n<=0?()=>yc.E:(0,Br.e)((e,t)=>{let r=[];e.subscribe((0,Xr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ME(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fo((i,l)=>n(i,l,r)):yf.y,Ef(1),t?Lg(e):AE(()=>new Rg))}function Fg(n){return(0,Br.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Rt="primary",Bd=Symbol("RouteTitle");class PE{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hd(n){return new PE(n)}function Rx(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],p=n[l];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ea(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!$_(n[i],e[i]))return!1;return!0}function $_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function G_(n){return Array.prototype.concat.apply([],n)}function z_(n){return n.length>0?n[n.length-1]:null}function Sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function po(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,wn.D)(Promise.resolve(n)):Ze(n)}const W_={exact:function OE(n,e,t){if(!wc(n.segments,e.segments)||!bf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!OE(n.children[r],e.children[r],t))return!1;return!0},subset:LE},q_={exact:function If(n,e){return ea(n,e)},subset:function kE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$_(n[t],e[t]))},ignored:()=>!0};function Ug(n,e,t){return W_[t.paths](n.root,e.root,t.matrixParams)&&q_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function LE(n,e,t){return FE(n,e,e.segments,t)}function FE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wc(i,t)||e.hasChildren()||!bf(i,t,r))}if(n.segments.length===t.length){if(!wc(n.segments,t)||!bf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!LE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(wc(n.segments,i)&&bf(n.segments,i,r)&&n.children[Rt])&&FE(n.children[Rt],e,l,r)}}function bf(n,e,t){return e.every((r,i)=>q_[t](n[i].parameters,r.parameters))}class za{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return go.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Sr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hg(this)}}class Bg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hd(this.parameters)),this._parameterMap}toString(){return $E(this)}}function wc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let BE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new K_},providedIn:"root"}),n})();class K_{parse(e){const t=new ZC(e);return new za(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$d(e.root,!0)}`,r=function kt(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${jg(t)}=${jg(i)}`).join("&"):`${jg(t)}=${jg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function zC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const go=new K_;function Hg(n){return n.segments.map(e=>$E(e)).join("/")}function $d(n,e){if(!n.hasChildren())return Hg(n);if(e){const t=n.children[Rt]?$d(n.children[Rt],!1):"",r=[];return Sr(n.children,(i,l)=>{l!==Rt&&r.push(`${l}:${$d(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function UE(n,e){let t=[];return Sr(n.children,(r,i)=>{i===Rt&&(t=t.concat(e(r,i)))}),Sr(n.children,(r,i)=>{i!==Rt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Rt?[$d(n.children[Rt],!1)]:[`${i}:${$d(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Hg(n)}/${t[0]}`:`${Hg(n)}/(${t.join("//")})`}}function HE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jg(n){return HE(n).replace(/%3B/gi,";")}function Z_(n){return HE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Df(n){return decodeURIComponent(n)}function jE(n){return Df(n.replace(/\+/g,"%20"))}function $E(n){return`${Z_(n.path)}${function WC(n){return Object.keys(n).map(e=>`;${Z_(e)}=${Z_(n[e])}`).join("")}(n.parameters)}`}const GE=/^[^\/()?;=#]+/;function Cf(n){const e=n.match(GE);return e?e[0]:""}const zE=/^[^=?&#]+/,KC=/^[^&#]+/;class ZC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rt]=new jt(e,t)),r}parseSegment(){const e=Cf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new Bg(Df(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cf(this.remaining);i&&(r=i,this.capture(r))}e[Df(t)]=Df(r)}parseQueryParam(e){const t=function qC(n){const e=n.match(zE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function WE(n){const e=n.match(KC);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=jE(t),l=jE(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Rt);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[Rt]:new jt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function $g(n){return n.segments.length>0?new jt([],{[Rt]:n}):n}function Gg(n){const e={};for(const r of Object.keys(n.children)){const l=Gg(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function YC(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function Gd(n){return n instanceof za}function Y_(n,e,t,r,i){if(0===t.length)return Sf(e.root,e.root,e.root,r,i);const l=function qE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eT(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Sr(l.outlets,(y,I)=>{p[I]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new eT(t,e,r)}(t);return l.toRoot()?Sf(e.root,e.root,new jt([],{}),r,i):function c(y){const I=function tT(n,e,t,r){if(n.isAbsolute)return new bc(e.root,!0,0);if(-1===r)return new bc(t,t===e.root,0);return function Dc(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new bc(r,!1,i-l)}(t,r+(Ic(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),T=I.processChildren?ru(I.segmentGroup,I.index,l.commands):Wg(I.segmentGroup,I.index,l.commands);return Sf(e.root,I.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Ic(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function Sf(n,e,t,r,i){let c,l={};r&&Sr(r,(y,I)=>{l[I]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),c=n===e?t:XC(n,e,t);const p=$g(Gg(c));return new za(p,l,i)}function XC(n,e,t){const r={};return Sr(n.children,(i,l)=>{r[l]=i===e?t:XC(i,e,t)}),new jt(n.segments,r)}class eT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ic(r[0]))throw new h.vHH(4003,!1);const i=r.find(Tf);if(i&&i!==z_(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Wg(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return ru(n,e,t);const r=function rT(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],p=t[r];if(Tf(p))break;const y=`${p}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!ZE(y,I,c))return l;r+=2}else{if(!ZE(y,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new jt(n.segments.slice(0,r.pathIndex),{});return l.children[Rt]=new jt(n.segments.slice(r.pathIndex),n.children),ru(l,0,i)}return r.match&&0===i.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?qg(n,e,t):r.match?ru(n,0,i):qg(n,e,t)}function ru(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function nT(n){return Tf(n[0])?n[0].outlets:{[Rt]:n}}(t),i={};return Sr(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=Wg(n.children[c],e,l))}),Sr(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new jt(n.segments,i)}}function qg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Tf(l)){const y=iT(l.outlets);return new jt(r,y)}if(0===i&&Ic(t[0])){r.push(new Bg(n.segments[e].path,KE(t[0]))),i++;continue}const c=Tf(l)?l.outlets[Rt]:`${l}`,p=i<t.length-1?t[i+1]:null;c&&p&&Ic(p)?(r.push(new Bg(c,KE(p))),i+=2):(r.push(new Bg(c,{})),i++)}return new jt(r,{})}function iT(n){const e={};return Sr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=qg(new jt([],{}),0,t))}),e}function KE(n){const e={};return Sr(n,(t,r)=>e[r]=`${t}`),e}function ZE(n,e,t){return n==t.path&&ea(e,t.parameters)}class Wa{constructor(e,t){this.id=e,this.url=t}}class Q_ extends Wa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class iu extends Wa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kg extends Wa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class J_ extends Wa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YE extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X_ extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ox extends Wa{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ev extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sT extends Wa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zd{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JE{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zg{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yo(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yo(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Af(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Af(e,this._root).map(t=>t.value)}}function yo(n,e){if(n===e.value)return e;for(const t of e.children){const r=yo(n,t);if(r)return r}return null}function Af(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Af(n,t);if(r.length)return r.unshift(e),r}return[]}class ta{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function su(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class aT extends Yg{constructor(e,t){super(e),this.snapshot=t,XE(this,e)}toString(){return this.snapshot.toString()}}function nv(n,e){const t=function Lx(n,e){const c=new Wd([],{},{},"",{},Rt,e,null,n.root,-1,{});return new Qg("",new ta(c,[]))}(n,e),r=new Ui([new Bg("",{})]),i=new Ui({}),l=new Ui({}),c=new Ui({}),p=new Ui(""),y=new na(r,i,c,p,l,Rt,e,t.root);return y.snapshot=t.root,new aT(new ta(y,[]),t)}class na{constructor(e,t,r,i,l,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,At.U)(I=>I[Bd]))??Ze(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>Hd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>Hd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function rv(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wd{constructor(e,t,r,i,l,c,p,y,I,T,M,L){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this.title=this.data?.[Bd],this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=T,this._correctedLastPathIndex=L??T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qg extends Yg{constructor(e,t){super(t),this.url=e,XE(this,t)}toString(){return eI(this._root)}}function XE(n,e){e.value._routerState=n,e.children.forEach(t=>XE(n,t))}function eI(n){const e=n.children.length>0?` { ${n.children.map(eI).join(", ")} } `:"";return`${n.value}${e}`}function iv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ea(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ea(e.params,t.params)||n.params.next(t.params),function Vg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ea(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ea(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sv(n,e){const t=ea(n.params,e.params)&&function VE(n,e){return wc(n,e)&&n.every((t,r)=>ea(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sv(n.parent,e.parent))}function qd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Fx(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qd(n,r,i);return qd(n,r)})}(n,e,t);return new ta(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>qd(n,p)),c}}const r=function uT(n){return new na(new Ui(n.url),new Ui(n.params),new Ui(n.queryParams),new Ui(n.fragment),new Ui(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>qd(n,l));return new ta(r,i)}}const tI="ngNavigationCancelingError";function ov(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Gd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=av(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function av(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[tI]=!0,r.cancellationCode=e,t&&(r.url=t),r}function nI(n){return Jg(n)&&Gd(n.url)}function Jg(n){return n&&n[tI]}class Vx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xg,this.attachRef=null}}let Xg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vx,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lv=!1;let rI=(()=>{class n{constructor(t,r,i,l,c){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=i||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,lv);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,lv);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,lv);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,lv);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new Ux(t,p,i.injector);if(r&&function Bx(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(c);this.activated=i.createComponent(I,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xg),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Ux{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===na?this.route:e===Xg?this.childContexts:this.parent.get(e,t)}}let iI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[rI],encapsulation:2}),n})();function cT(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xf(n){const e=n.children&&n.children.map(xf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=iI),t}function Os(n){return n.outlet||Rt}function qa(n,e){const t=n.filter(r=>Os(r)===e);return t.push(...n.filter(r=>Os(r)!==e)),t}function Kd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hT{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=su(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),Sr(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=su(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=su(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=su(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new mo(l.value.snapshot))}),e.children.length&&this.forwardEvent(new JE(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(iv(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),iv(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=Kd(i.snapshot),y=p?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class dv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class em{constructor(e,t){this.component=e,this.route=t}}function fT(n,e,t){const r=n._root;return Tc(r,e?e._root:null,t,[r.value])}function _o(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Tc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=su(e);return n.children.forEach(c=>{(function Zd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const y=function nm(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wc(n.url,e.url)||!ea(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sv(n,e)||!ea(n.queryParams,e.queryParams);default:return!sv(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new dv(r)):(l.data=c.data,l._resolvedData=c._resolvedData),Tc(n,e,l.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new em(p.outlet.component,c))}else c&&Ka(e,p,i),i.canActivateChecks.push(new dv(r)),Tc(n,null,l.component?p?p.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),Sr(l,(c,p)=>Ka(c,t.getContext(p),i)),i}function Ka(n,e,t){const r=su(n),i=n.value;Sr(r,(l,c)=>{Ka(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new em(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pf(n){return"function"==typeof n}function gv(n){return n instanceof Rg||"EmptyError"===n?.name}const Rf=Symbol("INITIAL_VALUE");function Yd(){return Un(n=>UC(n.map(e=>e.pipe(_c(1),wf(Rf)))).pipe((0,At.U)(e=>{for(const t of e)if(!0!==t){if(t===Rf)return Rf;if(!1===t||t instanceof za)return t}return!0}),fo(e=>e!==Rf),_c(1)))}function yv(n){return(0,HC.z)((0,ei.b)(e=>{if(Gd(e))throw ov(0,e)}),(0,At.U)(e=>!0===e))}const _v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pI(n,e,t,r,i){const l=rm(n,e,t);return l.matched?function yT(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ze(i.map(c=>{const p=_o(c,n);return po(function pv(n){return n&&Pf(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Yd(),yv()):Ze(!0)}(r=cT(e,r),e,t).pipe((0,At.U)(c=>!0===c?l:{..._v})):Ze(l)}function rm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._v}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rx)(t,n,e);if(!i)return{..._v};const l={};Sr(i.posParams,(p,y)=>{l[y]=p.path});const c=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function im(n,e,t,r,i="corrected"){if(t.length>0&&function vT(n,e,t){return t.some(r=>Nf(n,e,r)&&Os(r)!==Rt)}(n,t,r)){const c=new jt(e,function _T(n,e,t,r){const i={};i[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Os(l)!==Rt){const c=new jt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Os(l)]=c}return i}(n,e,r,new jt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function mI(n,e,t){return t.some(r=>Nf(n,e,r))}(n,t,r)){const c=new jt(n.segments,function gI(n,e,t,r,i,l){const c={};for(const p of r)if(Nf(n,t,p)&&!i[Os(p)]){const y=new jt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,c[Os(p)]=y}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const l=new jt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Nf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yI(n,e,t,r){return!!(Os(n)===r||r!==Rt&&Nf(e,t,n))&&("**"===n.path||rm(e,n,t).matched)}function vo(n,e,t){return 0===e.length&&!n.children[t]}const Qd=!1;class sm{constructor(e){this.segmentGroup=e||null}}class _I{constructor(e){this.urlTree=e}}function om(n){return vf(new sm(n))}function vv(n){return vf(new _I(n))}class wv{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=im(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rt).pipe((0,At.U)(l=>this.createUrlTree(Gg(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ga(l=>{if(l instanceof _I)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof sm?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rt).pipe((0,At.U)(i=>this.createUrlTree(Gg(i),e.queryParams,e.fragment))).pipe(Ga(i=>{throw i instanceof sm?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,Qd)}createUrlTree(e,t,r){const i=$g(e);return new za(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(l=>new jt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,wn.D)(i).pipe(vc(l=>{const c=r.children[l],p=qa(t,l);return this.expandSegmentGroup(e,p,c,l).pipe((0,At.U)(y=>({segment:y,outlet:l})))}),Ud((l,c)=>(l[c.outlet]=c.segment,l),{}),ME())}expandSegment(e,t,r,i,l,c){return(0,wn.D)(r).pipe(vc(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,c).pipe(Ga(I=>{if(I instanceof sm)return Ze(null);throw I}))),$a(p=>!!p),Ga((p,y)=>{if(gv(p))return vo(t,i,l)?Ze(new jt([],{})):om(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,c,p){return yI(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):om(t):om(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vv(l):this.lineralizeSegments(r,l).pipe((0,Hr.z)(c=>{const p=new jt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:p,consumedSegments:y,remainingSegments:I,positionalParamSegments:T}=rm(t,i,l);if(!p)return om(t);const M=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?vv(M):this.lineralizeSegments(i,M).pipe((0,Hr.z)(L=>this.expandSegment(e,t,r,L.concat(I),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=cT(r,e),r.loadChildren?(r._loadedRoutes?Ze({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,At.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new jt(i,{})))):Ze(new jt(i,{}))):pI(t,r,i,e).pipe(Un(({matched:c,consumedSegments:p,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Hr.z)(T=>{const M=T.injector??e,L=T.routes,{segmentGroup:B,slicedSegments:Z}=im(t,p,y,L),ue=new jt(B.segments,B.children);if(0===Z.length&&ue.hasChildren())return this.expandChildren(M,L,ue).pipe((0,At.U)(pt=>new jt(p,pt)));if(0===L.length&&0===Z.length)return Ze(new jt(p,{}));const Ie=Os(r)===l;return this.expandSegment(M,ue,L,Z,Ie?Rt:l,!0).pipe((0,At.U)(tt=>new jt(p.concat(tt.segments),tt.children)))})):om(t)))}getChildConfig(e,t,r){return t.children?Ze({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ze({routes:t._loadedRoutes,injector:t._loadedInjector}):function mv(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ze(!0):Ze(i.map(c=>{const p=_o(c,n);return po(function uI(n){return n&&Pf(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Yd(),yv())}(e,t,r).pipe((0,Hr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ei.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function ET(n){return vf(av(Qd,3))}())):Ze({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ze(r);if(i.numberOfChildren>1||!i.children[Rt])return vf(new h.vHH(4e3,Qd));i=i.children[Rt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new za(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Sr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return Sr(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new jt(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,Qd);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class lm{}class Iv{constructor(e,t,r,i,l,c,p,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=y}recognize(){const e=im(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe((0,At.U)(t=>{if(null===t)return null;const r=new Wd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ta(r,t),l=new Qg(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=Mf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,wn.D)(Object.keys(r.children)).pipe(vc(i=>{const l=r.children[i],c=qa(t,i);return this.processSegmentGroup(e,c,l,i)}),Ud((i,l)=>i&&l?(i.push(...l),i):null),function GC(n,e=!1){return(0,Br.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,l=>{const c=n(l,i++);(c||e)&&r.next(l),!c&&r.complete()}))})}(i=>null!==i),Lg(null),ME(),(0,At.U)(i=>{if(null===i)return null;const l=um(i);return function vI(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,wn.D)(t).pipe(vc(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,l)),$a(c=>!!c),Ga(c=>{if(gv(c))return vo(r,i,l)?Ze([]):Ze(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!yI(t,r,i,l))return Ze(null);let c;if("**"===t.path){const p=i.length>0?z_(i).parameters:{},y=Dv(r)+i.length;c=Ze({snapshot:new Wd(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tv(t),Os(t),t.component??t._loadedComponent??null,t,bv(r),y,cm(t),y),consumedSegments:[],remainingSegments:[]})}else c=pI(r,t,i,e).pipe((0,At.U)(({matched:p,consumedSegments:y,remainingSegments:I,parameters:T})=>{if(!p)return null;const M=Dv(r)+y.length;return{snapshot:new Wd(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tv(t),Os(t),t.component??t._loadedComponent??null,t,bv(r),M,cm(t),M),consumedSegments:y,remainingSegments:I}}));return c.pipe(Un(p=>{if(null===p)return Ze(null);const{snapshot:y,consumedSegments:I,remainingSegments:T}=p;e=t._injector??e;const M=t._loadedInjector??e,L=function Gx(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:Z}=im(r,I,T,L.filter(Ie=>void 0===Ie.redirectTo),this.relativeLinkResolution);if(0===Z.length&&B.hasChildren())return this.processChildren(M,L,B).pipe((0,At.U)(Ie=>null===Ie?null:[new ta(y,Ie)]));if(0===L.length&&0===Z.length)return Ze([new ta(y,[])]);const ue=Os(t)===l;return this.processSegment(M,L,B,Z,ue?Rt:l).pipe((0,At.U)(Ie=>null===Ie?null:[new ta(y,Ie)]))}))}}function zx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function um(n){const e=[],t=new Set;for(const r of n){if(!zx(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=um(r.children);e.push(new ta(r.value,i))}return e.filter(r=>!t.has(r))}function bv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Dv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Tv(n){return n.data||{}}function cm(n){return n.resolve||{}}function Av(n){return"string"==typeof n.title||null===n.title}function Mv(n){return Un(e=>{const t=n(e);return t?(0,wn.D)(t).pipe((0,At.U)(()=>e)):Ze(e)})}let wI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Rt);return r}getResolvedTitleForRoute(t){return t.data[Bd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Jd)},providedIn:"root"}),n})(),Jd=(()=>{class n extends wI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ts))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kx{}class Zx extends class TT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const fm=new h.OlP("",{providedIn:"root",factory:()=>({})}),xv=new h.OlP("ROUTES");let pm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ze(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=po(t.loadComponent()).pipe((0,ei.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Fg(()=>{this.componentLoaders.delete(t)})),i=new jC(r,()=>new Vi.x).pipe(kg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ze({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,At.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,I,T=!1;Array.isArray(p)?I=p:(y=p.create(t).injector,I=G_(y.get(xv,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(xf),injector:y}}),Fg(()=>{this.childrenLoaders.delete(r)})),c=new jC(l,()=>new Vi.x).pipe(kg());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return po(t()).pipe((0,Hr.z)(r=>r instanceof h.YKP||Array.isArray(r)?Ze(r):(0,wn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pv{}class AT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function MT(n){throw n}function xT(n,e,t){return e.parse("/")}const PT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function II(){const n=(0,h.f3M)(BE),e=(0,h.f3M)(Xg),t=(0,h.f3M)(Ae),r=(0,h.f3M)(h.zs3),i=(0,h.f3M)(h.Sil),l=(0,h.f3M)(xv,{optional:!0})??[],c=(0,h.f3M)(fm,{optional:!0})??{},p=(0,h.f3M)(Jd),y=(0,h.f3M)(wI,{optional:!0}),I=(0,h.f3M)(Pv,{optional:!0}),T=(0,h.f3M)(Kx,{optional:!0}),M=new Zn(null,n,e,t,r,i,G_(l));return I&&(M.urlHandlingStrategy=I),T&&(M.routeReuseStrategy=T),M.titleStrategy=y??p,function NT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let Zn=(()=>{class n{constructor(t,r,i,l,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vi.x,this.errorHandler=MT,this.malformedUriErrorHandler=xT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ze(void 0),this.urlHandlingStrategy=new AT,this.routeReuseStrategy=new Zx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(pm),this.configLoader.onLoadEndListener=L=>this.triggerEvent(new zd(L)),this.configLoader.onLoadStartListener=L=>this.triggerEvent(new kx(L)),this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const M=c.get(h.R0b);this.isNgZoneEnabled=M instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function NE(){return new za(new jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nv(this.currentUrlTree,this.rootComponentType),this.transitions=new Ui({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(fo(i=>0!==i.id),(0,At.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Un(i=>{let l=!1,c=!1;return Ze(i).pipe((0,ei.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(p=>{const y=this.browserUrlTree.toString(),I=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return OT(p.source)&&(this.browserUrlTree=p.extractedUrl),Ze(p).pipe(Un(M=>{const L=this.transitions.getValue();return r.next(new Q_(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?yc.E:Promise.resolve(M)}),function bT(n,e,t,r){return Un(i=>function IT(n,e,t,r,i){return new wv(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,At.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ei.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function Za(n,e,t,r,i,l){return(0,Hr.z)(c=>function DT(n,e,t,r,i,l,c="emptyOnly",p="legacy"){return new Iv(n,e,t,r,i,c,p,l).recognize().pipe(Un(y=>null===y?function Ev(n){return new Jo.y(e=>e.error(n))}(new lm):Ze(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,l).pipe((0,At.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ei.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new YE(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:Z,restoredState:ue,extras:Ie}=p,We=new Q_(L,this.serializeUrl(B),Z,ue);r.next(We);const tt=nv(B,this.rootComponentType).snapshot;return Ze(i={...p,targetSnapshot:tt,urlAfterRedirects:B,extras:{...Ie,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),yc.E}),(0,ei.b)(p=>{const y=new X_(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,At.U)(p=>i={...p,guards:fT(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function dI(n,e){return(0,Hr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?Ze({...t,guardsResult:!0}):function hI(n,e,t,r){return(0,wn.D)(n).pipe((0,Hr.z)(i=>function mT(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Ze(l.map(p=>{const y=Kd(e)??i,I=_o(p,y);return po(function cI(n){return n&&Pf(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):y.runInContext(()=>I(n,e,t,r))).pipe($a())})).pipe(Yd()):Ze(!0)}(i.component,i.route,t,e,r)),$a(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Hr.z)(p=>p&&function lI(n){return"boolean"==typeof n}(p)?function pT(n,e,t,r){return(0,wn.D)(e).pipe(vc(i=>_f(function fI(n,e){return null!==n&&e&&e(new QE(n)),Ze(!0)}(i.route.parent,r),function ls(n,e){return null!==n&&e&&e(new Zg(n)),Ze(!0)}(i.route,r),function $x(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function tm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>H_(()=>Ze(c.guards.map(y=>{const I=Kd(c.node)??t,T=_o(y,I);return po(function fv(n){return n&&Pf(n.canActivateChild)}(T)?T.canActivateChild(r,n):I.runInContext(()=>T(r,n))).pipe($a())})).pipe(Yd())));return Ze(l).pipe(Yd())}(n,i.path,t),function gT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ze(!0);const i=r.map(l=>H_(()=>{const c=Kd(e)??t,p=_o(l,c);return po(function hv(n){return n&&Pf(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe($a())}));return Ze(i).pipe(Yd())}(n,i.route,t))),$a(i=>!0!==i,!0))}(r,l,n,e):Ze(p)),(0,At.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ei.b)(p=>{if(i.guardsResult=p.guardsResult,Gd(p.guardsResult))throw ov(0,p.guardsResult);const y=new Ox(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),fo(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),Mv(p=>{if(p.guards.canActivateChecks.length)return Ze(p).pipe((0,ei.b)(y=>{const I=new ev(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),Un(y=>{let I=!1;return Ze(y).pipe(function dm(n,e){return(0,Hr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ze(t);let l=0;return(0,wn.D)(i).pipe(vc(c=>function hm(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!Av(i)&&(l[Bd]=i.title),function Of(n,e,t,r){const i=function CT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ze({});const l={};return(0,wn.D)(i).pipe((0,Hr.z)(c=>function Sv(n,e,t,r){const i=Kd(e)??r,l=_o(n,i);return po(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[c],e,t,r).pipe($a(),(0,ei.b)(p=>{l[c]=p}))),Ef(1),function xE(n){return(0,At.U)(()=>n)}(l),Ga(c=>gv(c)?yc.E:vf(c)))}(l,n,e,r).pipe((0,At.U)(c=>(n._resolvedData=c,n.data=Mf(n,t).resolve,i&&Av(i)&&(n.data[Bd]=i.title),null)))}(c.route,r,n,e)),(0,ei.b)(()=>l++),Ef(1),(0,Hr.z)(c=>l===i.length?Ze(t):yc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ei.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,ei.b)(y=>{const I=new sT(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}))}),Mv(p=>{const y=I=>{const T=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,ei.b)(M=>{I.component=M}),(0,At.U)(()=>{})));for(const M of I.children)T.push(...y(M));return T};return UC(y(p.targetSnapshot.root)).pipe(Lg(),_c(1))}),Mv(()=>this.afterPreactivation()),(0,At.U)(p=>{const y=function lT(n,e,t){const r=qd(n,e._root,t?t._root:void 0);return new aT(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:y}}),(0,ei.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new hT(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ei.b)({next(){l=!0},complete(){l=!0}}),Fg(()=>{l||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ga(p=>{if(c=!0,Jg(p)){nI(p)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Kg(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(y),nI(p)){const I=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OT(i.source)};this.scheduleNavigation(I,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new J_(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(p))}catch(I){i.reject(I)}}return yc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const p={...l};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(xf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,I=i||this.routerState.root,T=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),Y_(I,this.currentUrlTree,t,M,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Gd(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Sc(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...PT}:!1===r?{...RT}:r,Gd(t))return Ug(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Ug(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new iu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,c){if(this.disposed)return Promise.resolve(!1);let p,y,I;c?(p=c.resolve,y=c.reject,I=c.promise):I=new Promise((L,B)=>{p=L,y=B});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:p,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new Kg(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:function(){return II()},providedIn:"root"}),n})();function OT(n){return"imperative"!==n}let Ya=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Vi.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn),h.Y36(na),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),gm=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Vi.x,this.subscription=t.events.subscribe(l=>{l instanceof iu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,c){return!!(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn),h.Y36(na),h.Y36(ye))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class bI{}let ti=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(fo(t=>t instanceof iu),vc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,h.MMx)(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,p=l._loadedInjector??c;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(c,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,wn.D)(i).pipe((0,Bi.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ze(null);const l=i.pipe((0,Hr.z)(c=>null===c?Ze(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,wn.D)([l,c]).pipe((0,Bi.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zn),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(bI),h.LFG(pm))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ja=new h.OlP("");let kf=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Q_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof iu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new tv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function wo(n,e){return{\u0275kind:n,\u0275providers:e}}function ou(n){return[{provide:xv,multi:!0,useValue:n}]}function Mc(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Zn),i=n.get(xc);1===n.get(au)&&r.initialNavigation(),n.get(Nv,null,h.XFs.Optional)?.setUpPreloading(),n.get(Ja,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const xc=new h.OlP("",{factory:()=>new Vi.x}),au=new h.OlP("",{providedIn:"root",factory:()=>1});const Nv=new h.OlP("");function TI(n){return wo(0,[{provide:Nv,useExisting:ti},{provide:bI,useExisting:n}])}const Ov=new h.OlP("ROUTER_FORROOT_GUARD"),SI=[Ae,{provide:BE,useClass:K_},{provide:Zn,useFactory:II},Xg,{provide:na,useFactory:function Ac(n){return n.routerState.root},deps:[Zn]},pm];function AI(){return new h.PXZ("Router",Zn)}let MI=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[SI,[],ou(t),{provide:Ov,useFactory:BT,deps:[[Zn,new h.FiY,new h.tp0]]},{provide:fm,useValue:r||{}},r?.useHash?{provide:ye,useClass:nt}:{provide:ye,useClass:Qe},{provide:Ja,useFactory:()=>{const n=(0,h.f3M)(Zn),e=(0,h.f3M)(cl),t=(0,h.f3M)(fm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new kf(n,e,t)}},r?.preloadingStrategy?TI(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:AI},r?.initialNavigation?kv(r):[],[{provide:ym,useFactory:Mc},{provide:h.tb,multi:!0,useExisting:ym}]]}}static forChild(t){return{ngModule:n,providers:[ou(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ov,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[iI]}),n})();function BT(n){return"guarded"}function kv(n){return["disabled"===n.initialNavigation?wo(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Zn);return()=>{e.setUpLocationChangeListener()}}},{provide:au,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?wo(2,[{provide:au,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const c=e.get(Zn),p=e.get(xc);(function i(l){e.get(Zn).events.pipe(fo(p=>p instanceof iu||p instanceof Kg||p instanceof J_),(0,At.U)(p=>p instanceof iu||p instanceof Kg&&(0===p.code||1===p.code)&&null),fo(p=>null!==p),_c(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),c.afterPreactivation=()=>(l(!0),r||p.closed?Ze(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const ym=new h.OlP("");let _m=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(t,r){}}),n})();var _e=k(5861);let vm=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Xa=(()=>{class n extends vm{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const ks=new h.OlP("NgValueAccessor"),RI={provide:ks,useExisting:(0,h.Gpc)(()=>nh),multi:!0},Fv=new h.OlP("CompositionEventMode");let nh=(()=>{class n extends vm{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function NI(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Fv,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([RI]),h.qOj]}),n})();function el(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Vv(n){return null!=n&&"number"==typeof n.length}const jr=new h.OlP("NgValidators"),tl=new h.OlP("NgAsyncValidators"),GT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rh{static min(e){return function Uv(n){return e=>{if(el(e.value)||el(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bv(n){return e=>{if(el(e.value)||el(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Em(e)}static requiredTrue(e){return function Hv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function jv(n){return el(n.value)||GT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function $v(n){return e=>el(e.value)||!Vv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Gv(n){return e=>Vv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function zv(n){if(!n)return Vf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(el(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return kI(e)}static composeAsync(e){return Zv(e)}}function Em(n){return el(n.value)?{required:!0}:null}function Vf(n){return null}function Wv(n){return null!=n}function qv(n){return(0,h.QGY)(n)?(0,wn.D)(n):n}function zT(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function OI(n,e){return e.map(t=>t(n))}function Kv(n){return n.map(e=>function WT(n){return!n.validate}(e)?e:t=>e.validate(t))}function kI(n){if(!n)return null;const e=n.filter(Wv);return 0==e.length?null:function(t){return zT(OI(t,e))}}function or(n){return null!=n?kI(Kv(n)):null}function Zv(n){if(!n)return null;const e=n.filter(Wv);return 0==e.length?null:function(t){return function jT(...n){const e=(0,nu.jO)(n),{args:t,keys:r}=CE(n),i=new Jo.y(l=>{const{length:c}=t;if(!c)return void l.complete();const p=new Array(c);let y=c,I=c;for(let T=0;T<c;T++){let M=!1;(0,Ng.Xf)(t[T]).subscribe((0,Xr.x)(l,L=>{M||(M=!0,I--),p[T]=L},()=>y--,void 0,()=>{(!y||!M)&&(I||l.next(r?TE(r,p):p),l.complete())}))}});return e?i.pipe(Xo(e)):i}(OI(t,e).map(qv)).pipe((0,At.U)(zT))}}function Yv(n){return null!=n?Zv(Kv(n)):null}function LI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qv(n){return n._rawValidators}function FI(n){return n._rawAsyncValidators}function Im(n){return n?Array.isArray(n)?n:[n]:[]}function Uf(n,e){return Array.isArray(n)?n.includes(e):n===e}function Pc(n,e){const t=Im(e);return Im(n).forEach(i=>{Uf(t,i)||t.push(i)}),t}function VI(n,e){return Im(e).filter(t=>!Uf(n,t))}class UI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=or(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ni extends UI{get formDirective(){return null}get path(){return null}}class lu extends UI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jv{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bf=(()=>{class n extends Jv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(lu,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),us=(()=>{class n extends Jv{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ni,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const uu="VALID",Dm="INVALID",Rc="PENDING",ih="DISABLED";function $f(n){return(Gf(n)?n.validators:n)||null}function Cm(n){return Array.isArray(n)?or(n):n||null}function Tm(n,e){return(Gf(e)?e.asyncValidators:n)||null}function ew(n){return Array.isArray(n)?Yv(n):n||null}function Gf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function tw(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function nw(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})}class zf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cm(this._rawValidators),this._composedAsyncValidatorFn=ew(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uu}get invalid(){return this.status===Dm}get pending(){return this.status==Rc}get disabled(){return this.status===ih}get enabled(){return this.status!==ih}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ew(e)}addValidators(e){this.setValidators(Pc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VI(e,this._rawAsyncValidators))}hasValidator(e){return Uf(this._rawValidators,e)}hasAsyncValidator(e){return Uf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ih,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uu||this.status===Rc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ih:uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rc,this._hasOwnPendingAsyncValidator=!0;const t=qv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?ih:this.errors?Dm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rc)?Rc:this._anyControlsHaveStatus(Dm)?Dm:uu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class sh extends zf{constructor(e,t,r){super($f(t),Tm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){nw(this,0,e),Object.keys(e).forEach(r=>{tw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class GI extends sh{}function Wf(n,e){rw(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function XT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zI(n,e)})}(n,e),function tS(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function eS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JT(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Am(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rw(n,e){const t=Qv(n);null!==e.validator?n.setValidators(LI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=FI(n);null!==e.asyncValidator?n.setAsyncValidators(LI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Mm(e._rawValidators,i),Mm(e._rawAsyncValidators,i)}function xm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Qv(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=FI(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(c=>c!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Mm(e._rawValidators,r),Mm(e._rawAsyncValidators,r),t}function zI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function WI(n,e){rw(n,e)}function sw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const ZI={provide:ni,useExisting:(0,h.Gpc)(()=>qf)},oh=(()=>Promise.resolve())();let qf=(()=>{class n extends ni{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new sh({},or(t),Yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){oh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Wf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){oh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){oh.then(()=>{const r=this._findContainer(t.path),i=new sh({});WI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){oh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){oh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,sw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jr,10),h.Y36(tl,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ZI]),h.qOj]}),n})();function cu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function YI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Kf=class extends zf{constructor(e=null,t,r){super($f(t),Tm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=YI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Om=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Lm=new h.OlP("NgModelWithFormControlWarning"),uS={provide:ni,useExisting:(0,h.Gpc)(()=>Qf)};let Qf=(()=>{class n extends ni{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Wf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Am(t.control||null,t,!1),function KI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,sw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Am(r||null,t),(n=>n instanceof Kf)(i)&&(Wf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);WI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function nS(n,e){return xm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rw(this.form,this),this._oldForm&&xm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jr,10),h.Y36(tl,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([uS]),h.qOj,h.TTD]}),n})();const ib={provide:lu,useExisting:(0,h.Gpc)(()=>ep)};let ep=(()=>{class n extends lu{constructor(t,r,i,l,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Rm(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===nh?t=l:function qI(n){return Object.getPrototypeOf(n.constructor)===Xa}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Pm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Sm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(ni,13),h.Y36(jr,10),h.Y36(tl,10),h.Y36(ks,10),h.Y36(Lm,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([ib]),h.qOj,h.TTD]}),n})(),kc=(()=>{class n{constructor(){this._validator=Vf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const cb={provide:jr,useExisting:(0,h.Gpc)(()=>np),multi:!0};let np=(()=>{class n extends kc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>Em}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([cb]),h.qOj]}),n})(),gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ow]}),n})(),mb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gb]}),n})(),yb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lm,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gb]}),n})();class hw extends zf{constructor(e,t,r){super($f(t),Tm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){nw(this,0,e),e.forEach((r,i)=>{tw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _b(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Um=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let l={};return _b(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new sh(i,l)}record(t,r=null){const i=this._reduceControls(t);return new GI(i,r)}control(t,r,i){let l={};return this.useNonNullable?(_b(r)?l=r:(l.validators=r,l.asyncValidators=i),new Kf(t,{...l,nonNullable:!0})):new Kf(t,r,i)}array(t,r,i){const l=t.map(c=>this._createControl(c));return new hw(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Kf||t instanceof zf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:yb}),n})();var bS=k(6451),Bm=k(5363),DS=k(6063);class fw extends Vi.x{constructor(e=1/0,t=1/0,r=DS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var CS=k(3099);function pw(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,CS.B)({connector:()=>new fw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function vb(n,e){return(0,mc.m)(e)?Un(()=>n,e):Un(()=>n)}var gw=k(9468),ri=k(5813),Io=k(2011);k(5867);var nl=k(9681),$m=k(4859),$t=k(2090),ds=k(1877);const mw=new Map,MS={activated:!1,tokenObservers:[]},yP={initialized:!1,enabled:!1};function yr(n){return mw.get(n)||MS}function hs(n,e){mw.set(n,e)}function Gm(){return yP}class Ab{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function Mb(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ii=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xb(n){if(!yr(n).activated)throw Ii.create("use-before-activation",{appName:n.name})}function qm(n,e){return ww.apply(this,arguments)}function ww(){return(ww=(0,_e.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const B=yield c.getHeartbeatsHeader();B&&(l["X-Firebase-Client"]=B)}const p={method:"POST",body:JSON.stringify(e),headers:l};let y,I;try{y=yield fetch(n,p)}catch(B){throw Ii.create("fetch-network-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}if(200!==y.status)throw Ii.create("fetch-status-error",{httpStatus:y.status});try{I=yield y.json()}catch(B){throw Ii.create("fetch-parse-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}const T=I.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const M=1e3*Number(T[1]),L=Date.now();return{token:I.token,expireTimeMillis:L+M,issuedAtTimeMillis:L}})).apply(this,arguments)}function vP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const lh="firebase-app-check-store";let sp=null;function Pb(){return sp||(sp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(Ii.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(lh,{keyPath:"compositeKey"})}}catch(r){e(Ii.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),sp)}function Km(){return(Km=(0,_e.Z)(function*(n,e){const r=(yield Pb()).transaction(lh,"readwrite"),l=r.objectStore(lh).put({compositeKey:n,value:e});return new Promise((c,p)=>{l.onsuccess=y=>{c()},r.onerror=y=>{var I;p(Ii.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const ch=new ds.Yd("@firebase/app-check");function bw(n,e){return(0,$t.hl)()?function kS(n,e){return function Nb(n,e){return Km.apply(this,arguments)}(function Iw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ch.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Dw(){return Gm().enabled}function Lb(){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,_e.Z)(function*(){const n=Gm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const BS={error:"UNKNOWN_ERROR"};function op(n){return $t.US.encodeString(JSON.stringify(n),!1)}function Qm(n){return ap.apply(this,arguments)}function ap(){return(ap=(0,_e.Z)(function*(n,e=!1){const t=n.app;xb(t);const r=yr(t);let l,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&Xm(y)&&(i=y)}if(!e&&i&&Xm(i))return{token:i.token};let p,c=!1;if(Dw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qm(vP(t,yield Lb()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),c=!0);const y=yield r.exchangeTokenPromise;return yield bw(t,y),hs(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?ch.warn(y.message):ch.error(y),l=y}return i?(p={token:i.token},hs(t,Object.assign(Object.assign({},r),{token:i})),yield bw(t,i)):p=HS(l),c&&Fb(t,p),p})).apply(this,arguments)}function Tw(n,e){const t=yr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),hs(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Jm(n){const{app:e}=n,t=yr(e);let r=t.tokenRefresher;r||(r=function lp(n){const{app:e}=n;return new Ab((0,_e.Z)(function*(){let r;if(r=yr(e).token?yield Qm(n,!0):yield Qm(n),r.error)throw r.error}),()=>!0,()=>{const t=yr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),hs(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Fb(n,e){const t=yr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Xm(n){return n.expireTimeMillis-Date.now()>0}function HS(n){return{token:op(BS),error:n}}class ey{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yr(this.app);for(const t of e)Tw(this.app,t.next);return Promise.resolve()}}const Pw="app-check-internal";!function KS(){(0,nl._registerComponent)(new $m.wA("app-check",n=>function ty(n,e){return new ey(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pw).initialize()})),(0,nl._registerComponent)(new $m.wA(Pw,n=>function jS(n){return{getToken:e=>Qm(n,e),addTokenListener:e=>function Ls(n,e,t,r){const{app:i}=n,l=yr(i),c={next:t,error:r,type:e};if(hs(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&Xm(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),Jm(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Jm(n))}(n,"INTERNAL",e),removeTokenListener:e=>Tw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nl.registerVersion)("@firebase/app-check","0.5.12")}();class $r{constructor(){return(0,ri.vb)("app-check")}}typeof window<"u"&&window,k(127);const Lw=new h.OlP("angularfire2.auth.use-emulator"),dp=new h.OlP("angularfire2.auth.settings"),oy=new h.OlP("angularfire2.auth.tenant-id"),YS=new h.OlP("angularfire2.auth.langugage-code"),Fw=new h.OlP("angularfire2.auth.use-device-language"),Xb=new h.OlP("angularfire.auth.persistence"),Vw=(n,e,t,r,i,l,c,p)=>(0,Io.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),c)for(const[I,T]of Object.entries(c))y.settings[I]=T;return p&&y.setPersistence(p),y},[t,r,i,l,c,p]);let du=(()=>{class n{constructor(t,r,i,l,c,p,y,I,T,M,L,B){const Z=new Vi.x,ue=Ze(void 0).pipe((0,Bm.Q)(c.outsideAngular),Un(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2274)))),(0,At.U)(()=>(0,Io.on)(t,l,r)),(0,At.U)(Ie=>Vw(Ie,l,p,I,T,M,y,L)),pw({bufferSize:1,refCount:!1}));if(ur(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ze(null);else{ue.pipe($a()).subscribe();const We=ue.pipe(Un(st=>st.getRedirectResult().then(Dt=>Dt,()=>null)),ri.iC,pw({bufferSize:1,refCount:!1})),tt=ue.pipe(Un(st=>new Jo.y(Dt=>({unsubscribe:l.runOutsideAngular(()=>st.onAuthStateChanged(Tt=>Dt.next(Tt),Tt=>Dt.error(Tt),()=>Dt.complete()))})))),pt=ue.pipe(Un(st=>new Jo.y(Dt=>({unsubscribe:l.runOutsideAngular(()=>st.onIdTokenChanged(Tt=>Dt.next(Tt),Tt=>Dt.error(Tt),()=>Dt.complete()))}))));this.authState=We.pipe(vb(tt),(0,gw.R)(c.outsideAngular),(0,Bm.Q)(c.insideAngular)),this.user=We.pipe(vb(pt),(0,gw.R)(c.outsideAngular),(0,Bm.Q)(c.insideAngular)),this.idToken=this.user.pipe(Un(st=>st?(0,wn.D)(st.getIdToken()):Ze(null))),this.idTokenResult=this.user.pipe(Un(st=>st?(0,wn.D)(st.getIdTokenResult()):Ze(null))),this.credential=(0,bS.T)(We,Z,this.authState.pipe(fo(st=>!st))).pipe((0,At.U)(st=>st?.user?st:null),(0,gw.R)(c.outsideAngular),(0,Bm.Q)(c.insideAngular))}return(0,Io.pX)(this,ue,l,{spy:{apply:(Ie,We,tt)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&tt.then(pt=>Z.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Io.Dh),h.LFG(Io.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ri.HU),h.LFG(Lw,8),h.LFG(dp,8),h.LFG(oy,8),h.LFG(YS,8),h.LFG(Fw,8),h.LFG(Xb,8),h.LFG($r,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ay=(()=>{class n{constructor(t){this.firebase=t,this.logged=new Ui(!1)}Register(t){return this.firebase.createUserWithEmailAndPassword(t.email,t.password)}Login(t,r){try{this.firebase.signInWithEmailAndPassword(t,r).then(l=>(null!=l.user&&this.logged.next(!0),l)).catch(l=>l.code)}catch(i){return i}}LogOut(){var t=this;return(0,_e.Z)(function*(){try{let r=yield t.firebase.signOut();return t.logged.next(!1),r}catch{return null}})()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(du))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Uw=k(4986);function eD(){return(0,Br.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xr.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function MP(n,e){return n===e}k(2274);var et,JS=k(3942),XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ia={},Bw=Bw||{},Mt=XS||self;function hp(){}function Hw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jw="closure_uid_"+(1e9*Math.random()>>>0),nD=0;function rD(n,e,t){return n.call.apply(n.bind,arguments)}function iD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ar(n,e,t){return(Ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rD:iD).apply(null,arguments)}function ly(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Lc(){this.s=this.s,this.o=this.o}var PP={};Lc.prototype.s=!1,Lc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function tD(n){return Object.prototype.hasOwnProperty.call(n,jw)&&n[jw]||(n[jw]=++nD)}(this);delete PP[n]}},Lc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},tA=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function nA(n){return Array.prototype.concat.apply([],arguments)}function oD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $w(n){return/^[\s\xa0]*$/.test(n)}var ii,rA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mr(n,e){return-1!=n.indexOf(e)}function aD(n,e){return n<e?-1:n>e?1:0}e:{var pp=Mt.navigator;if(pp){var Gw=pp.userAgent;if(Gw){ii=Gw;break e}}ii=""}function uy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function iA(n){const e={};for(const t in n)e[t]=n[t];return e}var cy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<cy.length;l++)t=cy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ww(n){return Ww[" "](n),n}Ww[" "]=hp;var Kw,n,NP=Mr(ii,"Opera"),dh=Mr(ii,"Trident")||Mr(ii,"MSIE"),uD=Mr(ii,"Edge"),qw=uD||dh,gp=Mr(ii,"Gecko")&&!(Mr(ii.toLowerCase(),"webkit")&&!Mr(ii,"Edge"))&&!(Mr(ii,"Trident")||Mr(ii,"MSIE"))&&!Mr(ii,"Edge"),sA=Mr(ii.toLowerCase(),"webkit")&&!Mr(ii,"Edge");function oA(){var n=Mt.document;return n?n.documentMode:void 0}e:{var cD="",Zw=(n=ii,gp?/rv:([^\);]+)(\)|;)/.exec(n):uD?/Edge\/([\d\.]+)/.exec(n):dh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sA?/WebKit\/(\S+)/.exec(n):NP?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zw&&(cD=Zw?Zw[1]:""),dh){var Yw=oA();if(null!=Yw&&Yw>parseFloat(cD)){Kw=String(Yw);break e}}Kw=cD}var aA={};var dD=Mt.document&&dh&&(oA()||parseInt(Kw,10))||void 0,kP=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",hp,e),Mt.removeEventListener("test",hp,e)}catch{}return n}();function En(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function mp(n,e){if(En.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gp){e:{try{Ww(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mp.Z.h.call(this)}}En.prototype.h=function(){this.defaultPrevented=!0},Gr(mp,En);var Xw={2:"touch",3:"pen",4:"mouse"};mp.prototype.h=function(){mp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yp="closure_listenable_"+(1e6*Math.random()|0),Fs=0;function lA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Fs,this.ca=this.fa=!1}function hh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function dy(n){this.src=n,this.g={},this.h=0}function e0(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=eA(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(hh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _p(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}dy.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=_p(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new lA(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var hy="closure_lm_"+(1e6*Math.random()|0),fy={};function hD(n,e,t,r,i){if(r&&r.once)return pD(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)hD(n,e[l],t,r,i);return null}return t=bo(t),n&&n[yp]?n.N(e,t,fp(r)?!!r.capture:!!r,i):t0(n,e,t,!1,r,i)}function t0(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=fp(i)?!!i.capture:!!i,p=gy(n);if(p||(n[hy]=p=new dy(n)),(t=p.add(e,t,r,c,l)).proxy)return t;if(r=function fD(){var e=hu;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kP||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(py(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function pD(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pD(n,e[l],t,r,i);return null}return t=bo(t),n&&n[yp]?n.O(e,t,fp(r)?!!r.capture:!!r,i):t0(n,e,t,!0,r,i)}function n0(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)n0(n,e[l],t,r,i);else r=fp(r)?!!r.capture:!!r,t=bo(t),n&&n[yp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_p(l=n.g[e],t,r,i))&&(hh(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=gy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_p(e,t,r,i)),(t=-1<n?e[n]:null)&&r0(t))}function r0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[yp])e0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(py(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=gy(e))?(e0(t,n),0==t.h&&(t.src=null,e[hy]=null)):hh(n)}}}function py(n){return n in fy?fy[n]:fy[n]="on"+n}function hu(n,e){if(n.ca)n=!0;else{e=new mp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&r0(n),n=t.call(r,e)}return n}function gy(n){return(n=n[hy])instanceof dy?n:null}var vp="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(n){return"function"==typeof n?n:(n[vp]||(n[vp]=function(e){return n.handleEvent(e)}),n[vp])}function xr(){Lc.call(this),this.i=new dy(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new En(e,n);else if(e instanceof En)e.target=e.target||n;else{var i=e;zw(e=new En(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=my(c,r,!0,e)&&i}if(i=my(c=e.g=n,r,!0,e)&&i,i=my(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=my(c=e.g=t[l],r,!1,e)&&i}function my(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&e0(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}Gr(xr,Lc),xr.prototype[yp]=!0,xr.prototype.removeEventListener=function(n,e,t,r){n0(this,n,e,t,r)},xr.prototype.M=function(){if(xr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hh(t[r]);delete n.g[e],n.h--}}this.I=null},xr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var s0=Mt.JSON.stringify;function uA(){var n=l0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var yy,o0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LP,n=>n.reset());class LP{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gD(n){Mt.setTimeout(()=>{throw n},0)}function a0(n,e){yy||function FP(){var n=Mt.Promise.resolve(void 0);yy=function(){n.then(mD)}}(),wp||(yy(),wp=!0),l0.add(n,e)}var wp=!1,l0=new class cA{constructor(){this.h=this.g=null}add(e,t){const r=o0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mD(){for(var n;n=uA();){try{n.h.call(n.g)}catch(t){gD(t)}var e=o0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}wp=!1}function Ep(n,e){xr.call(this),this.h=n||1,this.g=e||Mt,this.j=Ar(this.kb,this),this.l=Date.now()}function _y(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function vy(n,e,t){if("function"==typeof n)t&&(n=Ar(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ar(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function Ip(n){n.g=vy(()=>{n.g=null,n.i&&(n.i=!1,Ip(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gr(Ep,xr),(et=Ep.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),si(this,"tick"),this.da&&(_y(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){Ep.Z.M.call(this),_y(this),delete this.g};class wy extends Lc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ip(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fh(n){Lc.call(this),this.h=n,this.g={}}Gr(fh,Lc);var yD=[];function u0(n,e,t,r){Array.isArray(t)||(t&&(yD[0]=t.toString()),t=yD);for(var i=0;i<t.length;i++){var l=hD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function c0(n){uy(n.g,function(e,t){this.g.hasOwnProperty(t)&&r0(e)},n),n.g={}}function Ey(){this.g=!0}function bp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return s0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}fh.prototype.M=function(){fh.Z.M.call(this),c0(this)},fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ey.prototype.Aa=function(){this.g=!1},Ey.prototype.info=function(){};var Fc={},vD=null;function d0(){return vD=vD||new xr}function fA(n){En.call(this,Fc.Ma,n)}function Iy(n){const e=d0();si(e,new fA(e,n))}function pA(n,e){En.call(this,Fc.STAT_EVENT,n),this.stat=e}function Hi(n){const e=d0();si(e,new pA(e,n))}function wD(n,e){En.call(this,Fc.Na,n),this.size=e}function fu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Fc.Ma="serverreachability",Gr(fA,En),Fc.STAT_EVENT="statevent",Gr(pA,En),Fc.Na="timingevent",Gr(wD,En);var by={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ED={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dy(){}function h0(){}Dy.prototype.h=null;var Cp,Vc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dp(){En.call(this,"d")}function f0(){En.call(this,"c")}function ph(){}function gu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new fh(this),this.P=UP,this.W=new Ep(n=qw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gA}function gA(){this.i=null,this.g="",this.h=!1}Gr(Dp,En),Gr(f0,En),Gr(ph,Dy),ph.prototype.g=function(){return new XMLHttpRequest},ph.prototype.i=function(){return{}},Cp=new ph;var UP=45e3,ID={},p0={};function Cy(n,e,t){n.K=1,n.v=_0(rl(e)),n.s=t,n.U=!0,bD(n,null)}function bD(n,e){n.F=Date.now(),gh(n),n.A=rl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),v(t.h,"t",r),n.C=0,t=n.l.H,n.h=new gA,n.g=oR(n.l,t?e:null,!n.s),0<n.O&&(n.L=new wy(Ar(n.Ia,n,n.g),n.O)),u0(n.V,n.g,"readystatechange",n.gb),e=n.H?iA(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Iy(1),function dA(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",p=l.split("&"),y=0;y<p.length;y++){var I=p[y].split("=");if(1<I.length){var T=I[0];I=I[1];var M=T.split("_");c=2<=M.length&&"type"==M[1]?c+(T+"=")+I+"&":c+(T+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function DD(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function CD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=mA(n,t),i==p0){4==e&&(n.o=4,Hi(14),r=!1),bp(n.j,n.m,null,"[Incomplete Response]");break}if(i==ID){n.o=4,Hi(15),bp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bp(n.j,n.m,i,null),Ty(n,i)}DD(n)&&i!=p0&&i!=ID&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),DA(e),e.L=!0,Hi(11))):(bp(n.j,n.m,t,"[Invalid Chunked Response]"),Uc(n),Sp(n))}function mA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?p0:(t=Number(e.substring(t,r)),isNaN(t)?ID:(r+=1)+t>e.length?p0:(e=e.substr(r,t),n.C=r+t,e))}function gh(n){n.Y=Date.now()+n.P,g0(n,n.P)}function g0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fu(Ar(n.eb,n),e)}function Tp(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Sp(n){0==n.l.G||n.I||nR(n.l,n)}function Uc(n){Tp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,_y(n.W),c0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ty(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ee(t.i,n)))if(t.I=n.N,!n.J&&Ee(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;PD(t),MD(t)}bA(t),Hi(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=fu(Ar(t.ab,t),6e3));if(1>=te(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else xp(t,11)}else if((n.J||t.g==n)&&PD(t),!$w(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const T=I[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const M=I[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const L=I[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var l=r.i;!l.g&&(Mr(Z,"spdy")||Mr(Z,"quic")||Mr(Z,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Re(l,l.h),l.h=null))}if(r.D){const ue=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(r.sa=ue,Bn(r.F,r.D,ue))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=sR(r,r.H?r.la:null,r.W),c.J){$e(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(Tp(p),gh(p)),r.g=c}else eR(r);0<t.l.length&&xD(t)}else"stop"!=I[0]&&"close"!=I[0]||xp(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?xp(t,7):EA(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}Iy(4)}catch{}}function TD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hw(n)||"string"==typeof n)tA(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Hw(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function m0(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Hw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Bc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Bc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ap(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Hc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Hc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Hc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=gu.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Gc(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const T=Gc(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||qw||this.g&&(this.h.h||this.g.ga()||ZP(this.g)))){this.I||4!=T||7==e||Iy(8==e||0>=M?3:2),Tp(this);var t=this.g.ba();this.N=t;t:if(DD(this)){var r=ZP(this.g);n="";var i=r.length,l=4==Gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uc(this),Sp(this);var c="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function VP(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$w(p)){var I=p;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Hi(12),Uc(this),Sp(this);break e}bp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ty(this,t)}this.U?(CD(this,T,c),qw&&this.i&&3==T&&(u0(this.V,this.W,"tick",this.fb),this.W.start())):(bp(this.j,this.m,c,null),Ty(this,c)),4==T&&Uc(this),this.i&&!this.I&&(4==T?nR(this.l,this):(this.i=!1,gh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),Uc(this),Sp(this)}}}catch{}},et.fb=function(){if(this.g){var n=Gc(this.g),e=this.g.ga();this.C<e.length&&(Tp(this),CD(this,n,e),this.i&&4!=n&&gh(this))}},et.cancel=function(){this.I=!0,Uc(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function _D(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Iy(3),Hi(17)),Uc(this),this.o=2,Sp(this)):g0(this,this.Y-n)},(et=Bc.prototype).R=function(){Ap(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return Ap(this),this.g.concat()},et.get=function(n,e){return Hc(this.h,n)?this.h[n]:e},et.set=function(n,e){Hc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var SD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof mh){this.g=void 0!==e?e:n.g,Sy(this,n.j),this.s=n.s,Ay(this,n.i),y0(this,n.m),this.l=n.l,e=n.h;var t=new a;t.i=e.i,e.g&&(t.g=new Bc(e.g),t.h=e.h),yA(this,t),this.o=n.o}else n&&(t=String(n).match(SD))?(this.g=!!e,Sy(this,t[1]||"",!0),this.s=My(t[2]||""),Ay(this,t[3]||"",!0),y0(this,t[4]),this.l=My(t[5]||"",!0),yA(this,t[6]||"",!0),this.o=My(t[7]||"")):(this.g=!!e,this.h=new a(null,this.g))}function rl(n){return new mh(n)}function Sy(n,e,t){n.j=t?My(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ay(n,e,t){n.i=t?My(e,!0):e}function y0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yA(n,e,t){e instanceof a?(n.h=e,function b(n,e){e&&!n.j&&(u(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(d(this,r),v(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=xy(e,s)),n.h=new a(e,n.g))}function Bn(n,e,t){n.h.set(e,t)}function _0(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function My(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jP),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xy(e,vA,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xy(e,vA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(xy(t,"/"==t.charAt(0)?GP:$P,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xy(t,o)),n.join("")};var vA=/[#\/\?@]/g,$P=/[#\?:]/g,GP=/[#\?]/g,s=/[#\?@]/g,o=/#/g;function a(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function u(n){n.g||(n.g=new Bc,n.h=0,n.i&&function BP(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function d(n,e){u(n),e=E(n,e),Hc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Hc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ap(n)))}function g(n,e){return u(n),e=E(n,e),Hc(n.g.h,e)}function v(n,e,t){d(n,e),0<t.length&&(n.i=null,n.g.set(E(n,e),oD(t)),n.h+=t.length)}function E(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function P(n){this.l=n||O,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=a.prototype).add=function(n,e){u(this),this.i=null,n=E(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){u(this),this.g.forEach(function(t,r){tA(t,function(i){n.call(e,i,r,this)},this)},this)},et.T=function(){u(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},et.R=function(n){u(this);var e=[];if("string"==typeof n)g(this,n)&&(e=nA(e,this.g.get(E(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=nA(e,n[t])}return e},et.set=function(n,e){return u(this),this.i=null,g(this,n=E(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=i;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var O=10;function W(n){return!!n.h||!!n.g&&n.g.size>=n.j}function te(n){return n.h?1:n.g?n.g.size:0}function Ee(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Re(n,e){n.g?n.g.add(e):n.h=e}function $e(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Je(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return oD(n.i)}function vt(){}function xe(){this.g=new vt}function gt(n,e,t){const r=t||"";try{TD(n,function(i,l){let c=i;fp(i)&&(c=s0(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Do(n){this.l=n.$b||null,this.j=n.ib||!1}function yh(n,e){xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Mp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vt.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},vt.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},Gr(Do,Dy),Do.prototype.g=function(){return new yh(this.l,this.j)},Do.prototype.i=function(n){return function(){return n}}({}),Gr(yh,xr);var Mp=0;function Py(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function jc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,$c(n)}function $c(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=yh.prototype).open=function(n,e){if(this.readyState!=Mp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,$c(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jc(this)),this.readyState=Mp},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,$c(this)),this.g&&(this.readyState=3,$c(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Mt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Py(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jc(this):$c(this),3==this.readyState&&Py(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,jc(this))},et.Ta=function(n){this.g&&(this.response=n,jc(this))},et.ha=function(){this.g&&jc(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var v0=Mt.JSON.parse;function Qn(n){xr.call(this),this.headers=new Bc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ry,this.K=this.L=!1}Gr(Qn,xr);var Ry="",w0=/^https?$/i,Zk=["POST","PUT"];function Qk(n){return"content-type"==n.toLowerCase()}function zP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,WP(n),AD(n)}function WP(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function qP(n){if(n.h&&typeof Bw<"u"&&(!n.C[1]||4!=Gc(n)||2!=n.ba()))if(n.v&&4==Gc(n))vy(n.Fa,0,n);else if(si(n,"readystatechange"),4==Gc(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(SD)[1]||null;if(!i&&Mt.self&&Mt.self.location){var l=Mt.self.location.protocol;i=l.substr(0,l.length-1)}r=!w0.test(i?i.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var c=2<Gc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",WP(n)}}finally{AD(n)}}}function AD(n,e){if(n.g){KP(n);const t=n.g,r=n.C[0]?hp:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch{}}}function KP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function Gc(n){return n.g?n.g.readyState:0}function ZP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ry:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Jk(n){let e="";return uy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function E0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YP(n){this.za=0,this.l=[],this.h=new Ey,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=E0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=E0("baseRetryDelayMs",5e3,n),this.$a=E0("retryDelaySeedMs",1e4,n),this.Ya=E0("forwardChannelMaxRetries",2,n),this.ra=E0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new P(n&&n.concurrentRequestLimit),this.Ca=new xe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function EA(n){if(QP(n),3==n.G){var e=n.V++,t=rl(n.F);Bn(t,"SID",n.J),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),I0(n,t),(e=new gu(n,n.h,e,void 0)).K=2,e.v=_0(rl(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=oR(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gh(e)}iR(n)}function MD(n){n.g&&(DA(n),n.g.cancel(),n.g=null)}function QP(n){MD(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),PD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function IA(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&xD(n)}function xD(n){W(n.i)||n.m||(n.m=!0,a0(n.Ha,n),n.C=0)}function JP(n,e){var t;t=e?e.m:n.V++;const r=rl(n.F);Bn(r,"SID",n.J),Bn(r,"RID",t),Bn(r,"AID",n.U),I0(n,r),n.o&&n.s&&wA(r,n.o,n.s),t=new gu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=XP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Re(n.i,t),Cy(t,r,e)}function I0(n,e){n.j&&TD({},function(t,r){Bn(e,r,t)})}function XP(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ar(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let p=!0;for(let y=0;y<t;y++){let I=i[y].h;const T=i[y].g;if(I-=l,0>I)l=Math.max(0,i[y].h-100),p=!1;else try{gt(T,c,"req"+I+"_")}catch{r&&r(T)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function eR(n){n.g||n.u||(n.Y=1,a0(n.Ga,n),n.A=0)}function bA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=fu(Ar(n.Ga,n),rR(n,n.A)),n.A++,0))}function DA(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function tR(n){n.g=new gu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=rl(n.oa);Bn(e,"RID","rpc"),Bn(e,"SID",n.J),Bn(e,"CI",n.N?"0":"1"),Bn(e,"AID",n.U),I0(n,e),Bn(e,"TYPE","xmlhttp"),n.o&&n.s&&wA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=_0(rl(e)),t.s=null,t.U=!0,bD(t,n)}function PD(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function nR(n,e){var t=null;if(n.g==e){PD(n),DA(n),n.g=null;var r=2}else{if(!Ee(n.i,e))return;t=e.D,$e(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;si(r=d0(),new wD(r,t,e,i)),xD(n)}else eR(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Xk(n,e){return!(te(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=fu(Ar(n.Ha,n,e),rR(n,n.C)),n.C++,0)))}(n,e)||2==r&&bA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:xp(n,5);break;case 4:xp(n,10);break;case 3:xp(n,6);break;default:xp(n,2)}}function rR(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function xp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ar(n.jb,n);t||(t=new mh("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||Sy(t,"https"),_0(t)),function qt(n,e){const t=new Ey;if(Mt.Image){const r=new Image;r.onload=ly(pn,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ly(pn,t,r,"TestLoadImage: error",!1,e),r.onabort=ly(pn,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ly(pn,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hi(2);n.G=0,n.j&&n.j.va(e),iR(n),QP(n)}function iR(n){n.G=0,n.I=-1,n.j&&((0!=Je(n.i).length||0!=n.l.length)&&(n.i.i.length=0,oD(n.l),n.l.length=0),n.j.ua())}function sR(n,e,t){let r=function HP(n){return n instanceof mh?rl(n):new mh(n,void 0)}(t);if(""!=r.i)e&&Ay(r,e+"."+r.i),y0(r,r.m);else{const i=Mt.location;r=function _A(n,e,t,r){var i=new mh(null,void 0);return n&&Sy(i,n),e&&Ay(i,e),t&&y0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&uy(n.aa,function(i,l){Bn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Bn(r,e,t),Bn(r,"VER",n.ma),I0(n,r),r}function oR(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&n.Ba&&!n.qa?new Do({ib:!0}):n.qa)).L=n.H,e}function aR(){}function RD(){if(dh&&!(10<=Number(dD)))throw Error("Environmental error: no available transport.")}function Co(n,e){xr.call(this),this.g=new YP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$w(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$w(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ny(this)}function lR(n){Dp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uR(){f0.call(this),this.status=1}function Ny(n){this.g=n}(et=Qn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cp.g(),this.C=function pu(n){return n.h||(n.h=n.i())}(this.u?this.u:Cp),this.g.onreadystatechange=Ar(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void zP(this,l)}n=t||"";const i=new Bc(this.headers);r&&TD(r,function(l,c){i.set(c,l)}),r=function RP(n){e:{var e=Qk;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Mt.FormData&&n instanceof Mt.FormData,!(0<=eA(Zk,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KP(this),0<this.B&&((this.K=function Yk(n){return dh&&function OP(){return function lD(n){var e=aA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=rA(String(Kw)).split("."),t=rA("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=aD(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||aD(0==i[2].length,0==l[2].length)||aD(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ar(this.pa,this)):this.A=vy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){zP(this,l)}},et.pa=function(){typeof Bw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),AD(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),AD(this,!0)),Qn.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?qP(this):this.cb())},et.cb=function(){qP(this)},et.ba=function(){try{return 2<Gc(this)?this.g.status:-1}catch{return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),v0(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=YP.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new gu(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=iA(l),zw(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=XP(this,i,e),Bn(t=rl(this.F),"RID",n),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),I0(this,t),this.o&&l&&wA(t,this.o,l),Re(this.i,i),this.Ra&&Bn(t,"TYPE","init"),this.ja?(Bn(t,"$req",e),Bn(t,"SID","null"),i.$=!0,Cy(i,t,null)):Cy(i,t,e),this.G=2}}else 3==this.G&&(n?JP(this,n):0==this.l.length||W(this.i)||JP(this))},et.Ga=function(){if(this.u=null,tR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=fu(Ar(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hi(10),MD(this),tR(this))},et.ab=function(){null!=this.v&&(this.v=null,MD(this),bA(this),Hi(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Hi(2)):(this.h.info("Failed to ping google.com"),Hi(1))},(et=aR.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},RD.prototype.g=function(n,e){return new Co(n,e)},Gr(Co,xr),Co.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),a0(Ar(n.hb,n,e))),Hi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sR(n,null,n.W),xD(n)},Co.prototype.close=function(){EA(this.g)},Co.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,IA(this.g,e)}else this.v?((e={}).__data__=s0(n),IA(this.g,e)):IA(this.g,n)},Co.prototype.M=function(){this.g.j=null,delete this.j,EA(this.g),delete this.g,Co.Z.M.call(this)},Gr(lR,Dp),Gr(uR,f0),Gr(Ny,aR),Ny.prototype.xa=function(){si(this.g,"a")},Ny.prototype.wa=function(n){si(this.g,new lR(n))},Ny.prototype.va=function(n){si(this.g,new uR(n))},Ny.prototype.ua=function(){si(this.g,"b")},RD.prototype.createWebChannel=RD.prototype.g,Co.prototype.send=Co.prototype.u,Co.prototype.open=Co.prototype.m,Co.prototype.close=Co.prototype.close,by.NO_ERROR=0,by.TIMEOUT=8,by.HTTP_ERROR=6,ED.COMPLETE="complete",h0.EventType=Vc,Vc.OPEN="a",Vc.CLOSE="b",Vc.ERROR="c",Vc.MESSAGE="d",xr.prototype.listen=xr.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var e1=ia.createWebChannelTransport=function(){return new RD},t1=ia.getStatEventTarget=function(){return d0()},CA=ia.ErrorCode=by,n1=ia.EventType=ED,r1=ia.Event=Fc,cR=ia.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},i1=ia.FetchXmlHttpFactory=Do,ND=ia.WebChannel=h0,s1=ia.XhrIo=Qn;const dR="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let Oy="9.9.4";const _h=new ds.Yd("@firebase/firestore");function TA(){return _h.logLevel}function ke(n,...e){if(_h.logLevel<=ds.in.DEBUG){const t=e.map(SA);_h.debug(`Firestore (${Oy}): ${n}`,...t)}}function _r(n,...e){if(_h.logLevel<=ds.in.ERROR){const t=e.map(SA);_h.error(`Firestore (${Oy}): ${n}`,...t)}}function Pp(n,...e){if(_h.logLevel<=ds.in.WARN){const t=e.map(SA);_h.warn(`Firestore (${Oy}): ${n}`,...t)}}function SA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Oy}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function xt(n,e){n||rt()}function qe(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oi.UNAUTHENTICATED))}shutdown(){}}class u1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class c1{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let c=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ai,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const I=c;e.enqueueRetryable((0,_e.Z)(function*(){yield I.promise,yield l(r.currentUser)}))},y=I=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ai)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new hR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new oi(e)}}class d1{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class h1{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new d1(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.A;return this.A=l.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.A=t.token,new fR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function p1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class pR{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p1(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function ky(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function gR(n){return n+"\0"}class Jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Jn(0,0))}static max(){return new Ct(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b0{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===b0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof b0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends b0{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const g1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends b0{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return g1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Pe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Pe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Pe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(l(),i++)}if(l(),c)throw new Pe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(sn.fromString(e))}static fromName(e){return new ze(sn.fromString(e).popFirst(5))}static empty(){return new ze(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new sn(e.slice()))}}class OD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function AA(n){return n.fields.find(e=>2===e.kind)}function Rp(n){return n.fields.filter(e=>2!==e.kind)}OD.UNKNOWN_ID=-1;class kD{constructor(e,t){this.fieldPath=e,this.kind=t}}class D0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new D0(0,To.min())}}function mR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(1e9===r?new Jn(t+1,0):new Jn(t,r));return new To(i,ze.empty(),e)}function yR(n){return new To(n.readTime,n.key,-1)}class To{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new To(Ct.min(),ze.empty(),-1)}static max(){return new To(Ct.max(),ze.empty(),-1)}}function MA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const _R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vh(n){return xA.apply(this,arguments)}function xA(){return xA=(0,_e.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==_R)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),xA.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,l=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++l,c&&l===i&&t()},y=>r(y))}),c=!0,l===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const l=e.length,c=new Array(l);let p=0;for(let y=0;y<l;y++){const I=y;t(e[I]).next(T=>{c[I]=T,++p,p===l&&r(c)},T=>i(T))}})}static doWhile(e,t){return new le((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class LD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new C0(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=PA(r.target.error);this.P.reject(new C0(e,i))}}static open(e,t,r,i){try{return new LD(t,e.transaction(i,r))}catch(l){throw new C0(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new v1(t)}}class il{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===il.D((0,$t.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Np(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,$t.hl)())return!1;if(il.N())return!0;const e=(0,$t.z$)(),t=il.D(e),r=0<t&&t<10,i=il.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,_e.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new C0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Pe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Pe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new C0(e,p))},l.onupgradeneeded=c=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,_e.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.F(e);const y=LD.open(l.db,e,c?"readonly":"readwrite",r),I=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),le.reject(T))).toPromise();return I.catch(()=>{}),yield y.v,I}catch(y){const I=y,T="FirebaseError"!==I.name&&p<3;if(ke("SimpleDb","Transaction failed with error:",I.message,"Retrying:",T),l.close(),!T)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _1{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Np(this.U.delete())}}class C0 extends Pe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wh(n){return"IndexedDbTransactionError"===n.name}class v1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Np(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Np(this.store.add(e))}get(e){return Np(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Np(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Np(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(c,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new le((l,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=l=>{const c=PA(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new le((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new _1(p),I=t(p.primaryKey,p.value,y);if(I instanceof le){const T=I.catch(M=>(y.done(),le.reject(M)));r.push(T)}y.isDone?i():null===y.G?p.continue():p.continue(y.G)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Np(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=PA(r.target.error);t(i)}})}let wR=!1;function PA(n){const e=il.D((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wR||(wR=!0,setTimeout(()=>{throw r},0)),r}}return n}class w1{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){wh(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield vh(r)}yield t.nt(1)}))}}class E1{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return le.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return ke("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,l)).next(p=>(ke("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const c=yR(l);MA(c,r)>0&&(r=c)}),new To(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ER(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Op(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Vs.at=-1;class hr{constructor(e,t){this.comparator=e,this.root=t||bi.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new FD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new FD(this.root,e,this.comparator,!1)}getReverseIterator(){return new FD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new FD(this.root,e,this.comparator,!0)}}class FD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??bi.RED,this.left=i??bi.EMPTY,this.right=l??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new bi(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1,bi.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new bi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bR(this.data.getIterator())}getIteratorFrom(e){return new bR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class bR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ly(n){return n.hasNext()?n.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new So([])}unionWith(e){let t=new In(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new So(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ky(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new zr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zr.EMPTY_BYTE_STRING=new zr("");const b1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eh(n){if(xt(!!n),"string"==typeof n){let e=0;const t=b1.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fr(n.seconds),nanos:fr(n.nanos)}}function fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kp(n){return"string"==typeof n?zr.fromBase64String(n):zr.fromUint8Array(n)}function RA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function DR(n){const e=n.mapValue.fields.__previous_value__;return RA(e)?DR(e):e}function T0(n){const e=Eh(n.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}class D1{constructor(e,t,r,i,l,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class Ih{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ih("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}function S0(n){return null==n}function A0(n){return 0===n&&1/n==-1/0}function CR(n){return"number"==typeof n&&Number.isInteger(n)&&!A0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VD={nullValue:"NULL_VALUE"};function Lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RA(n)?4:MR(n)?9007199254740991:10:rt()}function mu(n,e){if(n===e)return!0;const t=Lp(n);if(t!==Lp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return T0(n).isEqual(T0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Eh(r.timestampValue),c=Eh(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,kp(n.bytesValue).isEqual(kp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return fr(r.geoPointValue.latitude)===fr(i.geoPointValue.latitude)&&fr(r.geoPointValue.longitude)===fr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return fr(r.integerValue)===fr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=fr(r.doubleValue),c=fr(i.doubleValue);return l===c?A0(l)===A0(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ky(n.arrayValue.values||[],e.arrayValue.values||[],mu);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(ER(l)!==ER(c))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===c[p]||!mu(l[p],c[p])))return!1;return!0}(n,e);default:return rt()}var i}function M0(n,e){return void 0!==(n.values||[]).find(t=>mu(t,e))}function Dh(n,e){if(n===e)return 0;const t=Lp(n),r=Lp(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=fr(i.integerValue||i.doubleValue),p=fr(l.integerValue||l.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return TR(n.timestampValue,e.timestampValue);case 4:return TR(T0(n),T0(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,l){const c=kp(i),p=kp(l);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),p=l.split("/");for(let y=0;y<c.length&&y<p.length;y++){const I=Ft(c[y],p[y]);if(0!==I)return I}return Ft(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Ft(fr(i.latitude),fr(l.latitude));return 0!==c?c:Ft(fr(i.longitude),fr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],p=l.values||[];for(let y=0;y<c.length&&y<p.length;++y){const I=Dh(c[y],p[y]);if(I)return I}return Ft(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===bh.mapValue&&l===bh.mapValue)return 0;if(i===bh.mapValue)return 1;if(l===bh.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),y=l.fields||{},I=Object.keys(y);p.sort(),I.sort();for(let T=0;T<p.length&&T<I.length;++T){const M=Ft(p[T],I[T]);if(0!==M)return M;const L=Dh(c[p[T]],y[I[T]]);if(0!==L)return L}return Ft(p.length,I.length)}(n.mapValue,e.mapValue);default:throw rt()}}function TR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=Eh(n),r=Eh(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function Fy(n){return NA(n)}function NA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Eh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kp(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=NA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of i)c?c=!1:l+=",",l+=`${p}:${NA(r.fields[p])}`;return l+"}"}(n.mapValue):rt();var e}function Fp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OA(n){return!!n&&"integerValue"in n}function x0(n){return!!n&&"arrayValue"in n}function SR(n){return!!n&&"nullValue"in n}function AR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function UD(n){return!!n&&"mapValue"in n}function P0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Op(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=P0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=P0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function C1(n){return"nullValue"in n?VD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fp(Ih.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function T1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fp(Ih.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bh:rt()}function xR(n,e){const t=Dh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function PR(n,e){const t=Dh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Di{constructor(e){this.value=e}static empty(){return new Di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!UD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=P0(t)}setAll(e){let t=dr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=P0(c):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());UD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];UD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Op(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Di(P0(this.value))}}function RR(n){const e=[];return Op(n.fields,(t,r)=>{const i=new dr([t]);if(UD(r)){const l=RR(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new So(e)}class Rn{constructor(e,t,r,i,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Rn(e,0,Ct.min(),Ct.min(),Di.empty(),0)}static newFoundDocument(e,t,r){return new Rn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new Rn(e,2,t,Ct.min(),Di.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Ct.min(),Di.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class S1{constructor(e,t=null,r=[],i=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=p,this.ht=null}}function NR(n,e=null,t=[],r=[],i=null,l=null,c=null){return new S1(n,e,t,r,i,l,c)}function Vp(n){const e=qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Fy(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),S0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fy(r)).join(",")),e.ht=t}return e.ht}function R0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!L1(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!mu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VR(n.startAt,e.startAt)&&VR(n.endAt,e.endAt)}function BD(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function HD(n,e){return n.filters.filter(t=>t instanceof Ci&&t.field.isEqual(e))}function OR(n,e,t){let r=VD,i=!0;for(const l of HD(n,e)){let c=VD,p=!0;switch(l.op){case"<":case"<=":c=C1(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,p=!1;break;case"!=":case"not-in":c=VD}xR({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];xR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function kR(n,e,t){let r=bh,i=!0;for(const l of HD(n,e)){let c=bh,p=!0;switch(l.op){case">=":case">":c=T1(l.value),p=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,p=!1;break;case"!=":case"not-in":c=bh}PR({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];PR({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ci extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new M1(e,t,r):"array-contains"===t?new R1(e,r):"in"===t?new N1(e,r):"not-in"===t?new O1(e,r):"array-contains-any"===t?new k1(e,r):new Ci(e,t,r)}static lt(e,t,r){return"in"===t?new x1(e,r):new P1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Dh(t,this.value)):null!==t&&Lp(this.value)===Lp(t)&&this.ft(Dh(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class M1 extends Ci{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.ft(t)}}class x1 extends Ci{constructor(e,t){super(e,"in",t),this.keys=LR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class P1 extends Ci{constructor(e,t){super(e,"not-in",t),this.keys=LR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class R1 extends Ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return x0(t)&&M0(t.arrayValue,this.value)}}class N1 extends Ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&M0(this.value.arrayValue,t)}}class O1 extends Ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(M0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!M0(this.value.arrayValue,t)}}class k1 extends Ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!x0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>M0(this.value.arrayValue,r))}}class Ch{constructor(e,t){this.position=e,this.inclusive=t}}class Vy{constructor(e,t="asc"){this.field=e,this.dir=t}}function L1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function FR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?ze.comparator(ze.fromName(c.referenceValue),t.key):Dh(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function VR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mu(n.position[t],e.position[t]))return!1;return!0}class zc{constructor(e,t=null,r=[],i=[],l=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=y,this._t=null,this.wt=null}}function UR(n,e,t,r,i,l,c,p){return new zc(n,e,t,r,i,l,c,p)}function Uy(n){return new zc(n)}function BR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LA(n){for(const e of n.filters)if(e.dt())return e.field;return null}function FA(n){return null!==n.collectionGroup}function By(n){const e=qe(n);if(null===e._t){e._t=[];const t=LA(e),r=kA(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Vy(t)),e._t.push(new Vy(dr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Vy(dr.keyField(),l))}}}return e._t}function Us(n){const e=qe(n);if(!e.wt)if("F"===e.limitType)e.wt=NR(e.path,e.collectionGroup,By(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of By(e))t.push(new Vy(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ch(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ch(e.startAt.position,e.startAt.inclusive):null;e.wt=NR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function jD(n,e,t){return new zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function N0(n,e){return R0(Us(n),Us(e))&&n.limitType===e.limitType}function HR(n){return`${Vp(Us(n))}|lt:${n.limitType}`}function VA(n){return`Query(target=${function A1(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Fy(r.value)}`;var r}).join(", ")}]`),S0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Fy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Fy(t)).join(",")),`Target(${e})`}(Us(n))}; limitType=${n.limitType})`}function UA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const p=FR(i,l,c);return i.inclusive?p<=0:p<0}(t.startAt,By(t),r)||t.endAt&&!function(i,l,c){const p=FR(i,l,c);return i.inclusive?p>=0:p>0}(t.endAt,By(t),r)));var t,r}function jR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $R(n){return(e,t)=>{let r=!1;for(const i of By(n)){const l=F1(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function F1(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,l,c){const p=l.data.field(i),y=c.data.field(i);return null!==p&&null!==y?Dh(p,y):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function GR(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A0(e)?"-0":e}}function zR(n){return{integerValue:""+n}}function WR(n,e){return CR(e)?zR(e):GR(n,e)}class $D{constructor(){this._=void 0}}function V1(n,e,t){return n instanceof Hy?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Up?KR(n,e):n instanceof Bp?ZR(n,e):function(r,i){const l=qR(r,i),c=YR(l)+YR(r.yt);return OA(l)&&OA(r.yt)?zR(c):GR(r.It,c)}(n,e)}function U1(n,e,t){return n instanceof Up?KR(n,e):n instanceof Bp?ZR(n,e):t}function qR(n,e){return n instanceof jy?OA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Hy extends $D{}class Up extends $D{constructor(e){super(),this.elements=e}}function KR(n,e){const t=QR(e);for(const r of n.elements)t.some(i=>mu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bp extends $D{constructor(e){super(),this.elements=e}}function ZR(n,e){let t=QR(e);for(const r of n.elements)t=t.filter(i=>!mu(i,r));return{arrayValue:{values:t}}}class jy extends $D{constructor(e,t){super(),this.It=e,this.yt=t}}function YR(n){return fr(n.integerValue||n.doubleValue)}function QR(n){return x0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class O0{constructor(e,t){this.field=e,this.transform=t}}class H1{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function GD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class zD{}function JR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gy(n.key,Xn.none()):new $y(n.key,n.data,Xn.none());{const t=n.data,r=Di.empty();let i=new In(dr.comparator);for(let l of e.fields)if(!i.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),i=i.add(l)}return new Wc(n.key,r,new So(i.toArray()),Xn.none())}}function j1(n,e,t){n instanceof $y?function(r,i,l){const c=r.value.clone(),p=tN(r.fieldTransforms,i,l.transformResults);c.setAll(p),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Wc?function(r,i,l){if(!GD(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=tN(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(eN(r)),p.setAll(c),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function k0(n,e,t,r){return n instanceof $y?function(i,l,c,p){if(!GD(i.precondition,l))return c;const y=i.value.clone(),I=nN(i.fieldTransforms,p,l);return y.setAll(I),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wc?function(i,l,c,p){if(!GD(i.precondition,l))return c;const y=nN(i.fieldTransforms,p,l),I=l.data;return I.setAll(eN(i)),I.setAll(y),l.convertToFoundDocument(l.version,I).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,GD(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function $1(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=qR(r.transform,i||null);null!=l&&(null===t&&(t=Di.empty()),t.set(r.field,l))}return t||null}function XR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ky(t,r,(i,l)=>function B1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Up&&r instanceof Up||t instanceof Bp&&r instanceof Bp?ky(t.elements,r.elements,mu):t instanceof jy&&r instanceof jy?mu(t.yt,r.yt):t instanceof Hy&&r instanceof Hy);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $y extends zD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wc extends zD{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tN(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,p=e.data.field(l.field);r.set(l.field,U1(c,p,t[i]))}return r}function nN(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,V1(l,c,e))}return r}class Gy extends zD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BA extends zD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G1{constructor(e){this.count=e}}var Pr,on;function rN(n){switch(n){default:return rt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function iN(n){if(void 0===n)return _r("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Pr.OK:return fe.OK;case Pr.CANCELLED:return fe.CANCELLED;case Pr.UNKNOWN:return fe.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return fe.INTERNAL;case Pr.UNAVAILABLE:return fe.UNAVAILABLE;case Pr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Pr.NOT_FOUND:return fe.NOT_FOUND;case Pr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Pr.ABORTED:return fe.ABORTED;case Pr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Pr.DATA_LOSS:return fe.DATA_LOSS;default:return rt()}}(on=Pr||(Pr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class Th{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Op(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return IR(this.inner)}size(){return this.innerSize}}const z1=new hr(ze.comparator);function Bs(){return z1}const sN=new hr(ze.comparator);function L0(...n){let e=sN;for(const t of n)e=e.insert(t.key,t);return e}function oN(n){let e=sN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yu(){return F0()}function aN(){return F0()}function F0(){return new Th(n=>n.toString(),(n,e)=>n.isEqual(e))}const W1=new hr(ze.comparator),q1=new In(ze.comparator);function Bt(...n){let e=q1;for(const t of n)e=e.add(t);return e}const K1=new In(Ft);function WD(){return K1}class V0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,U0.createSynthesizedTargetChangeForCurrentChange(e,t)),new V0(Ct.min(),r,WD(),Bs(),Bt())}}class U0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new U0(zr.EMPTY_BYTE_STRING,t,Bt(),Bt(),Bt())}}class qD{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class lN{constructor(e,t){this.targetId=e,this.At=t}}class uN{constructor(e,t,r=zr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cN{constructor(){this.Rt=0,this.bt=hN(),this.Pt=zr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Bt(),t=Bt(),r=Bt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new U0(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=hN()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Z1{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Bs(),this.qt=dN(),this.Kt=new In(Ft)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(BD(l))if(0===r){const c=new ze(l.path);this.jt(t,c,Rn.newNoDocument(c,Ct.min()))}else xt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,c)=>{const p=this.Xt(c);if(p){if(l.current&&BD(p.target)){const y=new ze(p.target.path);null!==this.Ut.get(y)||this.ee(c,y)||this.jt(c,y,Rn.newNoDocument(y,e))}l.Dt&&(t.set(c,l.xt()),l.Nt())}});let r=Bt();this.qt.forEach((l,c)=>{let p=!0;c.forEachWhile(y=>{const I=this.Xt(y);return!I||2===I.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.Ut.forEach((l,c)=>c.setReadTime(e));const i=new V0(e,t,this.Kt,this.Ut,r);return this.Ut=Bs(),this.qt=dN(),this.Kt=new In(Ft),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new cN,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new In(Ft),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new cN),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function dN(){return new hr(ze.comparator)}function hN(){return new hr(ze.comparator)}const Y1={asc:"ASCENDING",desc:"DESCENDING"},Q1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class J1{constructor(e,t){this.databaseId=e,this.gt=t}}function B0(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fN(n,e){return n.gt?e.toBase64():e.toUint8Array()}function X1(n,e){return B0(n,e.toTimestamp())}function li(n){return xt(!!n),Ct.fromTimestamp(function(e){const t=Eh(e);return new Jn(t.seconds,t.nanos)}(n))}function HA(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pN(n){const e=sn.fromString(n);return xt(bN(e)),e}function H0(n,e){return HA(n.databaseId,e.path)}function _u(n,e){const t=pN(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(mN(t))}function jA(n,e){return HA(n.databaseId,e)}function gN(n){const e=pN(n);return 4===e.length?sn.emptyPath():mN(e)}function j0(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mN(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yN(n,e,t){return{name:H0(n,e),fields:t.value.mapValue.fields}}function _N(n,e,t){const r=_u(n,e.name),i=li(e.updateTime),l=new Di({mapValue:{fields:e.fields}}),c=Rn.newFoundDocument(r,i,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function $0(n,e){let t;if(e instanceof $y)t={update:yN(n,e.key,e.value)};else if(e instanceof Gy)t={delete:H0(n,e.key)};else if(e instanceof Wc)t={update:yN(n,e.key,e.data),updateMask:lL(e.fieldMask)};else{if(!(e instanceof BA))return rt();t={verify:H0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Hy)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Up)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jy)return{fieldPath:l.field.canonicalString(),increment:c.yt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:X1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function $A(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xn.updateTime(li(i.updateTime)):void 0!==i.exists?Xn.exists(i.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let p=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),p=new Hy):"appendMissingElements"in c?p=new Up(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Bp(c.removeAllFromArray.values||[]):"increment"in c?p=new jy(l,c.increment):rt();const y=dr.fromServerFormat(c.fieldPath);return new O0(y,p)}(n,i)):[];var i;if(e.update){const i=_u(n,e.update.name),l=new Di({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new So((e.updateMask.fieldPaths||[]).map(I=>dr.fromServerFormat(I)));return new Wc(i,l,c,t,r)}return new $y(i,l,t,r)}if(e.delete){const i=_u(n,e.delete);return new Gy(i,t)}if(e.verify){const i=_u(n,e.verify);return new BA(i,t)}return rt()}function vN(n,e){return{documents:[jA(n,e.path)]}}function wN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=jA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=jA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const I=y.map(T=>function(M){if("=="===M.op){if(AR(M.value))return{unaryFilter:{field:zy(M.field),op:"IS_NAN"}};if(SR(M.value))return{unaryFilter:{field:zy(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(AR(M.value))return{unaryFilter:{field:zy(M.field),op:"IS_NOT_NAN"}};if(SR(M.value))return{unaryFilter:{field:zy(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zy(M.field),op:sL(M.op),value:M.value}}}(T));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(y){if(0!==y.length)return y.map(I=>{return{field:zy((T=I).field),direction:iL(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(I=e.limit,n.gt||S0(I)?I:{value:I});var I,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function EN(n){let e=gN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=IN(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Vy(Wy((M=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(T){let M;return M="object"==typeof T?T.value:T,S0(M)?null:M}(t.limit));let y=null;var T;t.startAt&&(y=new Ch((T=t.startAt).values||[],!!T.before));let I=null;return t.endAt&&(I=function(T){return new Ch(T.values||[],!T.before)}(t.endAt)),UR(e,i,c,l,p,"F",y,I)}function IN(n){return n?void 0!==n.unaryFilter?[aL(n)]:void 0!==n.fieldFilter?[oL(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>IN(e)).reduce((e,t)=>e.concat(t)):rt():[]}function iL(n){return Y1[n]}function sL(n){return Q1[n]}function zy(n){return{fieldPath:n.canonicalString()}}function Wy(n){return dr.fromServerFormat(n.fieldPath)}function oL(n){return Ci.create(Wy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function aL(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Wy(n.unaryFilter.field);return Ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Wy(n.unaryFilter.field);return Ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wy(n.unaryFilter.field);return Ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wy(n.unaryFilter.field);return Ci.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function lL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DN(e)),e=uL(n.get(t),e);return DN(e)}function uL(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function DN(n){return n+"\x01\x01"}function vu(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&rt(),n.charAt(c+1)){case"\x01":const p=n.substring(l,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:rt()}l=c+2}return new sn(r)}const CN=["userId","batchId"];function KD(n,e){return[n,fs(e)]}function TN(n,e,t){return[n,fs(e),t]}const cL={},dL=["prefixPath","collectionGroup","readTime","documentId"],hL=["prefixPath","collectionGroup","documentId"],fL=["collectionGroup","readTime","prefixPath","documentId"],pL=["canonicalId","targetId"],gL=["targetId","path"],mL=["path","targetId"],yL=["collectionId","parent"],_L=["indexId","uid"],vL=["uid","sequenceNumber"],wL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EL=["indexId","uid","orderedDocumentKey"],IL=["userId","collectionPath","documentId"],bL=["userId","collectionPath","largestBatchId"],DL=["userId","collectionGroup","largestBatchId"],SN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CL=[...SN,"documentOverlays"],AN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MN=AN,TL=[...MN,"indexConfiguration","indexState","indexEntries"];class GA extends vR{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ui(n,e){const t=qe(n);return il.O(t.ie,e)}class zA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&j1(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=k0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=k0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=aN();return this.mutations.forEach(i=>{const l=e.get(i.key),c=l.overlayedDocument;let p=this.applyToLocalView(c,l.mutatedFields);p=t.has(i.key)?null:p;const y=JR(c,p);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bt())}isEqual(e){return this.batchId===e.batchId&&ky(this.mutations,e.mutations,(t,r)=>XR(t,r))&&ky(this.baseMutations,e.baseMutations,(t,r)=>XR(t,r))}}class WA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=W1;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new WA(e,t,r,i)}}class qA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sh{constructor(e,t,r,i,l=Ct.min(),c=Ct.min(),p=zr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class xN{constructor(e){this.re=e}}function PN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ZD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:H0(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:B0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Hp(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Hp(e.version)}}var i,l;return r}function ZD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jp(n){const e=new Jn(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function $p(n,e){const t=(e.baseMutations||[]).map(l=>$A(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>$A(n.re,l)),i=Jn.fromMillis(e.localWriteTimeMs);return new zA(e.batchId,i,t,r)}function G0(n){const e=jp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jp(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=Us(Uy(gN(i.documents[0])))):r=Us(EN(n.query)),new Sh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,zr.fromBase64String(n.resumeToken))}function RN(n,e){const t=Hp(e.snapshotVersion),r=Hp(e.lastLimboFreeSnapshotVersion);let i;i=BD(e.target)?vN(n.re,e.target):wN(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vp(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function KA(n){const e=EN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jD(e,e.limit,"L"):e}function ZA(n,e){return new qA(e.largestBatchId,$A(n.re,e.overlayMutation))}function NN(n,e){const t=e.path.lastSegment();return[n,fs(e.path.popLast()),t]}function ON(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Hp(r.readTime),documentKey:fs(r.documentKey.path),largestBatchId:r.largestBatchId}}class AL{getBundleMetadata(e,t){return kN(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:jp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return kN(e).put({bundleId:(r=t).id,createTime:Hp(li(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return LN(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:KA(i.bundledQuery),readTime:jp(i.readTime)};var i})}saveNamedQuery(e,t){return LN(e).put({name:(r=t).name,readTime:Hp(li(r.readTime)),bundledQuery:r.bundledQuery});var r}}function kN(n){return ui(n,"bundles")}function LN(n){return ui(n,"namedQueries")}class YD{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new YD(e,t.uid||"")}getOverlay(e,t){return z0(e).get(NN(this.userId,t)).next(r=>r?ZA(this.It,r):null)}getOverlays(e,t){const r=yu();return le.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const p=new qA(t,c);i.push(this.ue(e,p))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(fs(c.getCollectionPath())));const l=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(z0(e).Y("collectionPathOverlayIndex",p))}),le.waitFor(l)}getOverlaysForCollection(e,t,r){const i=yu(),l=fs(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return z0(e).W("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const I=ZA(this.It,y);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=yu();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return z0(e).Z({index:"collectionGroupOverlayIndex",range:p},(y,I,T)=>{const M=ZA(this.It,I);l.size()<i||M.largestBatchId===c?(l.set(M.getKey(),M),c=M.largestBatchId):T.done()}).next(()=>l)}ue(e,t){return z0(e).put(function(r,i,l){const[c,p,y]=NN(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:$0(r.re,l.mutation)}}(this.It,this.userId,t))}}function z0(n){return ui(n,"documentOverlays")}class Gp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(fr(e.integerValue));else if("doubleValue"in e){const r=fr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),A0(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(kp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?MR(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),ze.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function ML(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function FN(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=ML(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Gp.Te=new Gp;class xL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=FN(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=FN(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class PL{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class RL{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class W0{constructor(){this.Be=new xL,this.Le=new PL(this.Be),this.Ue=new RL(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class zp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zp(this.indexId,this.documentKey,this.arrayValue,r)}}function Wp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=VN(n.arrayValue,e.arrayValue),0!==t?t:(t=VN(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function VN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class NL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=AA(e);if(void 0!==t&&!this.ze(t))return!1;const r=Rp(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[l++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class OL{constructor(){this.Ye=new YA}addToCollectionParentIndex(e,t){return this.Ye.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(To.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class YA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new In(sn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(sn.comparator)).toArray()}}const QD=new Uint8Array(0);class kL{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new YA,this.Ze=new Th(r=>Vp(r),(r,i)=>R0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:fs(i)};return UN(e).put(l)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[gR(t),""],!1,!0);return UN(e).W(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(vu(c.parent))}return r})}addFieldIndex(e,t){const r=JD(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const l=r.add(i);if(t.indexState){const c=K0(e);return l.next(p=>{c.put(ON(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=JD(e),i=K0(e),l=q0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=q0(e);let i=!0;const l=new Map;return le.forEach(this.tn(t),c=>this.en(e,c).next(p=>{i&&(i=!!p),l.set(c,p)})).next(()=>{if(i){let c=Bt();const p=[];return le.forEach(l,(y,I)=>{var T;ke("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${Vp(t)}`);const M=function(pt,st){const Dt=AA(st);if(void 0===Dt)return null;for(const Tt of HD(pt,Dt.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(I,y),L=function(pt,st){const Dt=new Map;for(const Tt of Rp(st))for(const tn of HD(pt,Tt.fieldPath))switch(tn.op){case"==":case"in":Dt.set(Tt.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return Dt.set(Tt.fieldPath.canonicalString(),tn.value),Array.from(Dt.values())}return null}(I,y),B=function(pt,st){const Dt=[];let Tt=!0;for(const tn of Rp(st)){const ms=0===tn.kind?OR(pt,tn.fieldPath,pt.startAt):kR(pt,tn.fieldPath,pt.startAt);Dt.push(ms.value),Tt&&(Tt=ms.inclusive)}return new Ch(Dt,Tt)}(I,y),Z=function(pt,st){const Dt=[];let Tt=!0;for(const tn of Rp(st)){const ms=0===tn.kind?kR(pt,tn.fieldPath,pt.endAt):OR(pt,tn.fieldPath,pt.endAt);Dt.push(ms.value),Tt&&(Tt=ms.inclusive)}return new Ch(Dt,Tt)}(I,y),ue=this.nn(y,I,B),Ie=this.nn(y,I,Z),We=this.sn(y,I,L),tt=this.rn(y.indexId,M,ue,B.inclusive,Ie,Z.inclusive,We);return le.forEach(tt,pt=>r.J(pt,t.limit).next(st=>{st.forEach(Dt=>{const Tt=ze.fromSegments(Dt.documentKey);c.has(Tt)||(c=c.add(Tt),p.push(Tt))})}))}).next(()=>p)}return le.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,c,p){const y=(null!=t?t.length:1)*Math.max(r.length,l.length),I=y/(null!=t?t.length:1),T=[];for(let M=0;M<y;++M){const L=t?this.on(t[M/I]):QD,B=this.un(e,L,r[M%I],i),Z=this.cn(e,L,l[M%I],c),ue=p.map(Ie=>this.un(e,L,Ie,!0));T.push(...this.createRange(B,Z,ue))}return T}un(e,t,r,i){const l=new zp(e,ze.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new zp(e,ze.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new NL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let c=null;for(const p of l)r.We(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return le.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(c){let p=new In(dr.comparator),y=!1;for(const I of c.filters){const T=I;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:p=p.add(T.field))}for(const I of c.orderBy)I.field.isKeyField()||(p=p.add(I.field));return p.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new W0;for(const i of Rp(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.qe(i.kind);Gp.Te.ce(l,c)}return r.$e()}on(e){const t=new W0;return Gp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new W0;return Gp.Te.ce(Fp(this.databaseId,t),r.qe(function(i){const l=Rp(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new W0);let l=0;for(const c of Rp(e)){const p=r[l++];for(const y of i)if(this.ln(t,c.fieldPath)&&x0(p))i=this.fn(i,c,p);else{const I=y.qe(c.kind);Gp.Te.ce(p,I)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new W0;y.seed(p.$e()),Gp.Te.ce(c,y.qe(t.kind)),l.push(y)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Ci&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=JD(e),i=K0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const c=[];return le.forEach(l,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(I,T){const M=T?new D0(T.sequenceNumber,new To(jp(T.readTime),new ze(vu(T.documentKey)),T.largestBatchId)):D0.empty(),L=I.fields.map(([B,Z])=>new kD(dr.fromServerFormat(B),Z));return new OD(I.indexId,I.collectionGroup,L,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=JD(e),l=K0(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>le.forEach(p,y=>l.put(ON(y.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),le.forEach(p,y=>this.wn(e,i,y).next(I=>{const T=this.mn(l,y);return I.isEqual(T)?le.resolve():this.gn(e,l,y,I,T)}))))})}yn(e,t,r,i){return q0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return q0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=q0(e);let l=new In(Wp);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,p)=>{l=l.add(new zp(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}mn(e,t){let r=new In(Wp);const i=this.an(t,e);if(null==i)return r;const l=AA(t);if(null!=l){const c=e.data.field(l.fieldPath);if(x0(c))for(const p of c.arrayValue.values||[])r=r.add(new zp(t.indexId,e.key,this.on(p),i))}else r=r.add(new zp(t.indexId,e.key,QD,i));return r}gn(e,t,r,i,l){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,y,I,T,M){const L=p.getIterator(),B=y.getIterator();let Z=Ly(L),ue=Ly(B);for(;Z||ue;){let Ie=!1,We=!1;if(Z&&ue){const tt=I(Z,ue);tt<0?We=!0:tt>0&&(Ie=!0)}else null!=Z?We=!0:Ie=!0;Ie?(T(ue),ue=Ly(B)):We?(M(Z),Z=Ly(L)):(Z=Ly(L),ue=Ly(B))}}(i,l,Wp,p=>{c.push(this.yn(e,t,r,p))},p=>{c.push(this.pn(e,t,r,p))}),le.waitFor(c)}_n(e){let t=1;return K0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Wp(c,p)).filter((c,p,y)=>!p||0!==Wp(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=Wp(c,e),y=Wp(c,t);if(0===p)i[0]=e.Ke();else if(p>0&&y<0)i.push(c),i.push(c.Ke());else if(y>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2)l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,QD,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,QD,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(BN)}getMinOffset(e,t){return le.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||rt())).next(BN)}}function UN(n){return ui(n,"collectionParents")}function q0(n){return ui(n,"indexEntries")}function JD(n){return ui(n,"indexConfiguration")}function K0(n){return ui(n,"indexState")}function BN(n){xt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;MA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new To(e.readTime,e.documentKey,t)}const HN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hs(e,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Z({range:c},(T,M,L)=>(p++,L.delete()));l.push(y.next(()=>{xt(1===p)}));const I=[];for(const T of t.mutations){const M=TN(e,T.key.path,t.batchId);l.push(i.delete(M)),I.push(T.key)}return le.waitFor(l).next(()=>I)}function XD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);class eC{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){xt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new eC(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ah(e).Z({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=qy(e),c=Ah(e);return c.add({}).next(p=>{xt("number"==typeof p);const y=new zA(p,t,r,i),I=function(L,B,Z){const ue=Z.baseMutations.map(We=>$0(L.re,We)),Ie=Z.mutations.map(We=>$0(L.re,We));return{userId:B,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ue,mutations:Ie}}(this.It,this.userId,y),T=[];let M=new In((L,B)=>Ft(L.canonicalString(),B.canonicalString()));for(const L of i){const B=TN(this.userId,L.key.path,p);M=M.add(L.key.path.popLast()),T.push(c.put(I)),T.push(l.put(B,cL))}return M.forEach(L=>{T.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[p]=y.keys()}),le.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Ah(e).get(t).next(r=>r?(xt(r.userId===this.userId),$p(this.It,r)):null)}Tn(e,t){return this.In[t]?le.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ah(e).Z({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(xt(p.batchId>=r),l=$p(this.It,p)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ah(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ah(e).W("userMutationsIndex",t).next(r=>r.map(i=>$p(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=KD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return qy(e).Z({range:i},(c,p,y)=>{const[I,T,M]=c,L=vu(T);if(I===this.userId&&t.path.isEqual(L))return Ah(e).get(M).next(B=>{if(!B)throw rt();xt(B.userId===this.userId),l.push($p(this.It,B))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Ft);const i=[];return t.forEach(l=>{const c=KD(this.userId,l.path),p=IDBKeyRange.lowerBound(c),y=qy(e).Z({range:p},(I,T,M)=>{const[L,B,Z]=I,ue=vu(B);L===this.userId&&l.path.isEqual(ue)?r=r.add(Z):M.done()});i.push(y)}),le.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=KD(this.userId,r),c=IDBKeyRange.lowerBound(l);let p=new In(Ft);return qy(e).Z({range:c},(y,I,T)=>{const[M,L,B]=y,Z=vu(L);M===this.userId&&r.isPrefixOf(Z)?Z.length===i&&(p=p.add(B)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Ah(e).get(l).next(c=>{if(null===c)throw rt();xt(c.userId===this.userId),r.push($p(this.It,c))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return jN(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return qy(e).Z({range:r},(l,c,p)=>{if(l[0]===this.userId){const y=vu(l[1]);i.push(y)}else p.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return $N(e,this.userId,t)}Rn(e){return GN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $N(n,e,t){const r=KD(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return qy(n).Z({range:l,X:!0},(p,y,I)=>{const[T,M,L]=p;T===e&&M===i&&(c=!0),I.done()}).next(()=>c)}function Ah(n){return ui(n,"mutations")}function qy(n){return ui(n,"documentMutations")}function GN(n){return ui(n,"mutationQueues")}class qp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new qp(0)}static vn(){return new qp(-1)}}class LL{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new qp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Ct.fromTimestamp(new Jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ky(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Ky(e).Z((c,p)=>{const y=G0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>le.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Ky(e).Z((r,i)=>{const l=G0(i);t(l)})}Vn(e){return zN(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}Sn(e,t){return zN(e).put("targetGlobalKey",t)}Dn(e,t){return Ky(e).put(RN(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Ky(e).Z({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const I=G0(p);R0(t,I.target)&&(l=I,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Mh(e);return t.forEach(c=>{const p=fs(c.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Mh(e);return le.forEach(t,l=>{const c=fs(l.path);return le.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Mh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Mh(e);let l=Bt();return i.Z({range:r,X:!0},(c,p,y)=>{const I=vu(c[1]),T=new ze(I);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=fs(t.path),i=IDBKeyRange.bound([r],[gR(r)],!1,!0);let l=0;return Mh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],y,I)=>{0!==c&&(l++,I.done())}).next(()=>l>0)}se(e,t){return Ky(e).get(t).next(r=>r?G0(r):null)}}function Ky(n){return ui(n,"targets")}function zN(n){return ui(n,"targetGlobal")}function Mh(n){return ui(n,"targetDocuments")}function WN([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class FL{constructor(e){this.xn=e,this.buffer=new In(WN),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();WN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wh(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield vh(r)}yield t.Fn(3e5)}))}}class UL{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(Vs.at);const r=new FL(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(HN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HN):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,c,p,y,I;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(I=Date.now(),TA()<=ds.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${l} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(I-y)+`ms\nTotal Duration: ${I-T}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class BL{constructor(e,t){this.db=e,this.garbageCollector=new UL(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return tC(e,r)}removeReference(e,t,r){return tC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tC(e,t)}Gn(e,t){return function(r,i){let l=!1;return GN(r).tt(c=>$N(r,c,i).next(p=>(p&&(l=!0),le.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(c,p)=>{if(p<=t){const y=this.Gn(e,c).next(I=>{if(!I)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ct.min()),Mh(e).delete([0,fs(c.path)])))});i.push(y)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tC(e,t)}Kn(e,t){const r=Mh(e);let i,l=Vs.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:I})=>{0===c?(l!==Vs.at&&t(new ze(vu(i)),l),l=I,i=y):l=Vs.at}).next(()=>{l!==Vs.at&&t(new ze(vu(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tC(n,e){return Mh(n).put((r=n.currentSequenceNumber,{targetId:0,path:fs(e.path),sequenceNumber:r}));var r}class qN{constructor(){this.changes=new Th(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HL{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Kp(e).put(r)}removeEntry(e,t,r){return Kp(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ZD(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Rn.newInvalidDocument(t);return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Z0(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:Rn.newInvalidDocument(t)};return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Z0(t))},(i,l)=>{r={document:this.jn(t,l),size:XD(l)}}).next(()=>r)}getEntries(e,t){let r=Bs();return this.zn(e,t,(i,l)=>{const c=this.jn(i,l);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=Bs(),i=new hr(ze.comparator);return this.zn(e,t,(l,c)=>{const p=this.jn(l,c);r=r.insert(l,p),i=i.insert(l,XD(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return le.resolve();let i=new In(QN);t.forEach(y=>i=i.add(y));const l=IDBKeyRange.bound(Z0(i.first()),Z0(i.last())),c=i.getIterator();let p=c.getNext();return Kp(e).Z({index:"documentKeyIndex",range:l},(y,I,T)=>{const M=ze.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;p&&QN(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,I),p=c.hasNext()?c.getNext():null),p?T.j(Z0(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ZD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kp(e).W(IDBKeyRange.bound(i,l,!0)).next(c=>{let p=Bs();for(const y of c){const I=this.jn(ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(I.key,I)}return p})}getAllFromCollectionGroup(e,t,r,i){let l=Bs();const c=YN(t,r),p=YN(t,To.max());return Kp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,I,T)=>{const M=this.jn(ze.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);l=l.insert(M.key,M),l.size===i&&T.done()}).next(()=>l)}newChangeBuffer(e){return new jL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ZN(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Qn(e,t){return ZN(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function SL(n,e){let t;if(e.document)t=_N(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),i=jp(e.noDocument.readTime);t=Rn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=ze.fromSegments(e.unknownDocument.path),i=jp(e.unknownDocument.version);t=Rn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Jn(r[0],r[1]);return Ct.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return Rn.newInvalidDocument(e)}}function KN(n){return new HL(n)}class jL extends qN{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Th(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new In((l,c)=>Ft(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const p=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,p.readTime)),c.isValidDocument()){const y=PN(this.Yn.It,c);i=i.add(l.path.popLast()),r+=XD(y)-p.size,t.push(this.Yn.addEntry(e,l,y))}else if(r-=p.size,this.trackRemovals){const y=PN(this.Yn.It,c.convertToNoDocument(Ct.min()));t.push(this.Yn.addEntry(e,l,y))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,c)=>{this.Xn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function ZN(n){return ui(n,"remoteDocumentGlobal")}function Kp(n){return ui(n,"remoteDocumentsV14")}function Z0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YN(n,e){const t=e.documentKey.path.toArray();return[n,ZD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function QN(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Ft(t[l],r[l]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class $L{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&k0(r.mutation,i,So.empty(),Jn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Bt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Bt()){const i=yu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let c=L0();return l.forEach((p,y)=>{c=c.insert(p,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=yu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Bt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let l=Bs();const c=F0(),p=F0();return t.forEach((y,I)=>{const T=r.get(I.key);i.has(I.key)&&(void 0===T||T.mutation instanceof Wc)?l=l.insert(I.key,I):void 0!==T&&(c.set(I.key,T.mutation.getFieldMask()),k0(T.mutation,I,T.mutation.getFieldMask(),Jn.now()))}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((I,T)=>c.set(I,T)),t.forEach((I,T)=>{var M;return p.set(I,new $L(T,null!==(M=c.get(I))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=F0();let i=new hr((c,p)=>c-p),l=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(y=>{const I=t.get(y);if(null===I)return;let T=r.get(y)||So.empty();T=p.applyToLocalView(I,T),r.set(y,T);const M=(i.get(p.batchId)||Bt()).add(y);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),I=y.key,T=y.value,M=aN();T.forEach(L=>{if(!l.has(L)){const B=JR(t.get(L),r.get(L));null!==B&&M.set(L,B),l=l.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,I,M))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):le.resolve(yu());let p=-1,y=l;return c.next(I=>le.forEach(I,(T,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),l.get(T)?le.resolve():this.getBaseDocument(e,T,M).next(L=>{y=y.insert(T,L)}))).next(()=>this.populateOverlays(e,I,l)).next(()=>this.computeViews(e,y,I,Bt())).next(T=>({batchId:p,changes:oN(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=L0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=L0();return this.indexManager.getCollectionParents(e,i).next(c=>le.forEach(c,p=>{const y=(I=t,T=p.child(i),new zc(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(I=>{I.forEach((T,M)=>{l=l.insert(T,M)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((p,y)=>{const I=y.getKey();null===i.get(I)&&(i=i.insert(I,Rn.newInvalidDocument(I)))});let c=L0();return i.forEach((p,y)=>{const I=l.get(p);void 0!==I&&k0(I.mutation,y,So.empty(),Jn.now()),UA(t,y)&&(c=c.insert(p,y))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):le.resolve(Rn.newInvalidDocument(t))}}class GL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return le.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:li(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:KA(r.bundledQuery),readTime:li(r.readTime)}),le.resolve();var r}}class zL{constructor(){this.overlays=new hr(ze.comparator),this.es=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=yu();return le.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=yu(),l=t.length+1,c=new ze(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,I=y.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===l&&y.largestBatchId>r&&i.set(y.getKey(),y)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new hr((I,T)=>I-T);const c=this.overlays.getIterator();for(;c.hasNext();){const I=c.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let T=l.get(I.largestBatchId);null===T&&(T=yu(),l=l.insert(I.largestBatchId,T)),T.set(I.getKey(),I)}}const p=yu(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,T)=>p.set(I,T)),!(p.size()>=i)););return le.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new qA(t,r));let l=this.es.get(t);void 0===l&&(l=Bt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class QA{constructor(){this.ns=new In(ci.ss),this.rs=new In(ci.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ci(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ci(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ze(new sn([])),r=new ci(t,e),i=new ci(t,e+1),l=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),l.push(c.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ze(new sn([])),r=new ci(t,e),i=new ci(t,e+1);let l=Bt();return this.rs.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new ci(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ci{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ze.comparator(e.key,t.key)||Ft(e._s,t._s)}static os(e,t){return Ft(e._s,t._s)||ze.comparator(e.key,t.key)}}class WL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new In(ci.ss)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const c=new zA(l,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new ci(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ci(t,0),i=new ci(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);l.push(p)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Ft);return t.forEach(i=>{const l=new ci(i,0),c=new ci(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,c],p=>{r=r.add(p._s)})}),le.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;ze.isDocumentKey(l)||(l=l.child(""));const c=new ci(new ze(l),0);let p=new In(Ft);return this.gs.forEachWhile(y=>{const I=y.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(p=p.add(y._s)),!0)},c),le.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return le.forEach(t.mutations,i=>{const l=new ci(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ci(t,0),i=this.gs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qL{constructor(e){this.Es=e,this.docs=new hr(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=Bs();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Rn.newInvalidDocument(i))}),le.resolve(r)}getAllFromCollection(e,t,r){let i=Bs();const l=new ze(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||MA(yR(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,t,r,i){rt()}As(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KL(this)}getSize(e){return le.resolve(this.size)}}class KL extends qN{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ZL{constructor(e){this.persistence=e,this.Rs=new Th(t=>Vp(t),R0),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.bs=0,this.Ps=new QA,this.targetCount=0,this.vs=qp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),le.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new qp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Dn(t),le.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),le.waitFor(l).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ps.containsKey(t))}}class XN{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Vs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ZL(this),this.indexManager=new OL,this.remoteDocumentCache=new qL(r=>this.referenceDelegate.xs(r)),this.It=new xN(t),this.Ns=new GL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new WL(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new YL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Ms(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Os(e,t){return le.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class YL extends vR{constructor(e){super(),this.currentSequenceNumber=e}}class nC{constructor(e){this.persistence=e,this.Fs=new QA,this.$s=null}static Bs(e){return new nC(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),le.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,r=>{const i=ze.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Ct.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return le.or([()=>le.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class QL{constructor(e){this.It=e}$(e,t,r,i){const l=new LD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CN,{unique:!0}),p.createObjectStore("documentMutations"),eO(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=le.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),eO(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",I)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").W().next(I=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CN,{unique:!0});const T=y.store("mutations"),M=I.map(L=>T.put(L));return le.waitFor(M)})}(e,l))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(l))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(l))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(l))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:IL});y.createIndex("collectionPathOverlayIndex",bL,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",DL,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:dL});y.createIndex("documentKeyIndex",hL),y.createIndex("collectionGroupIndex",fL)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,l))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:_L}).createIndex("sequenceNumberIndex",vL,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:wL}).createIndex("documentKeyIndex",EL,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=XD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>le.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>le.forEach(p,y=>{xt(y.userId===l.userId);const I=$p(this.It,y);return jN(e,l.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((c,p)=>{const y=new sn(c),I=[0,fs(y)];l.push(t.get(I).next(T=>T?le.resolve():t.put({targetId:0,path:fs(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:yL});const r=t.store("collectionParents"),i=new YA,l=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:fs(y)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const y=new sn(c);return l(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,y],I)=>{const T=vu(p);return l(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=G0(i),c=RN(this.It,l);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,c)=>{const p=t.store("remoteDocumentsV14"),y=(I=c,I.document?new ze(sn.fromString(I.document.name).popFirst(5)):I.noDocument?ze.fromSegments(I.noDocument.path):I.unknownDocument?ze.fromSegments(I.unknownDocument.path):rt()).path.toArray();var I;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(T))}).next(()=>le.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=KN(this.It),l=new XN(nC.Bs,this.It.re);return r.W().next(c=>{const p=new Map;return c.forEach(y=>{var I;let T=null!==(I=p.get(y.userId))&&void 0!==I?I:Bt();$p(this.It,y).keys().forEach(M=>T=T.add(M)),p.set(y.userId,T)}),le.forEach(p,(y,I)=>{const T=new oi(I),M=YD.oe(this.It,T),L=l.getIndexManager(T),B=eC.oe(T,this.It,L,l.referenceDelegate);return new JN(i,B,M,L).recalculateAndSaveOverlaysForDocumentKeys(new GA(t,Vs.at),y).next()})})}}function eO(n){n.createObjectStore("targetDocuments",{keyPath:gL}).createIndex("documentTargetsIndex",mL,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pL,{unique:!0}),n.createObjectStore("targetGlobal")}const JA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XA{constructor(e,t,r,i,l,c,p,y,I,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=c,this.document=p,this.Js=I,this.Ys=T,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!XA.C())throw new Pe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BL(this,i),this.ii=t+"main",this.It=new xN(y),this.ri=new il(this.ii,this.Xs,new QL(this.It)),this.Cs=new LL(this.referenceDelegate,this.It),this.remoteDocumentCache=KN(this.It),this.Ns=new AL,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(fe.FAILED_PRECONDITION,JA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Vs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(wh(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Y0(e).get("owner").next(t=>le.resolve(this.mi(t)))}gi(e){return rC(e).delete(this.clientId)}yi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ui(r,"clientMetadata");return i.W().next(l=>{const c=e.Ii(l,18e5),p=l.filter(y=>-1===c.indexOf(y));return le.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?le.resolve(!0):Y0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Pe(fe.FAILED_PRECONDITION,JA);return!1}}return!(!this.networkEnabled||!this.inForeground)||rC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new GA(t,Vs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return eC.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kL(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return YD.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(c=this.Xs)?TL:14===c?MN:13===c?AN:12===c?CL:11===c?SN:void rt();var c;let p;return this.ri.runTransaction(e,i,l,y=>(p=new GA(y,this.Ss?this.Ss.next():Vs.at),"readwrite-primary"===t?this.fi(p).next(I=>!!I||this.di(p)).next(I=>{if(!I)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Pe(fe.FAILED_PRECONDITION,_R);return r(p)}).next(I=>this.wi(p).next(()=>I)):this.Vi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(e){return Y0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(fe.FAILED_PRECONDITION,JA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Y0(e).put("owner",t)}static C(){return il.C()}_i(e){const t=Y0(e);return t.get("owner").next(r=>this.mi(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Y0(n){return ui(n,"owner")}function rC(n){return ui(n,"clientMetadata")}function eM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Bt(),i=Bt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new tM(e,t.fromCache,r,i)}}class tO{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Mi(e,t,i,r)).next(l=>l||this.Oi(e,t))}ki(e,t){if(BR(t))return le.resolve(null);let r=Us(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=jD(t,null,"F"),r=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Bt(...l);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const I=this.Fi(t,p);return this.$i(t,I,c,y.readTime)?this.ki(e,jD(t,null,"F")):this.Bi(e,I,t,y)}))})))}Mi(e,t,r,i){return BR(t)||i.isEqual(Ct.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(l=>{const c=this.Fi(t,l);return this.$i(t,c,r,i)?this.Oi(e,t):(TA()<=ds.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VA(t)),this.Bi(e,c,t,mR(i,-1)))})}Fi(e,t){let r=new In($R(e));return t.forEach((i,l)=>{UA(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Oi(e,t){return TA()<=ds.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",VA(t)),this.Ni.getDocumentsMatchingQuery(e,t,To.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class JL{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new hr(Ft),this.qi=new Th(l=>Vp(l),R0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function nO(n,e,t,r){return new JL(n,e,t,r)}function rO(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,_e.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],p=[];let y=Bt();for(const I of i){c.push(I.batchId);for(const T of I.mutations)y=y.add(T.key)}for(const I of l){p.push(I.batchId);for(const T of I.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(I=>({ji:I,removedBatchIds:c,addedBatchIds:p}))})})}),nM.apply(this,arguments)}function XL(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,I){const T=y.batch,M=T.keys();let L=le.resolve();return M.forEach(B=>{L=L.next(()=>I.getEntry(p,B)).next(Z=>{const ue=y.docVersions.get(B);xt(null!==ue),Z.version.compareTo(ue)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),I.addEntry(Z)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Bt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(p=p.add(c.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function iO(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function eF(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((T,M)=>{const L=i.get(M);if(!L)return;p.push(t.Cs.removeMatchingKeys(l,T.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(l,T.addedDocuments,M)));let B=L.withSequenceNumber(l.currentSequenceNumber);var Z,ue,Ie;e.targetMismatches.has(M)?B=B.withResumeToken(zr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),i=i.insert(M,B),ue=B,Ie=T,(0===(Z=L).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(l,B))});let y=Bs(),I=Bt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),p.push(sO(l,c,e.documentUpdates).next(T=>{y=T.Wi,I=T.zi})),!r.isEqual(Ct.min())){const T=t.Cs.getLastRemoteSnapshotVersion(l).next(M=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(T)}return le.waitFor(p).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,I)).next(()=>y)}).then(l=>(t.Ui=i,l))}function sO(n,e,t){let r=Bt(),i=Bt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Bs();return t.forEach((p,y)=>{const I=l.get(p);y.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(e.removeEntry(p,y.readTime),c=c.insert(p,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(y),c=c.insert(p,y)):ke("LocalStore","Ignoring outdated watch update for ",p,". Current version:",I.version," Watch version:",y.version)}),{Wi:c,zi:i}})}function tF(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zy(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,le.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Sh(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Yy(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!wh(c))throw c;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),rM.apply(this,arguments)}function iC(n,e,t){const r=qe(n);let i=Ct.min(),l=Bt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,I){const T=qe(p),M=T.qi.get(I);return void 0!==M?le.resolve(T.Ui.get(M)):T.Cs.getTargetData(y,I)}(r,c,Us(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(y=>{l=y})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:Ct.min(),t?l:Bt())).next(p=>(lO(r,jR(e),p),{documents:p,Hi:l})))}function oO(n,e){const t=qe(n),r=qe(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(c=>c?c.target:null))}function aO(n,e){const t=qe(n),r=t.Ki.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,mR(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(lO(t,e,i),i))}function lO(n,e,t){let r=Ct.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function iM(){return iM=(0,_e.Z)(function*(n,e,t,r){const i=qe(n);let l=Bt(),c=Bs();for(const I of t){const T=e.Ji(I.metadata.name);I.document&&(l=l.add(T));const M=e.Yi(I);M.setReadTime(e.Xi(I.metadata.readTime)),c=c.insert(T,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Zy(i,(I=r,Us(Uy(sn.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>sO(I,p,c).next(T=>(p.apply(I),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(I,y.targetId).next(()=>i.Cs.addMatchingKeys(I,l,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,T.Wi,T.zi)).next(()=>T.Wi)))}),iM.apply(this,arguments)}function rF(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,_e.Z)(function*(n,e,t=Bt()){const r=yield Zy(n,Us(KA(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=li(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(l,e);const p=r.withResumeToken(zr.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(l,p).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),sM.apply(this,arguments)}function uO(n,e){return`firestore_clients_${n}_${e}`}function cO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function oM(n,e){return`firestore_targets_${n}_${e}`}class sC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Pe(i.error.code,i.error.message))),c?new sC(e,t,i.state,l):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Q0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Pe(r.error.code,r.error.message))),l?new Q0(e,r.state,i):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=WD();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=CR(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new oC(e,l):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aM{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aM(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lM{constructor(){this.activeTargetIds=WD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uM{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new hr(Ft),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=uO(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new lM),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(uO(e.persistenceKey,i));if(l){const c=oC.Zi(i,l);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(oM(this.persistenceKey,e));if(r){const i=Q0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let c=Vs.at;if(null!=l)try{const p=JSON.parse(l);xt("number"==typeof p),c=p}catch(p){_r("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Vs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Or(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new sC(this.currentUser,e,t,r),l=cO(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=cO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=oM(this.persistenceKey,e),l=new Q0(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return oC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return sC.Zi(new oi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Q0.Zi(i,t)}yr(e){return aM.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),c=[],p=[];return l.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{l.has(y)||p.push(y)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=WD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class dO{constructor(){this.Lr=new lM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new lM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iF{qr(e){}shutdown(){}}class hO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class oF{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class aF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const c=this.ao(e,t);ke("RestConnection","Sending: ",c,r);const p={};return this.ho(p,i,l),this.lo(e,c,p,r).then(y=>(ke("RestConnection","Received: ",y),y),y=>{throw Pp("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}fo(e,t,r,i,l,c){return this.co(e,t,r,i,l)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ao(e,t){return`${this.oo}/v1/${t}:${sF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((l,c)=>{const p=new s1;p.listenOnce(n1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case CA.NO_ERROR:const I=p.getResponseJson();ke("Connection","XHR received:",JSON.stringify(I)),l(I);break;case CA.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),c(new Pe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case CA.HTTP_ERROR:const T=p.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const L=function(B){const Z=B.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Z)>=0?Z:fe.UNKNOWN}(M.status);c(new Pe(L,M.message))}else c(new Pe(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Pe(fe.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=e1(),c=t1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new i1({})),this.ho(p.initMessageHeaders,t,r),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");ke("Connection","Creating WebChannel: "+y,p);const I=l.createWebChannel(y,p);let T=!1,M=!1;const L=new oF({Hr:Z=>{M?ke("Connection","Not sending because WebChannel is closed:",Z):(T||(ke("Connection","Opening WebChannel transport."),I.open(),T=!0),ke("Connection","WebChannel sending:",Z),I.send(Z))},Jr:()=>I.close()}),B=(Z,ue,Ie)=>{Z.listen(ue,We=>{try{Ie(We)}catch(tt){setTimeout(()=>{throw tt},0)}})};return B(I,ND.EventType.OPEN,()=>{M||ke("Connection","WebChannel transport opened.")}),B(I,ND.EventType.CLOSE,()=>{M||(M=!0,ke("Connection","WebChannel transport closed"),L.io())}),B(I,ND.EventType.ERROR,Z=>{M||(M=!0,Pp("Connection","WebChannel transport errored:",Z),L.io(new Pe(fe.UNAVAILABLE,"The operation could not be completed")))}),B(I,ND.EventType.MESSAGE,Z=>{var ue;if(!M){const Ie=Z.data[0];xt(!!Ie);const We=Ie,tt=We.error||(null===(ue=We[0])||void 0===ue?void 0:ue.error);if(tt){ke("Connection","WebChannel received error:",tt);const pt=tt.status;let st=function(Tt){const tn=Pr[Tt];if(void 0!==tn)return iN(tn)}(pt),Dt=tt.message;void 0===st&&(st=fe.INTERNAL,Dt="Unknown error status: "+pt+" with message "+tt.message),M=!0,L.io(new Pe(st,Dt)),I.close()}else ke("Connection","WebChannel received:",Ie),L.ro(Ie)}}),B(c,r1.STAT_EVENT,Z=>{Z.stat===cR.PROXY?ke("Connection","Detected buffering proxy"):Z.stat===cR.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function fO(){return typeof window<"u"?window:null}function aC(){return typeof document<"u"?document:null}function J0(n){return new J1(n,!0)}class cM{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class pO{constructor(e,t,r,i,l,c,p,y){this.Hs=e,this.Po=r,this.vo=i,this.Vo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new cM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,_e.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_e.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Pe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,_e.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lF extends pO{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=l}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function tL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:rt(),i=e.targetChange.targetIds||[],l=function(y,I){return y.gt?(xt(void 0===I||"string"==typeof I),zr.fromBase64String(I||"")):(xt(void 0===I||I instanceof Uint8Array),zr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const I=void 0===y.code?fe.UNKNOWN:iN(y.code);return new Pe(I,y.message||"")}(c);t=new uN(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=_u(n,r.document.name),l=li(r.document.updateTime),c=new Di({mapValue:{fields:r.document.fields}}),p=Rn.newFoundDocument(i,l,c);t=new qD(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=_u(n,r.document),l=r.readTime?li(r.readTime):Ct.min(),c=Rn.newNoDocument(i,l);t=new qD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=_u(n,r.document);t=new qD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new G1(r.count||0);t=new lN(r.targetId,l)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Ct.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?li(l.readTime):Ct.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=j0(this.It),t.addTarget=function(i,l){let c;const p=l.target;return c=BD(p)?{documents:vN(i,p)}:{query:wN(i,p)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=fN(i,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(c.readTime=B0(i,l.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function rL(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=j0(this.It),t.removeTarget=e,this.Bo(t)}}class uF extends pO{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function nL(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let l=li(r.updateTime?r.updateTime:i);return l.isEqual(Ct.min())&&(l=li(i)),new H1(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.Zo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=j0(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$0(this.It,r))};this.Bo(t)}}class cF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.Vo.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(fe.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.Vo.fo(e,t,r,l,c,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(fe.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class dF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(_r(t),this.ou=!1):ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class hF{constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(p=>{r.enqueueAndForget((0,_e.Z)(function*(){var y;xh(c)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,_e.Z)(function*(I){const T=qe(I);T._u.add(4),yield Qy(T),T.gu.set("Unknown"),T._u.delete(4),yield X0(T)}),function(I){return y.apply(this,arguments)})(c))}))}),this.gu=new dF(r,i)}}function X0(n){return dM.apply(this,arguments)}function dM(){return dM=(0,_e.Z)(function*(n){if(xh(n))for(const e of n.wu)yield e(!0)}),dM.apply(this,arguments)}function Qy(n){return hM.apply(this,arguments)}function hM(){return hM=(0,_e.Z)(function*(n){for(const e of n.wu)yield e(!1)}),hM.apply(this,arguments)}function lC(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),gM(t)?pM(t):Xy(t).ko()&&fM(t,e))}function eE(n,e){const t=qe(n),r=Xy(t);t.du.delete(e),r.ko()&&gO(t,e),0===t.du.size&&(r.ko()?r.Fo():xh(t)&&t.gu.set("Unknown"))}function fM(n,e){n.yu.Ot(e.targetId),Xy(n).zo(e)}function gO(n,e){n.yu.Ot(e),Xy(n).Ho(e)}function pM(n){n.yu=new Z1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Xy(n).start(),n.gu.uu()}function gM(n){return xh(n)&&!Xy(n).No()&&n.du.size>0}function xh(n){return 0===qe(n)._u.size}function mO(n){n.yu=void 0}function fF(n){return mM.apply(this,arguments)}function mM(){return mM=(0,_e.Z)(function*(n){n.du.forEach((e,t)=>{fM(n,e)})}),mM.apply(this,arguments)}function pF(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,_e.Z)(function*(n,e){mO(n),gM(n)?(n.gu.hu(e),pM(n)):n.gu.set("Unknown")}),yM.apply(this,arguments)}function gF(n,e,t){return _M.apply(this,arguments)}function _M(){return _M=(0,_e.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof uN&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,l){const c=l.cause;for(const p of l.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.du.delete(p),i.yu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uC(n,r)}else if(e instanceof qD?n.yu.Gt(e):e instanceof lN?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Ct.min()))try{const r=yield iO(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.yu.te(l);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const I=i.du.get(y);I&&i.du.set(y,I.withResumeToken(p.resumeToken,l))}}),c.targetMismatches.forEach(p=>{const y=i.du.get(p);if(!y)return;i.du.set(p,y.withResumeToken(zr.EMPTY_BYTE_STRING,y.snapshotVersion)),gO(i,p);const I=new Sh(y.target,p,1,y.sequenceNumber);fM(i,I)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield uC(n,r)}var r}),_M.apply(this,arguments)}function uC(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,_e.Z)(function*(n,e,t){if(!wh(e))throw e;n._u.add(1),yield Qy(n),n.gu.set("Offline"),t||(t=()=>iO(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield X0(n)}))}),vM.apply(this,arguments)}function yO(n,e){return e().catch(t=>uC(n,t,e))}function Jy(n){return wM.apply(this,arguments)}function wM(){return wM=(0,_e.Z)(function*(n){const e=qe(n),t=Ph(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;mF(e);)try{const i=yield tF(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,yF(e,i)}catch(i){yield uC(e,i)}_O(e)&&vO(e)}),wM.apply(this,arguments)}function mF(n){return xh(n)&&n.fu.length<10}function yF(n,e){n.fu.push(e);const t=Ph(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function _O(n){return xh(n)&&!Ph(n).No()&&n.fu.length>0}function vO(n){Ph(n).start()}function _F(n){return EM.apply(this,arguments)}function EM(){return EM=(0,_e.Z)(function*(n){Ph(n).eu()}),EM.apply(this,arguments)}function vF(n){return IM.apply(this,arguments)}function IM(){return IM=(0,_e.Z)(function*(n){const e=Ph(n);for(const t of n.fu)e.Xo(t.mutations)}),IM.apply(this,arguments)}function wF(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=(0,_e.Z)(function*(n,e,t){const r=n.fu.shift(),i=WA.from(r,e,t);yield yO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jy(n)}),bM.apply(this,arguments)}function EF(n,e){return DM.apply(this,arguments)}function DM(){return DM=(0,_e.Z)(function*(n,e){var t;e&&Ph(n).Yo&&(yield(t=(0,_e.Z)(function*(r,i){if(rN(l=i.code)&&l!==fe.ABORTED){const c=r.fu.shift();Ph(r).Oo(),yield yO(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Jy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),_O(n)&&vO(n)}),DM.apply(this,arguments)}function wO(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,_e.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=xh(t);t._u.add(3),yield Qy(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield X0(t)}),CM.apply(this,arguments)}function TM(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,_e.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield X0(t)):e||(t._u.add(2),yield Qy(t),t.gu.set("Unknown"))}),SM.apply(this,arguments)}function Xy(n){return n.pu||(n.pu=function(e,t,r){const i=qe(e);return i.su(),new lF(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:fF.bind(null,n),Zr:pF.bind(null,n),Wo:gF.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.pu.Oo(),gM(n)?pM(n):n.gu.set("Unknown")):(yield n.pu.stop(),mO(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ph(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.su(),new uF(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:_F.bind(null,n),Zr:EF.bind(null,n),tu:vF.bind(null,n),Zo:wF.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Iu.Oo(),yield Jy(n)):(yield n.Iu.stop(),n.fu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class AM{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,p=new AM(e,t,c,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,e){if(_r("AsyncQueue",`${e}: ${n}`),wh(n))return new Pe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class t_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=L0(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new t_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof t_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new t_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class EO{constructor(){this.Tu=new hr(ze.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class n_{constructor(e,t,r,i,l,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new n_(e,t,t_.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&N0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class IF{constructor(){this.Au=void 0,this.listeners=[]}}class bF{constructor(){this.queries=new Th(e=>HR(e),N0),this.onlineState="Unknown",this.Ru=new Set}}function MM(n,e){return xM.apply(this,arguments)}function xM(){return xM=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new IF),i)try{l.Au=yield t.onListen(r)}catch(c){const p=e_(c,`Initialization of query '${VA(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&NM(t)}),xM.apply(this,arguments)}function PM(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RM.apply(this,arguments)}function DF(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Pu(i)&&(r=!0);c.Au=i}}r&&NM(t)}function CF(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function NM(n){n.Ru.forEach(e=>{e.next()})}class OM{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new n_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=n_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class TF{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class IO{constructor(e){this.It=e}Ji(e){return _u(this.It,e)}Yi(e){return e.metadata.exists?_N(this.It,e.document,!1):Rn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return li(e)}}class SF{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bO(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=sn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new IO(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Bt()).add(l);t.set(c,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function nF(n,e,t,r){return iM.apply(this,arguments)}(e.localStore,new IO(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield rF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function bO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DO{constructor(e){this.key=e}}class CO{constructor(e){this.key=e}}class TO{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Bt(),this.mutatedKeys=Bt(),this.Ku=$R(e),this.Gu=new t_(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new EO,i=t?t.Gu:this.Gu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const L=i.get(T),B=UA(this.query,M)?M:null,Z=!!L&&this.mutatedKeys.has(L.key),ue=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ie=!1;L&&B?L.data.isEqual(B.data)?Z!==ue&&(r.track({type:3,doc:B}),Ie=!0):this.zu(L,B)||(r.track({type:2,doc:B}),Ie=!0,(y&&this.Ku(B,y)>0||I&&this.Ku(B,I)<0)&&(p=!0)):!L&&B?(r.track({type:0,doc:B}),Ie=!0):L&&!B&&(r.track({type:1,doc:L}),Ie=!0,(y||I)&&(p=!0)),Ie&&(B?(c=c.add(B),l=ue?l.add(T):l.delete(T)):(c=c.delete(T),l=l.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Gu:c,Wu:r,$i:p,mutatedKeys:l}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.Wu.Eu();l.sort((I,T)=>function(M,L){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return B(M)-B(L)}(I.type,T.type)||this.Ku(I.doc,T.doc)),this.Hu(r);const c=t?this.Ju():[],p=0===this.qu.size&&this.current?1:0,y=p!==this.Uu;return this.Uu=p,0!==l.length||y?{snapshot:new n_(this.query,e.Gu,i,l,e.mutatedKeys,0===p,y,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new EO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Bt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new CO(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new DO(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Bt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return n_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class AF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MF{constructor(e){this.key=e,this.ec=!1}}class xF{constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Th(p=>HR(p),N0),this.ic=new Map,this.rc=new Set,this.oc=new hr(ze.comparator),this.uc=new Map,this.cc=new QA,this.ac={},this.hc=new Map,this.lc=qp.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function PF(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,_e.Z)(function*(n,e){const t=ix(n);let r,i;const l=t.sc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.tc();else{const c=yield Zy(t.localStore,Us(e));t.isPrimaryClient&&lC(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield LM(t,e,r,"current"===p)}return i}),kM.apply(this,arguments)}function LM(n,e,t,r){return FM.apply(this,arguments)}function FM(){return FM=(0,_e.Z)(function*(n,e,t,r){n.dc=(T,M,L)=>{return(B=(0,_e.Z)(function*(Z,ue,Ie,We){let tt=ue.view.ju(Ie);tt.$i&&(tt=yield iC(Z.localStore,ue.query,!1).then(({documents:Dt})=>ue.view.ju(Dt,tt)));const pt=We&&We.targetChanges.get(ue.targetId),st=ue.view.applyChanges(tt,Z.isPrimaryClient,pt);return qM(Z,ue.targetId,st.Yu),st.snapshot}),function(Z,ue,Ie,We){return B.apply(this,arguments)})(n,T,M,L);var B};const i=yield iC(n.localStore,e,!0),l=new TO(e,i.Hi),c=l.ju(i.documents),p=U0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=l.applyChanges(c,n.isPrimaryClient,p);qM(n,t,y.Yu);const I=new AF(e,t,l);return n.sc.set(e,I),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),FM.apply(this,arguments)}function RF(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,_e.Z)(function*(n,e){const t=qe(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(l=>!N0(l,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Yy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),eE(t.remoteStore,r.targetId),r_(t,r.targetId)}).catch(vh))):(r_(t,r.targetId),yield Yy(t.localStore,r.targetId,!0))}),VM.apply(this,arguments)}function UM(){return UM=(0,_e.Z)(function*(n,e,t){const r=sx(n);try{const i=yield function(l,c){const p=qe(l),y=Jn.now(),I=c.reduce((L,B)=>L.add(B.key),Bt());let T,M;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=Bs(),Z=Bt();return p.Gi.getEntries(L,I).next(ue=>{B=ue,B.forEach((Ie,We)=>{We.isValidDocument()||(Z=Z.add(Ie))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,B)).next(ue=>{T=ue;const Ie=[];for(const We of c){const tt=$1(We,T.get(We.key).overlayedDocument);null!=tt&&Ie.push(new Wc(We.key,tt,RR(tt.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,Ie,c)}).next(ue=>{M=ue;const Ie=ue.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(L,ue.batchId,Ie)})}).then(()=>({batchId:M.batchId,changes:oN(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,p){let y=l.ac[l.currentUser.toKey()];y||(y=new hr(Ft)),y=y.insert(c,p),l.ac[l.currentUser.toKey()]=y}(r,i.batchId,t),yield qc(r,i.changes),yield Jy(r.remoteStore)}catch(i){const l=e_(i,"Failed to persist write");t.reject(l)}}),UM.apply(this,arguments)}function SO(n,e){return BM.apply(this,arguments)}function BM(){return BM=(0,_e.Z)(function*(n,e){const t=qe(n);try{const r=yield eF(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.uc.get(l);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?xt(c.ec):i.removedDocuments.size>0&&(xt(c.ec),c.ec=!1))}),yield qc(t,r,e)}catch(r){yield vh(r)}}),BM.apply(this,arguments)}function AO(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((l,c)=>{const p=c.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(l,c){const p=qe(l);p.onlineState=c;let y=!1;p.queries.forEach((I,T)=>{for(const M of T.listeners)M.bu(c)&&(y=!0)}),y&&NM(p)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OF(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,_e.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),l=i&&i.key;if(l){let c=new hr(ze.comparator);c=c.insert(l,Rn.newNoDocument(l,Ct.min()));const p=Bt().add(l),y=new V0(Ct.min(),new Map,new In(Ft),c,p);yield SO(r,y),r.oc=r.oc.remove(l),r.uc.delete(e),KM(r)}else yield Yy(r.localStore,e,!1).then(()=>r_(r,e,t)).catch(vh)}),HM.apply(this,arguments)}function kF(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield XL(t.localStore,e);WM(t,r,null),zM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qc(t,i)}catch(i){yield vh(i)}}),jM.apply(this,arguments)}function LF(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,_e.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(l,c){const p=qe(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return p.mutationQueue.lookupMutationBatch(y,c).next(T=>(xt(null!==T),I=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,I,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>p.localDocuments.getDocuments(y,I))})}(r.localStore,e);WM(r,e,t),zM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qc(r,i)}catch(i){yield vh(i)}}),$M.apply(this,arguments)}function GM(){return GM=(0,_e.Z)(function*(n,e){const t=qe(n);xh(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=qe(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=e_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),GM.apply(this,arguments)}function zM(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function WM(n,e,t){const r=qe(n);let i=r.ac[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function r_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||MO(n,r)})}function MO(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(eE(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),KM(n))}function qM(n,e,t){for(const r of t)r instanceof DO?(n.cc.addReference(r.key,e),VF(n,r)):r instanceof CO?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||MO(n,r.key)):rt()}function VF(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.rc.add(r),KM(n))}function KM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new ze(sn.fromString(e)),r=n.lc.next();n.uc.set(r,new MF(t)),n.oc=n.oc.insert(t,r),lC(n.remoteStore,new Sh(Us(Uy(t.path)),r,2,Vs.at))}}function qc(n,e,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=[],l=[],c=[];var p;r.sc.isEmpty()||(r.sc.forEach((p,y)=>{c.push(r.dc(y,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,I.fromCache?"not-current":"current"),i.push(I);const T=tM.Ci(y.targetId,I);l.push(T)}}))}),yield Promise.all(c),r.nc.Wo(i),yield(p=(0,_e.Z)(function*(y,I){const T=qe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>le.forEach(I,L=>le.forEach(L.Si,B=>T.persistence.referenceDelegate.addReference(M,L.targetId,B)).next(()=>le.forEach(L.Di,B=>T.persistence.referenceDelegate.removeReference(M,L.targetId,B)))))}catch(M){if(!wh(M))throw M;ke("LocalStore","Failed to update sequence numbers: "+M)}for(const M of I){const L=M.targetId;if(!M.fromCache){const B=T.Ui.get(L),ue=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.Ui=T.Ui.insert(L,ue)}}}),function(y,I){return p.apply(this,arguments)})(r.localStore,l))}),ZM.apply(this,arguments)}function UF(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,_e.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield rO(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(p=>{p.reject(new Pe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qc(t,r.ji)}var i}),YM.apply(this,arguments)}function BF(n,e){const t=qe(n),r=t.uc.get(e);if(r&&r.ec)return Bt().add(r.key);{let i=Bt();const l=t.ic.get(e);if(!l)return i;for(const c of l){const p=t.sc.get(c);i=i.unionWith(p.view.Qu)}return i}}function HF(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,_e.Z)(function*(n,e){const t=qe(n),r=yield iC(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&qM(t,e.targetId,i.Yu),i}),QM.apply(this,arguments)}function jF(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,_e.Z)(function*(n,e){const t=qe(n);return aO(t.localStore,e).then(r=>qc(t,r))}),JM.apply(this,arguments)}function $F(n,e,t,r){return XM.apply(this,arguments)}function XM(){return XM=(0,_e.Z)(function*(n,e,t,r){const i=qe(n),l=yield function(c,p){const y=qe(c),I=qe(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>I.Tn(T,p).next(M=>M?y.localDocuments.getDocuments(T,M):le.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield Jy(i.remoteStore):"acknowledged"===t||"rejected"===t?(WM(i,e,r||null),zM(i,e),p=e,qe(qe(i.localStore).mutationQueue).An(p)):rt(),yield qc(i,l)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),XM.apply(this,arguments)}function ex(){return ex=(0,_e.Z)(function*(n,e){const t=qe(n);if(ix(t),sx(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xO(t,r.toArray());t.fc=!0,yield TM(t.remoteStore,!0);for(const l of i)lC(t.remoteStore,l)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(r_(t,c),Yy(t.localStore,c,!0))),eE(t.remoteStore,c)}),yield i,yield xO(t,r),function(l){const c=qe(l);c.uc.forEach((p,y)=>{eE(c.remoteStore,y)}),c.cc.fs(),c.uc=new Map,c.oc=new hr(ze.comparator)}(t),t.fc=!1,yield TM(t.remoteStore,!1)}}),ex.apply(this,arguments)}function xO(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=[],l=[];for(const c of e){let p;const y=r.ic.get(c);if(y&&0!==y.length){p=yield Zy(r.localStore,Us(y[0]));for(const I of y){const T=r.sc.get(I),M=yield HF(r,T);M.snapshot&&l.push(M.snapshot)}}else{const I=yield oO(r.localStore,c);p=yield Zy(r.localStore,I),yield LM(r,PO(I),c,!1)}i.push(p)}return r.nc.Wo(l),i}),tx.apply(this,arguments)}function PO(n){return UR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zF(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function WF(n,e,t,r){return nx.apply(this,arguments)}function nx(){return nx=(0,_e.Z)(function*(n,e,t,r){const i=qe(n);if(i.fc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const l=i.ic.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield aO(i.localStore,jR(l[0])),p=V0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield qc(i,c,p);break}case"rejected":yield Yy(i.localStore,e,!0),r_(i,e,r);break;default:rt()}}),nx.apply(this,arguments)}function qF(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,_e.Z)(function*(n,e,t){const r=ix(n);if(r.fc){for(const i of e){if(r.ic.has(i)){ke("SyncEngine","Adding an already active target "+i);continue}const l=yield oO(r.localStore,i),c=yield Zy(r.localStore,l);yield LM(r,PO(l),c.targetId,!1),lC(r.remoteStore,c)}for(const i of t)r.ic.has(i)&&(yield Yy(r.localStore,i,!1).then(()=>{eE(r.remoteStore,i),r_(r,i)}).catch(vh))}}),rx.apply(this,arguments)}function ix(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OF.bind(null,e),e.nc.Wo=DF.bind(null,e.eventManager),e.nc._c=CF.bind(null,e.eventManager),e}function sx(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LF.bind(null,e),e}class RO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.It=J0(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return nO(this.persistence,new tO,e.initialUser,this.It)}gc(e){return new XN(nC.Bs,this.It)}mc(e){return new dO}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NO extends RO{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield sx(r.Ec.syncEngine),yield Jy(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return nO(this.persistence,new tO,e.initialUser,this.It)}Ic(e,t){return new VL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new E1(t,this.persistence);return new w1(e.asyncQueue,r)}gc(e){const t=eM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new XA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fO(),aC(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new dO}}class ZF extends NO{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof uM&&(r.sharedClientState.syncEngine={Fr:$F.bind(null,i),$r:WF.bind(null,i),Br:qF.bind(null,i),vi:zF.bind(null,i),Or:jF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,_e.Z)(function*(c){yield function GF(n,e){return ex.apply(this,arguments)}(r.Ec.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}mc(e){const t=fO();if(!uM.C(t))throw new Pe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ox{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=UF.bind(null,r.syncEngine),yield TM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bF}createDatastore(e){const t=J0(e.databaseInfo.databaseId),r=new aF(e.databaseInfo);return new cF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>AO(this.syncEngine,p,0),c=hO.C()?new hO:new iF,new hF(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,p,y,I){const T=new xF(r,i,l,c,p,y);return I&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=qe(t);ke("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Qy(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OO(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class cC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class YF{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ai,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const l=yield e.Dc(i);return new TF(JSON.parse(l),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,_e.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class QF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(l,c){const p=qe(l),y=j0(p.It)+"/documents",I={documents:c.map(B=>H0(p.It,B))},T=yield p.fo("BatchGetDocuments",y,I,c.length),M=new Map;T.forEach(B=>{const Z=function eL(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=_u(t,r.found.name),l=li(r.found.updateTime),c=new Di({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(i,l,c)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=_u(t,r.missing),l=li(r.readTime);return Rn.newNoDocument(i,l)}(n,e):rt()}(p.It,B);M.set(Z.key.toString(),Z)});const L=[];return c.forEach(B=>{const Z=M.get(B.toString());xt(!!Z),L.push(Z)}),L}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=ze.fromPath(i);e.mutations.push(new BA(l,e.precondition(l)))}),yield(r=(0,_e.Z)(function*(i,l){const c=qe(i),p=j0(c.It)+"/documents",y={writes:l.map(I=>$0(c.It,I))};yield c.co("Commit",p,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Pe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ct.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Pe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class JF{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.Nc=r.maxAttempts,this.xo=new cM(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,_e.Z)(function*(){const t=new QF(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Oc(l)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!S0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rN(t)}return!1}}class XF{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=oi.UNAUTHENTICATED,this.clientId=pR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(p){ke("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=e_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kO(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(l){r.isEqual(l)||(yield rO(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),ax.apply(this,arguments)}function LO(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ux(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>wO(e.remoteStore,l)),n.onlineComponents=e}),lx.apply(this,arguments)}function ux(n){return cx.apply(this,arguments)}function cx(){return cx=(0,_e.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield kO(n,new RO)),n.offlineComponents}),cx.apply(this,arguments)}function dC(n){return dx.apply(this,arguments)}function dx(){return dx=(0,_e.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield LO(n,new ox)),n.onlineComponents}),dx.apply(this,arguments)}function FO(n){return ux(n).then(e=>e.persistence)}function hC(n){return ux(n).then(e=>e.localStore)}function VO(n){return dC(n).then(e=>e.remoteStore)}function hx(n){return dC(n).then(e=>e.syncEngine)}function i_(n){return fx.apply(this,arguments)}function fx(){return fx=(0,_e.Z)(function*(n){const e=yield dC(n),t=e.eventManager;return t.onListen=PF.bind(null,e.syncEngine),t.onUnlisten=RF.bind(null,e.syncEngine),t}),fx.apply(this,arguments)}function UO(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,l,c,p,y){const I=new cC({next:M=>{l.enqueueAndForget(()=>PM(i,T));const L=M.docs.has(c);!L&&M.fromCache?y.reject(new Pe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&p&&"server"===p.source?y.reject(new Pe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new OM(Uy(c.path),I,{includeMetadataChanges:!0,Nu:!0});return MM(i,T)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}function BO(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,l,c,p,y){const I=new cC({next:M=>{l.enqueueAndForget(()=>PM(i,T)),M.fromCache&&"server"===p.source?y.reject(new Pe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new OM(c,I,{includeMetadataChanges:!0,Nu:!0});return MM(i,T)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}const HO=new Map;function px(n,e,t){if(!t)throw new Pe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jO(n,e,t,r){if(!0===e&&!0===r)throw new Pe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $O(n){if(!ze.isDocumentKey(n))throw new Pe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GO(n){if(ze.isDocumentKey(n))throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fC(n);throw new Pe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zO(n,e){if(e<=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class WO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new l1;switch(t.type){case"gapi":return new h1(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HO.get(e);t&&(ke("ComponentProvider","Removing Datastore"),HO.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class wu extends ji{constructor(e,t,r){super(e,t,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new ze(e))}withConverter(e){return new wu(this.firestore,e,this._path)}}function qO(n,e,...t){if(n=(0,$t.m9)(n),px("collection","path",e),n instanceof tE){const r=sn.fromString(e,...t);return GO(r),new wu(n,null,r)}{if(!(n instanceof Hn||n instanceof wu))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return GO(r),new wu(n.firestore,null,r)}}function pC(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=pR.R()),px("doc","path",e),n instanceof tE){const r=sn.fromString(e,...t);return $O(r),new Hn(n,null,new ze(r))}{if(!(n instanceof Hn||n instanceof wu))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return $O(r),new Hn(n.firestore,n instanceof wu?n.converter:null,new ze(r))}}function KO(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof Hn||n instanceof wu)&&(e instanceof Hn||e instanceof wu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ZO(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof ji&&e instanceof ji&&n.firestore===e.firestore&&N0(n._query,e._query)&&n.converter===e.converter}class cV{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new cM(this,"async_queue_retry"),this.jc=()=>{const t=aC();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=aC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=aC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ai;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!wh(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,_r("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=AM.createAndSchedule(this,e,t,r,l=>this.Jc(l));return this.Uc.push(i),i}Wc(){this.qc&&rt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function gx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class dV{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends tE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cV,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YO(this),this._firestoreClient.terminate()}}function Rr(n){return n._firestoreClient||YO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YO(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new D1(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new XF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function QO(n,e,t){const r=new ai;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield kO(n,t),yield LO(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(c=l).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;Pp("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function JO(n){if(n._initialized||n._terminated)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(zr.fromBase64String(e))}catch(t){throw new Pe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zp{constructor(e){this._methodName=e}}class gC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const EV=/^__.*__$/;class IV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new $y(e,this.data,t,this.fieldTransforms)}}class XO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ek(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class mC{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.ea(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new mC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return vC(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(ek(this.na)&&EV.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class bV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||J0(e)}fa(e,t,r,i=!1){return new mC({na:e,methodName:t,la:r,path:dr.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Yp(n){const e=n._freezeSettings(),t=J0(n._databaseId);return new bV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yC(n,e,t,r,i,l={}){const c=n.fa(l.merge||l.mergeFields?2:0,e,t,i);vx("Data must be an object, but it was:",c,r);const p=rk(r,c);let y,I;if(l.merge)y=new So(c.fieldMask),I=c.fieldTransforms;else if(l.mergeFields){const T=[];for(const M of l.mergeFields){const L=wx(e,M,t);if(!c.contains(L))throw new Pe(fe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);sk(T,L)||T.push(L)}y=new So(T),I=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,I=c.fieldTransforms;return new IV(new Di(p),y,I)}class nE extends Zp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nE}}function tk(n,e,t){return new mC({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class mx extends Zp{_toFieldTransform(e){return new O0(e.path,new Hy)}isEqual(e){return e instanceof mx}}class DV extends Zp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=tk(this,e,!0),r=this.da.map(l=>Qp(l,t)),i=new Up(r);return new O0(e.path,i)}isEqual(e){return this===e}}class CV extends Zp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=tk(this,e,!0),r=this.da.map(l=>Qp(l,t)),i=new Bp(r);return new O0(e.path,i)}isEqual(e){return this===e}}class TV extends Zp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new jy(e.It,WR(e.It,this._a));return new O0(e.path,t)}isEqual(e){return this===e}}function yx(n,e,t,r){const i=n.fa(1,e,t);vx("Data must be an object, but it was:",i,r);const l=[],c=Di.empty();Op(r,(y,I)=>{const T=_C(e,y,t);I=(0,$t.m9)(I);const M=i.ua(T);if(I instanceof nE)l.push(T);else{const L=Qp(I,M);null!=L&&(l.push(T),c.set(T,L))}});const p=new So(l);return new XO(c,p,i.fieldTransforms)}function _x(n,e,t,r,i,l){const c=n.fa(1,e,t),p=[wx(e,r,t)],y=[i];if(l.length%2!=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)p.push(wx(e,l[L])),y.push(l[L+1]);const I=[],T=Di.empty();for(let L=p.length-1;L>=0;--L)if(!sk(I,p[L])){const B=p[L];let Z=y[L];Z=(0,$t.m9)(Z);const ue=c.ua(B);if(Z instanceof nE)I.push(B);else{const Ie=Qp(Z,ue);null!=Ie&&(I.push(B),T.set(B,Ie))}}const M=new So(I);return new XO(T,M,c.fieldTransforms)}function nk(n,e,t,r=!1){return Qp(t,n.fa(r?4:3,e))}function Qp(n,e){if(ik(n=(0,$t.m9)(n)))return vx("Unsupported field value:",e,n),rk(n,e);if(n instanceof Zp)return function(t,r){if(!ek(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let p=Qp(c,r.ca(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return WR(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Jn.fromDate(t);return{timestampValue:B0(r.It,i)}}if(t instanceof Jn){const i=new Jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:B0(r.It,i)}}if(t instanceof gC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eu)return{bytesValue:fN(r.It,t._byteString)};if(t instanceof Hn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.aa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:HA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${fC(t)}`)}(n,e)}function rk(n,e){const t={};return IR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Op(n,(r,i)=>{const l=Qp(i,e.ia(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function ik(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jn||n instanceof gC||n instanceof Eu||n instanceof Hn||n instanceof Zp)}function vx(n,e,t){if(!ik(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fC(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function wx(n,e,t){if((e=(0,$t.m9)(e))instanceof Kc)return e._internalPath;if("string"==typeof e)return _C(n,e);throw vC("Field path arguments must be of type string or ",n,!1,void 0,t)}const SV=new RegExp("[~\\*/\\[\\]]");function _C(n,e,t){if(e.search(SV)>=0)throw vC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kc(...e.split("."))._internalPath}catch{throw vC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vC(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Pe(fe.INVALID_ARGUMENT,p+n+y)}function sk(n,e){return n.some(t=>t.isEqual(e))}class rE{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AV extends rE{data(){return super.data()}}function wC(n,e){return"string"==typeof e?_C(n,e):e instanceof Kc?e._internalPath:e._delegate._internalPath}class Jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zc extends rE{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iE extends Zc{data(e={}){return super.data(e)}}class Rh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iE(this._firestore,this._userDataWriter,r.key,r,new Jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new iE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Jp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new iE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Jp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,I=-1;return 0!==c.type&&(y=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),I=l.indexOf(c.doc.key)),{type:MV(c.type),doc:p,oldIndex:y,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function ok(n,e){return n instanceof Zc&&e instanceof Zc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rh&&e instanceof Rh&&n._firestore===e._firestore&&ZO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ak(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sE{}function Nh(n,...e){for(const t of e)n=t._apply(n);return n}class xV extends sE{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=Yp(e.firestore),r=function(i,l,c,p,y,I,T){let M;if(y.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){fk(T,I);const B=[];for(const Z of T)B.push(hk(p,i,Z));M={arrayValue:{values:B}}}else M=hk(p,i,T)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||fk(T,I),M=nk(c,"where",T,"in"===I||"not-in"===I);const L=Ci.create(y,I,M);return function(B,Z){if(Z.dt()){const Ie=LA(B);if(null!==Ie&&!Ie.isEqual(Z.field))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${Z.field.toString()}'`);const We=kA(B);null!==We&&pk(0,Z.field,We)}const ue=function(Ie,We){for(const tt of Ie.filters)if(We.indexOf(tt.op)>=0)return tt.op;return null}(B,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==ue)throw new Pe(fe.INVALID_ARGUMENT,ue===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${ue.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ji(e.firestore,e.converter,function(i,l){const c=i.filters.concat([l]);return new zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class RV extends sE{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Vy(i,l);return function(p,y){if(null===kA(p)){const I=LA(p);null!==I&&pk(0,I,y.field)}}(r,c),c}(e._query,this.wa,this.ya);return new ji(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new zc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class lk extends sE{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new ji(e.firestore,e.converter,jD(e._query,this.pa,this.Ia))}}class uk extends sE{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=dk(e,this.type,this.Ta,this.Ea);return new ji(e.firestore,e.converter,(i=t,new zc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class ck extends sE{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=dk(e,this.type,this.Ta,this.Ea);return new ji(e.firestore,e.converter,(i=t,new zc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function dk(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof rE)return function(i,l,c,p,y){if(!p)throw new Pe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const I=[];for(const T of By(i))if(T.field.isKeyField())I.push(Fp(l,p.key));else{const M=p.data.field(T.field);if(RA(M))throw new Pe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=T.field.canonicalString();throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}I.push(M)}return new Ch(I,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Yp(n.firestore);return function(l,c,p,y,I,T){const M=l.explicitOrderBy;if(I.length>M.length)throw new Pe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<I.length;B++){const Z=I[B];if(M[B].field.isKeyField()){if("string"!=typeof Z)throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Z}`);if(!FA(l)&&-1!==Z.indexOf("/"))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Z}' contains a slash.`);const ue=l.path.child(sn.fromString(Z));if(!ze.isDocumentKey(ue))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const Ie=new ze(ue);L.push(Fp(c,Ie))}else{const ue=nk(p,y,Z);L.push(ue)}}return new Ch(L,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function hk(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FA(e)&&-1!==t.indexOf("/"))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sn.fromString(t));if(!ze.isDocumentKey(r))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fp(n,new ze(r))}if(t instanceof Hn)return Fp(n,t._key);throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fC(t)}.`)}function fk(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pk(n,e,t){if(!t.isEqual(e))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const BV={maxAttempts:5};class Ex{convertValue(e,t="none"){switch(Lp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Op(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new gC(fr(e.latitude),fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=DR(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(T0(e));default:return null}}convertTimestamp(e){const t=Eh(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);xt(bN(r));const i=new Ih(r.get(1),r.get(3)),l=new ze(r.popFirst(5));return i.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function EC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class HV extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class gk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yp(e)}set(e,t,r){this._verifyNotCommitted();const i=Oh(e,this._firestore),l=EC(i.converter,t,r),c=yC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Oh(e,this._firestore);let c;return c="string"==typeof(t=(0,$t.m9)(t))||t instanceof Kc?_x(this._dataReader,"WriteBatch.update",l._key,t,r,i):yx(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Oh(e,this._firestore);return this._mutations=this._mutations.concat(new Gy(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oh(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Pe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xp extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function mk(n,e,t){n=en(n,Hn);const r=en(n.firestore,er),i=EC(n.converter,e,t);return s_(r,[yC(Yp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xn.none())])}function yk(n,e,t,...r){n=en(n,Hn);const i=en(n.firestore,er),l=Yp(i);let c;return c="string"==typeof(e=(0,$t.m9)(e))||e instanceof Kc?_x(l,"updateDoc",n._key,e,t,r):yx(l,"updateDoc",n._key,e),s_(i,[c.toMutation(n._key,Xn.exists(!0))])}function _k(n,...e){var t,r,i;n=(0,$t.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||gx(e[c])||(l=e[c],c++);const p={includeMetadataChanges:l.includeMetadataChanges};if(gx(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,I,T;if(n instanceof Hn)I=en(n.firestore,er),T=Uy(n._key.path),y={next:M=>{e[c]&&e[c](Ix(I,n,M))},error:e[c+1],complete:e[c+2]};else{const M=en(n,ji);I=en(M.firestore,er),T=M._query;const L=new Xp(I);y={next:B=>{e[c]&&e[c](new Rh(I,L,M,B))},error:e[c+1],complete:e[c+2]},ak(n._query)}return function(M,L,B,Z){const ue=new cC(Z),Ie=new OM(L,ue,B);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return MM(yield i_(M),Ie)})),()=>{ue.Rc(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return PM(yield i_(M),Ie)}))}}(Rr(I),T,p,y)}function s_(n,e){return function(t,r){const i=new ai;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function NF(n,e,t){return UM.apply(this,arguments)}(yield hx(t),r,i)})),i.promise}(Rr(n),e)}function Ix(n,e,t){const r=t.docs.get(e._key),i=new Xp(n);return new Zc(n,i,e._key,r,new Jp(t.hasPendingWrites,t.fromCache),e.converter)}class QV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yp(e)}get(e){const t=Oh(e,this._firestore),r=new HV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const l=i[0];if(l.isFoundDocument())return new rE(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new rE(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const i=Oh(e,this._firestore),l=EC(i.converter,t,r),c=yC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=Oh(e,this._firestore);let c;return c="string"==typeof(t=(0,$t.m9)(t))||t instanceof Kc?_x(this._dataReader,"Transaction.update",l._key,t,r,i):yx(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Oh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Oh(e,this._firestore),r=new Xp(this._firestore);return super.get(e).then(i=>new Zc(this._firestore,r,t._key,i._document,new Jp(!1,!1),t.converter))}}function bx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function wk(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function Ek(){if(!function I1(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Oy=nl.SDK_VERSION,(0,nl._registerComponent)(new $m.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),c=new er(new c1(t.getProvider("auth-internal")),new f1(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Pe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(p.options.projectId,y)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,nl.registerVersion)(dR,"3.4.15",n),(0,nl.registerVersion)(dR,"3.4.15","esm2017")}();class oE{constructor(e){this._delegate=e}static fromBase64String(e){return Ek(),new oE(Eu.fromBase64String(e))}static fromUint8Array(e){return wk(),new oE(Eu.fromUint8Array(e))}toBase64(){return Ek(),this._delegate.toBase64()}toUint8Array(){return wk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Dx(n){return function oU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class aU{enableIndexedDbPersistence(e,t){return function fV(n,e){JO(n=en(n,er));const t=Rr(n),r=n._freezeSettings(),i=new ox;return QO(t,i,new NO(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pV(n){JO(n=en(n,er));const e=Rr(n),t=n._freezeSettings(),r=new ox;return QO(e,r,new ZF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function gV(n){if(n._initialized&&!n._terminated)throw new Pe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!il.C())return Promise.resolve();const i=r+"main";yield il.delete(i)}),function(r){return t.apply(this,arguments)})(eM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ik{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ih||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function lV(n,e,t,r={}){var i;const l=(n=en(n,tE))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Pp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=oi.MOCK_USER;else{c=(0,$t.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Pe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new oi(y)}n._authCredentials=new u1(new hR(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function yV(n){return function eV(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield FO(n),t=yield VO(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i._u.delete(0),X0(i)}(t)}))}(Rr(n=en(n,er)))}(this._delegate)}disableNetwork(){return function _V(n){return function tV(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield FO(n),t=yield VO(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const l=qe(i);l._u.add(0),yield Qy(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Rr(n=en(n,er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,jO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mV(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function FF(n,e){return GM.apply(this,arguments)}(yield hx(e),t)})),t.promise}(Rr(n=en(n,er)))}(this._delegate)}onSnapshotsInSync(e){return function YV(n,e){return function iV(n,e){const t=new cC(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield i_(n),i=t,qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield i_(n),i=t,void qe(r).Ru.delete(i);var r,i}))}}(Rr(n=en(n,er)),gx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new o_(this,qO(this._delegate,e))}catch(t){throw ps(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,pC(this._delegate,e))}catch(t){throw ps(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new gs(this,function uV(n,e){if(n=en(n,tE),px("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ji(n,null,(t=e,new zc(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ps(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function JV(n,e,t){n=en(n,er);const r=Object.assign(Object.assign({},BV),t);return function(i){if(i.maxAttempts<1)throw new Pe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function sV(n,e,t){const r=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(l=n,dC(l).then(c=>c.datastore));var l;new JF(n.asyncQueue,i,t,e,r).run()})),r.promise}(Rr(n),i=>e(new QV(n,i)),r)}(this._delegate,t=>e(new bk(this,t)))}batch(){return Rr(this._delegate),new Dk(new gk(this._delegate,e=>s_(this._delegate,e)))}loadBundle(e){return function vV(n,e){const t=Rr(n=en(n,er)),r=new dV;return function oV(n,e,t,r){const i=function(l,c){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,I){if(y instanceof Uint8Array)return OO(y,I);if(y instanceof ArrayBuffer)return OO(new Uint8Array(y),I);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new YF(y,c);var y}(t,J0(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function KF(n,e,t){const r=qe(n);var i;(i=(0,_e.Z)(function*(l,c,p){try{const y=yield c.getMetadata();if(yield function(L,B){const Z=qe(L),ue=li(B.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Ie=>Z.Ns.getBundleMetadata(Ie,B.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(ue)>=0)}(l.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=y).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(bO(y));const I=new SF(y,l.localStore,c.It);let T=yield c.wc();for(;T;){const L=yield I.Ou(T);L&&p._updateProgress(L),T=yield c.wc()}const M=yield I.complete();return yield qc(l,M.Bu,void 0),yield function(L,B){const Z=qe(L);return Z.persistence.runTransaction("Save bundle","readwrite",ue=>Z.Ns.saveBundleMetadata(ue,B))}(l.localStore,y),p._completeWith(M.progress),Promise.resolve(M.$u)}catch(y){return Pp("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var L}),function(l,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield hx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function wV(n,e){return function aV(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield hC(n),e)}))}(Rr(n=en(n,er)),e).then(t=>t?new ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new gs(this,t):null)}}class IC extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new oE(new Eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class bk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new IC(e)}get(e){const t=tg(e);return this._delegate.get(t).then(r=>new aE(this._firestore,new Zc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=tg(e);return r?(bx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=tg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=tg(e);return this._delegate.delete(t),this}}class Dk{constructor(e){this._delegate=e}set(e,t,r){const i=tg(e);return r?(bx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=tg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=tg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class eg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new iE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=eg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new eg(e,new IC(e),t),i.set(t,l)),l}}eg.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Hn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new sa(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new o_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new o_(this.firestore,qO(this._delegate,e))}catch(t){throw ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof Hn&&KO(this._delegate,e)}set(e,t){t=bx("DocumentReference.set",t);try{return t?mk(this._delegate,e,t):mk(this._delegate,e)}catch(r){throw ps(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?yk(this._delegate,e):yk(this._delegate,e,t,...r)}catch(i){throw ps(i,"updateDoc()","DocumentReference.update()")}}delete(){return function KV(n){return s_(en(n.firestore,er),[new Gy(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=Ck(e),r=Tk(e,i=>new aE(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _k(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function $V(n){n=en(n,Hn);const e=en(n.firestore,er),t=Rr(e),r=new Xp(e);return function nV(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,l,c){try{const p=yield function(y,I){const T=qe(y);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,I))}(i,l);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Pe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=e_(p,`Failed to get document '${l} from cache`);c.reject(y)}}),function(i,l,c){return r.apply(this,arguments)})(yield hC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Zc(e,r,n._key,i,new Jp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function GV(n){n=en(n,Hn);const e=en(n.firestore,er);return UO(Rr(e),n._key,{source:"server"}).then(t=>Ix(e,n,t))}(this._delegate):function jV(n){n=en(n,Hn);const e=en(n.firestore,er);return UO(Rr(e),n._key).then(t=>Ix(e,n,t))}(this._delegate),t.then(r=>new aE(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?eg.getInstance(this.firestore,e):null))}}function ps(n,e,t){return n.message=n.message.replace(e,t),n}function Ck(n){for(const e of n)if("object"==typeof e&&!Dx(e))return e;return{}}function Tk(n,e){var t,r;let i;return i=Dx(n[0])?n[0]:Dx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class aE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ok(this._delegate,e._delegate)}}class lE extends aE{data(e){const t=this._delegate.data(e);return function a1(n,e){n||rt()}(void 0!==t),t}}class gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IC(e)}where(e,t,r){try{return new gs(this.firestore,Nh(this._delegate,function PV(n,e,t){const r=e,i=wC("where",n);return new xV(i,r,t)}(e,t,r)))}catch(i){throw ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new gs(this.firestore,Nh(this._delegate,function NV(n,e="asc"){const t=e,r=wC("orderBy",n);return new RV(r,t)}(e,t)))}catch(r){throw ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new gs(this.firestore,Nh(this._delegate,function OV(n){return zO("limit",n),new lk("limit",n,"F")}(e)))}catch(t){throw ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new gs(this.firestore,Nh(this._delegate,function kV(n){return zO("limitToLast",n),new lk("limitToLast",n,"L")}(e)))}catch(t){throw ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new gs(this.firestore,Nh(this._delegate,function LV(...n){return new uk("startAt",n,!0)}(...e)))}catch(t){throw ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new gs(this.firestore,Nh(this._delegate,function FV(...n){return new uk("startAfter",n,!1)}(...e)))}catch(t){throw ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new gs(this.firestore,Nh(this._delegate,function VV(...n){return new ck("endBefore",n,!1)}(...e)))}catch(t){throw ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new gs(this.firestore,Nh(this._delegate,function UV(...n){return new ck("endAt",n,!0)}(...e)))}catch(t){throw ps(t,"endAt()","Query.endAt()")}}isEqual(e){return ZO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function WV(n){n=en(n,ji);const e=en(n.firestore,er),t=Rr(e),r=new Xp(e);return function rV(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,l,c){try{const p=yield iC(i,l,!0),y=new TO(l,p.Hi),I=y.ju(p.documents),T=y.applyChanges(I,!1);c.resolve(T.snapshot)}catch(p){const y=e_(p,`Failed to execute query '${l} against cache`);c.reject(y)}}),function(i,l,c){return r.apply(this,arguments)})(yield hC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate):"server"===e?.source?function qV(n){n=en(n,ji);const e=en(n.firestore,er),t=Rr(e),r=new Xp(e);return BO(t,n._query,{source:"server"}).then(i=>new Rh(e,r,n,i))}(this._delegate):function zV(n){n=en(n,ji);const e=en(n.firestore,er),t=Rr(e),r=new Xp(e);return ak(n._query),BO(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate),t.then(r=>new Cx(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Ck(e),r=Tk(e,i=>new Cx(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _k(this._delegate,t,r)}withConverter(e){return new gs(this.firestore,this._delegate.withConverter(e?eg.getInstance(this.firestore,e):null))}}class uU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Cx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lE(this._firestore,r))})}isEqual(e){return ok(this._delegate,e._delegate)}}class o_ extends gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?pC(this._delegate):pC(this._delegate,e))}catch(t){throw ps(t,"doc()","CollectionReference.doc()")}}add(e){return function ZV(n,e){const t=en(n.firestore,er),r=pC(n),i=EC(n.converter,e);return s_(t,[yC(Yp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return KO(this._delegate,e._delegate)}withConverter(e){return new o_(this.firestore,this._delegate.withConverter(e?eg.getInstance(this.firestore,e):null))}}function tg(n){return en(n,Hn)}class Tx{constructor(...e){this._delegate=new Kc(...e)}static documentId(){return new Tx(dr.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof Kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class ng{constructor(e){this._delegate=e}static serverTimestamp(){const e=function eU(){return new mx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ng(e)}static delete(){const e=function XV(){return new nE("deleteField")}();return e._methodName="FieldValue.delete",new ng(e)}static arrayUnion(...e){const t=function tU(...n){return new DV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ng(t)}static arrayRemove(...e){const t=function nU(...n){return new CV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ng(t)}static increment(e){const t=function rU(n){return new TV("increment",n)}(e);return t._methodName="FieldValue.increment",new ng(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cU={Firestore:Ik,GeoPoint:gC,Timestamp:Jn,Blob:oE,Transaction:bk,WriteBatch:Dk,DocumentReference:sa,DocumentSnapshot:aE,Query:gs,QueryDocumentSnapshot:lE,QuerySnapshot:Cx,CollectionReference:o_,FieldPath:Tx,FieldValue:ng,setLogLevel:function lU(n){!function o1(n){_h.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Sk(n,e){return function fU(n,e=Uw.z){return new Jo.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Sx(n,e){return Sk(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function bC(n,e){return Sx(n,e).pipe(wf(void 0),eD(),(0,At.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(T=>T.doc.ref.isEqual(c.ref)),I=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&I&&JSON.stringify(I.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),l}))}function Ak(n,e,t){return bC(n,t).pipe(Ud((r,i)=>function gU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function mU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ax(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ax(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ax(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function QS(n,e=yf.y){return n=n??MP,(0,Br.e)((t,r)=>{let i,l=!0;t.subscribe((0,Xr.x)(r,c=>{const p=e(c);(l||!n(i,p))&&(l=!1,i=p,r.next(c))}))})}(),(0,At.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Ax(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Mk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function hU(n){(function dU(n,e){n.INTERNAL.registerComponent(new $m.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cU)))})(n,(e,t)=>new Ik(e,t,new aU)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(JS.Z);class xk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(wf(void 0),eD(),fo(([r,i])=>i.length>0||!r),(0,At.U)(([r,i])=>i),ri.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ud((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Mk(e);return Ak(this.query,t,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(e={}){return Sx(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ri.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(ri.iC)}add(e){return this.ref.add(e)}doc(e){return new Pk(this.ref.doc(e),this.afs)}}class Pk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=Rk(r,t);return new xk(i,l,this.afs)}snapshotChanges(){return function pU(n,e){return Sk(n,e).pipe(wf(void 0),eD(),(0,At.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(ri.iC)}}class yU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bC(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),fo(t=>t.length>0),ri.iC):bC(this.query,this.afs.schedulers.outsideAngular).pipe(ri.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ud((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Mk(e);return Ak(this.query,t,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(e={}){return Sx(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ri.iC)}get(e){return(0,wn.D)(this.query.get(e)).pipe(ri.iC)}}const _U=new h.OlP("angularfire2.enableFirestorePersistence"),vU=new h.OlP("angularfire2.firestore.persistenceSettings"),wU=new h.OlP("angularfire2.firestore.settings"),EU=new h.OlP("angularfire2.firestore.use-emulator");function Rk(n,e=(t=>t)){return{query:e(n),ref:n}}let IU=(()=>{class n{constructor(t,r,i,l,c,p,y,I,T,M,L,B,Z,ue,Ie,We,tt){this.schedulers=y;const pt=(0,Io.on)(t,p,r),st=T;M&&Vw(pt,p,L,Z,ue,Ie,B,We),[this.firestore,this.persistenceEnabled$]=(0,Io.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Dt=p.runOutsideAngular(()=>pt.firestore());if(l&&Dt.settings(l),st&&Dt.useEmulator(...st),i&&!ur(c)){const Tt=()=>{try{return(0,wn.D)(Dt.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(tn){return typeof console<"u"&&console.warn(tn),Ze(!1)}};return[Dt,p.runOutsideAngular(Tt)]}return[Dt,Ze(!1)]},[l,st,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=Rk(i,r),p=this.schedulers.ngZone.run(()=>l);return new xk(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new yU(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Pk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Io.Dh),h.LFG(Io.xv,8),h.LFG(_U,8),h.LFG(wU,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ri.HU),h.LFG(vU,8),h.LFG(EU,8),h.LFG(du,8),h.LFG(Lw,8),h.LFG(dp,8),h.LFG(oy,8),h.LFG(YS,8),h.LFG(Fw,8),h.LFG(Xb,8),h.LFG($r,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bU=(()=>{class n{constructor(t){this.afs=t}getAll(t){return this.afs.collection(t).valueChanges()}setObj(t,r,i=r.id){return this.afs.collection(t).doc(i).set(r,{merge:!0})}getWithFilter(t,r,i){return this.afs.collection(t,l=>l.where(r,"==",i)).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(IU))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DU=function(){return["/register"]};let CU=(()=>{class n{constructor(t,r,i,l){this.auth=t,this.formBuilder=r,this.route=i,this.afs=l,this.loginForm=this.formBuilder.group({email:["",[rh.required]],password:["",[rh.required]]})}ngOnInit(){}clickLogin(){var t=this;return(0,_e.Z)(function*(){console.log(t.loginForm.value);try{t.auth.Login(t.f.email.value,t.f.password.value),yield t.afs.setObj("userLogs",{user:t.f.email.value,fecha:new Date}),t.route.navigateByUrl("")}catch(r){console.log(r)}})()}clickAutoLogin(){this.f.email.setValue("asd123@gmail.com"),this.f.password.setValue("123456"),this.clickLogin()}get f(){return this.loginForm.controls}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ay),h.Y36(Um),h.Y36(Zn),h.Y36(bU))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:5,consts:[["id","container-fluid"],["id","form",1,"form-login",3,"formGroup"],["for","email"],["type","text","id","email","name","email","required","","formControlName","email",3,"value"],["for","password"],["type","password","id","password","name","password","formControlName","password",3,"value"],[3,"click"],[3,"routerLink"],["id","error"]],template:function(t,r){1&t&&(h.TgZ(0,"body")(1,"div",0)(2,"form",1)(3,"label",2),h._uU(4,"Email"),h.qZA(),h._UZ(5,"br")(6,"input",3)(7,"br"),h.TgZ(8,"label",4),h._uU(9,"Password"),h.qZA(),h._UZ(10,"br")(11,"input",5)(12,"br")(13,"br"),h.TgZ(14,"button",6),h.NdJ("click",function(){return r.clickLogin()}),h._uU(15,"Login"),h.qZA(),h.TgZ(16,"label",7),h._uU(17,"No tengo cuenta"),h.qZA(),h.TgZ(18,"button",6),h.NdJ("click",function(){return r.clickAutoLogin()}),h._uU(19,"No tengo cuenta y no quiero tenerla"),h.qZA()(),h._UZ(20,"div",8),h.qZA()()),2&t&&(h.xp6(2),h.Q6J("formGroup",r.loginForm),h.xp6(4),h.Q6J("value",r.f.email.value),h.xp6(5),h.Q6J("value",r.f.password.value),h.xp6(5),h.Q6J("routerLink",h.DdM(4,DU)))},dependencies:[Ya,Om,nh,Bf,us,np,Qf,ep],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Helvetica;font-size:2.5rem;font-weight:900;color:#fff;text-shadow:2px 2px 0 rgb(245,140,157),2px -2px 0 rgb(245,140,157),-2px 2px 0 rgb(245,140,157),-2px -2px 0 rgb(245,140,157),2px 0px 0 rgb(245,140,157),0px 2px 0 rgb(245,140,157),-2px 0px 0 rgb(245,140,157),0px -2px 0 rgb(245,140,157)}form[_ngcontent-%COMP%]{padding:2rem .1rem;background-color:#4b484886;text-align:center;font-family:Helvetica;font-size:2rem;font-weight:900;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;min-width:30%;line-height:.6;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}input[_ngcontent-%COMP%]{border-radius:5rem;border:none}.remember[_ngcontent-%COMP%]{color:#000;font-size:1.2rem;font-weight:900;margin-right:10rem}#remember[_ngcontent-%COMP%]{height:15px;width:15px;margin-top:-.65rem;margin-right:-.65rem}button[_ngcontent-%COMP%]{padding:.5rem 2.5rem;font-family:Helvetica;font-size:1.5rem;font-weight:900;background-color:#f58c9d;color:#fff;margin-bottom:2rem;margin-top:2rem}#error[_ngcontent-%COMP%]{text-align:center;width:35%;margin:0 auto;background-color:#f58c9d;color:#fff;font-family:Helvetica;font-size:2rem}"]}),n})(),zt=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let i=r.trim().split(" ");for(let l=0;l<i.length;l++)t.classList.add(i[l])}else{let i=r.split(" ");for(let l=0;l<i.length;l++)t.className+=" "+i[l]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var l=0;l<r.length;l++){if(r[l]==t)return i;1==r[l].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],l=0;for(var c=0;c<i.length;c++){if(i[c]==t)return l;i[c].attributes&&i[c].attributes[r]&&1==i[c].nodeType&&l++}return-1}static relativePosition(t,r){let i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const l=r.offsetHeight,c=r.getBoundingClientRect(),p=this.getViewport();let y,I;c.top+l+i.height>p.height?(y=-1*i.height,t.style.transformOrigin="bottom",c.top+y<0&&(y=-1*c.top)):(y=l,t.style.transformOrigin="top"),I=i.width>p.width?-1*c.left:c.left+i.width>p.width?-1*(c.left+i.width-p.width):0,t.style.top=y+"px",t.style.left=I+"px"}static absolutePosition(t,r){let B,Z,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),l=i.height,c=i.width,p=r.offsetHeight,y=r.offsetWidth,I=r.getBoundingClientRect(),T=this.getWindowScrollTop(),M=this.getWindowScrollLeft(),L=this.getViewport();I.top+p+l>L.height?(B=I.top+T-l,t.style.transformOrigin="bottom",B<0&&(B=T)):(B=p+I.top+T,t.style.transformOrigin="top"),Z=I.left+c>L.width?Math.max(0,I.left+M+y-c):I.left+M,t.style.top=B+"px",t.style.left=Z+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const l=/(auto|scroll)/,c=p=>{let y=window.getComputedStyle(p,null);return l.test(y.getPropertyValue("overflow"))||l.test(y.getPropertyValue("overflowX"))||l.test(y.getPropertyValue("overflowY"))};for(let p of i){let y=1===p.nodeType&&p.dataset.scrollselectors;if(y){let I=y.split(",");for(let T of I){let M=this.findSingle(p,T);M&&c(M)&&r.push(M)}}9!==p.nodeType&&c(p)&&r.push(p)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),l=i?parseFloat(i):0,c=getComputedStyle(t).getPropertyValue("paddingTop"),p=c?parseFloat(c):0,y=t.getBoundingClientRect(),T=r.getBoundingClientRect().top+document.body.scrollTop-(y.top+document.body.scrollTop)-l-p,M=t.scrollTop,L=t.clientHeight,B=this.getOuterHeight(r);T<0?t.scrollTop=M+T:T+B>L&&(t.scrollTop=M+T-L+B)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,l=0,c=function(){l=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=l,i=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(t,r){var i=1,p=50/r;let y=setInterval(()=>{(i-=p)<=0&&(i=0,clearInterval(y)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let l=getComputedStyle(t);i+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let l=getComputedStyle(t);i+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,l=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||l.clientWidth,height:t.innerHeight||i.clientHeight||l.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),i=[];for(let l of r)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&i.push(l);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();const Nk=["*"];let $i=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Ok=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[$i.STARTS_WITH,$i.CONTAINS,$i.NOT_CONTAINS,$i.ENDS_WITH,$i.EQUALS,$i.NOT_EQUALS],numeric:[$i.EQUALS,$i.NOT_EQUALS,$i.LESS_THAN,$i.LESS_THAN_OR_EQUAL_TO,$i.GREATER_THAN,$i.GREATER_THAN_OR_EQUAL_TO],date:[$i.DATE_IS,$i.DATE_IS_NOT,$i.DATE_BEFORE,$i.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Vi.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Nk,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},encapsulation:2}),n})(),SU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Nk,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},encapsulation:2}),n})(),AU=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yi]}),n})(),xU=(()=>{class n{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let r=zt.getFocusableElements(this.el.nativeElement);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let i=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==i||0===i?r[r.length-1].focus():r[i-1].focus():-1==i||i===r.length-1?r[0].focus():r[i+1].focus()}else r[0].focus()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){1&t&&h.NdJ("keydown.tab",function(l){return r.onkeydown(l)})("keydown.shift.tab",function(l){return r.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),PU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yi]}),n})(),RU=(()=>{class n{constructor(t,r,i){this.el=t,this.zone=r,this.config=i}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(zt.removeClass(r,"p-ink-active"),!zt.getHeight(r)&&!zt.getWidth(r)){let p=Math.max(zt.getOuterWidth(this.el.nativeElement),zt.getOuterHeight(this.el.nativeElement));r.style.height=p+"px",r.style.width=p+"px"}let i=zt.getOffset(this.el.nativeElement),l=t.pageX-i.left+document.body.scrollTop-zt.getWidth(r)/2,c=t.pageY-i.top+document.body.scrollLeft-zt.getHeight(r)/2;r.style.top=c+"px",r.style.left=l+"px",zt.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let p=this.getInk();p&&zt.removeClass(p,"p-ink-active")},401)}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&zt.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),zt.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),zt.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Ok,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yi]}),n})();var kk=0,Lk=function kU(){let n=[];const i=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:i,set:(l,c,p)=>{c&&(c.style.zIndex=String(((l,c)=>{let p=n.length>0?n[n.length-1]:{key:l,value:c},y=p.value+(p.key===l?0:c)+1;return n.push({key:l,value:y}),y})(l,p)))},clear:l=>{l&&((l=>{n=n.filter(c=>c.value!==l)})(i(l)),l.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const LU=["titlebar"],FU=["content"],VU=["footer"];function UU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",11),h.NdJ("mousedown",function(i){h.CHM(t);const l=h.oxw(3);return h.KtG(l.initResize(i))}),h.qZA()}}function BU(n,e){if(1&n&&(h.TgZ(0,"span",18),h._uU(1),h.qZA()),2&n){const t=h.oxw(4);h.uIk("id",t.id+"-label"),h.xp6(1),h.Oqu(t.header)}}function HU(n,e){if(1&n&&(h.TgZ(0,"span",18),h.Hsn(1,1),h.qZA()),2&n){const t=h.oxw(4);h.uIk("id",t.id+"-label")}}function jU(n,e){1&n&&h.GkF(0)}const $U=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function GU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",19),h.NdJ("click",function(){h.CHM(t);const i=h.oxw(4);return h.KtG(i.maximize())})("keydown.enter",function(){h.CHM(t);const i=h.oxw(4);return h.KtG(i.maximize())}),h._UZ(1,"span",20),h.qZA()}if(2&n){const t=h.oxw(4);h.Q6J("ngClass",h.DdM(2,$U)),h.xp6(1),h.Q6J("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const zU=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function WU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",21),h.NdJ("click",function(i){h.CHM(t);const l=h.oxw(4);return h.KtG(l.close(i))})("keydown.enter",function(i){h.CHM(t);const l=h.oxw(4);return h.KtG(l.close(i))}),h._UZ(1,"span",22),h.qZA()}if(2&n){const t=h.oxw(4);h.Q6J("ngClass",h.DdM(4,zU)),h.uIk("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),h.xp6(1),h.Q6J("ngClass",t.closeIcon)}}function qU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",12,13),h.NdJ("mousedown",function(i){h.CHM(t);const l=h.oxw(3);return h.KtG(l.initDrag(i))}),h.YNc(2,BU,2,2,"span",14),h.YNc(3,HU,2,1,"span",14),h.YNc(4,jU,1,0,"ng-container",9),h.TgZ(5,"div",15),h.YNc(6,GU,2,3,"button",16),h.YNc(7,WU,2,5,"button",17),h.qZA()()}if(2&n){const t=h.oxw(3);h.xp6(2),h.Q6J("ngIf",!t.headerFacet&&!t.headerTemplate),h.xp6(1),h.Q6J("ngIf",t.headerFacet),h.xp6(1),h.Q6J("ngTemplateOutlet",t.headerTemplate),h.xp6(2),h.Q6J("ngIf",t.maximizable),h.xp6(1),h.Q6J("ngIf",t.closable)}}function KU(n,e){1&n&&h.GkF(0)}function ZU(n,e){1&n&&h.GkF(0)}function YU(n,e){if(1&n&&(h.TgZ(0,"div",23,24),h.Hsn(2,2),h.YNc(3,ZU,1,0,"ng-container",9),h.qZA()),2&n){const t=h.oxw(3);h.xp6(3),h.Q6J("ngTemplateOutlet",t.footerTemplate)}}const QU=function(n,e,t,r){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":r}},JU=function(n,e){return{transform:n,transition:e}},XU=function(n){return{value:"visible",params:n}};function eB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",3,4),h.NdJ("@animation.start",function(i){h.CHM(t);const l=h.oxw(2);return h.KtG(l.onAnimationStart(i))})("@animation.done",function(i){h.CHM(t);const l=h.oxw(2);return h.KtG(l.onAnimationEnd(i))}),h.YNc(2,UU,1,0,"div",5),h.YNc(3,qU,8,5,"div",6),h.TgZ(4,"div",7,8),h.Hsn(6),h.YNc(7,KU,1,0,"ng-container",9),h.qZA(),h.YNc(8,YU,4,1,"div",10),h.qZA()}if(2&n){const t=h.oxw(2);h.Tol(t.styleClass),h.Q6J("ngClass",h.l5B(15,QU,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",h.VKq(23,XU,h.WLB(20,JU,t.transformOptions,t.transitionOptions))),h.uIk("aria-labelledby",t.id+"-label"),h.xp6(2),h.Q6J("ngIf",t.resizable),h.xp6(1),h.Q6J("ngIf",t.showHeader),h.xp6(1),h.Tol(t.contentStyleClass),h.Q6J("ngClass","p-dialog-content")("ngStyle",t.contentStyle),h.xp6(3),h.Q6J("ngTemplateOutlet",t.contentTemplate),h.xp6(1),h.Q6J("ngIf",t.footerFacet||t.footerTemplate)}}const tB=function(n,e,t,r,i,l,c,p,y,I){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":r,"p-dialog-top":i,"p-dialog-top-left":l,"p-dialog-top-right":c,"p-dialog-bottom":p,"p-dialog-bottom-left":y,"p-dialog-bottom-right":I}};function nB(n,e){if(1&n&&(h.TgZ(0,"div",1),h.YNc(1,eB,9,25,"div",2),h.qZA()),2&n){const t=h.oxw();h.Tol(t.maskStyleClass),h.Q6J("ngClass",h.rFY(4,tB,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),h.xp6(1),h.Q6J("ngIf",t.visible)}}const rB=["*",[["p-header"]],[["p-footer"]]],iB=["*","p-header","p-footer"],sB=Ul([is({transform:"{{transform}}",opacity:0}),Dr("{{transition}}")]),oB=Ul([Dr("{{transition}}",is({transform:"{{transform}}",opacity:0}))]);let aB=(()=>{class n{constructor(t,r,i,l,c){this.el=t,this.renderer=r,this.zone=i,this.cd=l,this.config=c,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new h.vpe,this.onHide=new h.vpe,this.visibleChange=new h.vpe,this.onResizeInit=new h.vpe,this.onResizeEnd=new h.vpe,this.onDragEnd=new h.vpe,this.onMaximize=new h.vpe,this.id=function OU(){return"pr_id_"+ ++kk}(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=zt.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&zt.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&zt.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?zt.addClass(document.body,"p-overflow-hidden"):zt.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Lk.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let r in this.breakpoints)t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[r]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){zt.hasClass(t.target,"p-dialog-header-icon")||zt.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",zt.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let r=zt.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let i=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==i||0===i?r[r.length-1].focus():r[i-1].focus():-1==i||i===r.length-1?r[0].focus():r[i+1].focus()}else r[0].focus()}}onDrag(t){if(this.dragging){let r=zt.getOuterWidth(this.container),i=zt.getOuterHeight(this.container),l=t.pageX-this.lastPageX,c=t.pageY-this.lastPageY,p=this.container.getBoundingClientRect(),y=p.left+l,I=p.top+c,T=zt.getViewport();this.container.style.position="fixed",this.keepInViewport?(y>=this.minX&&y+r<T.width&&(this._style.left=y+"px",this.lastPageX=t.pageX,this.container.style.left=y+"px"),I>=this.minY&&I+i<T.height&&(this._style.top=I+"px",this.lastPageY=t.pageY,this.container.style.top=I+"px")):(this.lastPageX=t.pageX,this.container.style.left=y+"px",this.lastPageY=t.pageY,this.container.style.top=I+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,zt.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,zt.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let r=t.pageX-this.lastPageX,i=t.pageY-this.lastPageY,l=zt.getOuterWidth(this.container),c=zt.getOuterHeight(this.container),p=zt.getOuterHeight(this.contentViewChild.nativeElement),y=l+r,I=c+i,T=this.container.style.minWidth,M=this.container.style.minHeight,L=this.container.getBoundingClientRect(),B=zt.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(y+=r,I+=i),(!T||y>parseInt(T))&&L.left+y<B.width&&(this._style.width=y+"px",this.container.style.width=this._style.width),(!M||I>parseInt(M))&&L.top+I<B.height&&(this.contentViewChild.nativeElement.style.height=p+I-c+"px",this._style.height&&(this._style.height=I+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,zt.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",r=>{27==r.which&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):zt.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&zt.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&zt.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(zt.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&zt.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Lk.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(Ok))},n.\u0275cmp=h.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(t,r,i){if(1&t&&(h.Suo(i,TU,5),h.Suo(i,SU,5),h.Suo(i,AU,4)),2&t){let l;h.iGM(l=h.CRH())&&(r.headerFacet=l.first),h.iGM(l=h.CRH())&&(r.footerFacet=l.first),h.iGM(l=h.CRH())&&(r.templates=l)}},viewQuery:function(t,r){if(1&t&&(h.Gf(LU,5),h.Gf(FU,5),h.Gf(VU,5)),2&t){let i;h.iGM(i=h.CRH())&&(r.headerViewChild=i.first),h.iGM(i=h.CRH())&&(r.contentViewChild=i.first),h.iGM(i=h.CRH())&&(r.footerViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:iB,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(t,r){1&t&&(h.F$t(rB),h.YNc(0,nB,2,15,"div",0)),2&t&&h.Q6J("ngIf",r.maskVisible)},dependencies:[rn,zn,al,Xc,xU,RU],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[Vl("animation",[Wh("void => visible",[oo(sB)]),Wh("visible => void",[oo(oB)])])]},changeDetection:0}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Yi,PU,NU,MU]}),n})();const uB=[{path:"",component:_m},{path:"login",component:CU},{path:"register",component:(()=>{class n{constructor(t,r,i){this.auth=t,this.formBuilder=r,this.route=i,this.loginForm=this.formBuilder.group({email:["",[rh.required]],password:["",[rh.required]],confirmPass:["",[rh.required]]}),this.display=!1}ngOnInit(){}showDialog(){this.display=!0}clickRegister(){console.log(this.loginForm.value),this.f.password.value===this.f.confirmPass.value&&this.auth.Register({email:this.f.email.value,password:this.f.password.value,fecha:null}).then(t=>{t&&this.route.navigateByUrl("/login")}).catch(t=>{console.log(t),"auth/email-already-in-use"==t.code&&(this.display=!0)})}get f(){return this.loginForm.controls}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ay),h.Y36(Um),h.Y36(Zn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:26,vars:5,consts:[["id","container-fluid"],[1,"form-login",3,"formGroup"],["for","email"],["type","text","formControlName","email","required","",3,"value"],["for","password"],["type","password","formControlName","password",3,"value"],["type","password","formControlName","confirmPass",3,"value"],["type","submit",3,"click"],["id","error"],[3,"visible","visibleChange"]],template:function(t,r){1&t&&(h.TgZ(0,"body")(1,"div",0)(2,"form",1)(3,"label",2),h._uU(4,"Email"),h.qZA(),h._UZ(5,"br")(6,"input",3)(7,"br"),h.TgZ(8,"label",4),h._uU(9,"Password"),h.qZA(),h._UZ(10,"br")(11,"input",5)(12,"br")(13,"br"),h.TgZ(14,"label",4),h._uU(15,"Confirm Password"),h.qZA(),h._UZ(16,"br")(17,"input",6)(18,"br")(19,"br"),h.TgZ(20,"button",7),h.NdJ("click",function(){return r.clickRegister()}),h._uU(21,"Register"),h.qZA()(),h._UZ(22,"div",8),h.qZA()(),h.TgZ(23,"p-dialog",9),h.NdJ("visibleChange",function(l){return r.display=l}),h.TgZ(24,"h1"),h._uU(25,"Usuario ya existente"),h.qZA()()),2&t&&(h.xp6(2),h.Q6J("formGroup",r.loginForm),h.xp6(4),h.Q6J("value",r.f.email.value),h.xp6(5),h.Q6J("value",r.f.password.value),h.xp6(6),h.Q6J("value",r.f.confirmPass.value.confirmPass),h.xp6(6),h.Q6J("visible",r.display))},dependencies:[Om,nh,Bf,us,np,Qf,ep,aB],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Helvetica;font-size:2.5rem;font-weight:900;color:#fff;text-shadow:2px 2px 0 rgb(245,140,157),2px -2px 0 rgb(245,140,157),-2px 2px 0 rgb(245,140,157),-2px -2px 0 rgb(245,140,157),2px 0px 0 rgb(245,140,157),0px 2px 0 rgb(245,140,157),-2px 0px 0 rgb(245,140,157),0px -2px 0 rgb(245,140,157)}form[_ngcontent-%COMP%]{padding-top:2rem;padding-left:.1rem;padding-right:.1rem;background-color:#4b484886;text-align:center;font-family:Helvetica;font-size:2rem;font-weight:900;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;min-width:30%;line-height:.6;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}input[_ngcontent-%COMP%]{border-radius:5rem;border:none}.remember[_ngcontent-%COMP%]{color:#000;font-size:1.2rem;font-weight:900;margin-right:10rem}#remember[_ngcontent-%COMP%]{height:15px;width:15px;margin-top:-.65rem;margin-right:-.65rem}button[_ngcontent-%COMP%]{padding:.5rem 2.5rem;font-family:Helvetica;font-size:1.5rem;font-weight:900;background-color:#f58c9d;color:#fff;margin-bottom:2rem;margin-top:2rem}#error[_ngcontent-%COMP%]{text-align:center;width:35%;margin:0 auto;background-color:#f58c9d;color:#fff;font-family:Helvetica;font-size:2rem}"]}),n})()},{path:"whoim",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-whoiam"]],decls:10,vars:0,consts:[[1,"position-relative","overflow-hidden","p-md-5","text-center","bg-light"],["src","../../../assets/resources/me.jpg"],[1,"display-4","font-weight-normal"],[1,"lead","font-weight-normal"],["href","https://github.com/luchodbr",1,"btn","btn-outline-secondary"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"img",1),h.TgZ(2,"h1",2),h._uU(3,"Who I Am"),h.qZA(),h.TgZ(4,"p",3),h._uU(5,"My name is Luciano Gil, I am a fullstack developer and my github is:"),h.qZA(),h.TgZ(6,"a",4),h._uU(7,"Git"),h.qZA(),h._UZ(8,"div",5)(9,"div",6),h.qZA())},styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),n})()},{path:"**",redirectTo:""}];let cB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[MI.forRoot(uB),MI]}),n})();const dB=function(){return["/login"]};function hB(n,e){1&n&&(h.TgZ(0,"button",17),h._uU(1," login "),h.qZA()),2&n&&h.Q6J("routerLink",h.DdM(1,dB))}function fB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",18),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.logOut())}),h._uU(1," Logout "),h.qZA()}}let pB=(()=>{class n{constructor(t){this.fireAuth=t,this.isLoged$=this.fireAuth.logged.asObservable()}ngOnInit(){}logOut(){this.fireAuth.LogOut()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ay))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-nav-bar-h"]],decls:27,vars:6,consts:[[1,"container-fluid","nav-style"],[1,"card"],[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","games",1,"nav-link","active"],["routerLink","whoim",1,"nav-link"],["routerLink","chat",1,"nav-link"],["routerLink","pricing",1,"nav-link"],["action",""],["class","btn btn-primary",3,"routerLink",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"a",4),h._uU(5,"Games Room"),h.qZA(),h.TgZ(6,"button",5),h._UZ(7,"span",6),h.qZA(),h.TgZ(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),h._uU(12,"Games"),h.qZA()(),h.TgZ(13,"li",9)(14,"a",11),h._uU(15,"WhoIm"),h.qZA()(),h.TgZ(16,"li",9)(17,"a",12),h._uU(18,"Chat"),h.qZA()(),h.TgZ(19,"li",9)(20,"a",13),h._uU(21,"Pricing"),h.qZA()()(),h.TgZ(22,"form",14),h.YNc(23,hB,2,2,"button",15),h.ALo(24,"async"),h.YNc(25,fB,2,0,"button",16),h.ALo(26,"async"),h.qZA()()()()()()),2&t&&(h.xp6(23),h.Q6J("ngIf",0==h.lcZ(24,2,r.isLoged$)),h.xp6(2),h.Q6J("ngIf",1==h.lcZ(26,4,r.isLoged$)))},dependencies:[zn,Ya,gm,Om,us,qf,Mu],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}.nav-style[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#9f07e6;font-weight:600;text-align:center}.nav-style[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{text-transform:capitalize;width:100px;background-color:transparent;color:#9f07e6;font-weight:800;border:2px solid #9f07e6;border-top-left-radius:20px;border-bottom-left-radius:0;border-bottom-right-radius:20px;transition:.5s}.nav-style[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9f07e6;color:#fff}.nav-style[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#000;font-size:1rem;border-bottom:2px solid transparent;padding:.5rem 0;margin:0 .8rem}.nav-style[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-style[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-bottom:2px solid #9f07e6}.nav-style[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{min-height:400px;display:flex;flex-direction:column;justify-content:center;position:relative}.nav-style[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{margin-top:2rem;background-color:#9f07e6;color:#fff;width:120px;height:45px;display:flex;justify-content:center;align-items:center;border:2px solid #ddd;border-radius:20px 20px 20px 0;transition:.5s}.nav-style[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{color:#9f07e6;background-color:transparent;border:2px solid #9f07e6}.nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background-color:transparent;border:0px}.nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:20px;width:100%;height:140px;text-align:center;border-bottom:3px solid #ddd}.nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover, .nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .box.active[_ngcontent-%COMP%]{border-bottom:3px solid #9f07e6;color:#9f07e6}.nav-style[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{font-size:2.2rem;color:#9f07e6}.nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:transparent;color:#000;font-weight:800;border:0px}.nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:focus{box-shadow:none}.card-footer[_ngcontent-%COMP%]   .fas.fa-chevron-down[_ngcontent-%COMP%]{color:#cdcdcd}.allbox-1[_ngcontent-%COMP%]{position:relative;position:absolute;top:0;right:10%;width:200px;height:200px}.allbox-1[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;height:60px;width:60px;background-color:#3bd63b;opacity:.5;border-top-right-radius:50%;border-top-left-radius:50%;border-bottom-right-radius:50%}.allbox-1[_ngcontent-%COMP%]   .box-2[_ngcontent-%COMP%]{position:absolute;bottom:50px;right:50%;width:30px;height:30px;background-color:transparent;opacity:.6}.allbox-2[_ngcontent-%COMP%]{position:relative;position:absolute;top:0;left:0%;width:200px;height:200px}.allbox-2[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{position:absolute;top:40%;left:20%;transform:translateY(-50%);height:60px;width:60px;background-color:#9f07e6;opacity:.4}.allbox-2[_ngcontent-%COMP%]   .box-2[_ngcontent-%COMP%]{position:absolute;bottom:30%;right:35%;width:30px;height:30px;background-color:transparent;opacity:.6}.allbox-3[_ngcontent-%COMP%]{position:relative;position:absolute;bottom:0;right:10%;width:200px;height:200px}.allbox-3[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{position:absolute;bottom:50px;right:45%;height:60px;width:60px;background-color:#c221eb;opacity:.3;border-top-right-radius:50%;border-bottom-left-radius:50%;border-bottom-right-radius:50%}.allbox-3[_ngcontent-%COMP%]   .box-2[_ngcontent-%COMP%]{position:absolute;top:30%;left:10%;width:30px;height:30px;background-color:#0db3f5;opacity:.4}.card-body[_ngcontent-%COMP%]   .box-3[_ngcontent-%COMP%]{position:absolute;top:20%;right:-75px;width:150px;height:350px;background-color:#1aa51a;opacity:.4}.card-body[_ngcontent-%COMP%]   .box-4[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;width:30px;height:30px;background-color:#1aa51a;opacity:.4}.nav-style[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-top-right-radius:50%}.img-box[_ngcontent-%COMP%]{position:relative;width:80%;height:80%}.card-footer[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{position:absolute;top:40%;right:0%;transform:translateY(15%);width:150px;height:150px;background-color:#3bd63b;opacity:.4}.card-footer[_ngcontent-%COMP%]   .box-2[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0%;transform:translateY(100%);width:80px;height:80px;background-color:#0db3f5}.card-footer[_ngcontent-%COMP%]   .box-3[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0%;transform:translate(100%);width:80px;height:80px;background-color:#ff0}.card-footer[_ngcontent-%COMP%]   .box-4[_ngcontent-%COMP%]{position:absolute;bottom:50px;right:10%;transform:translate(-100%);width:80px;height:80px;background-color:#9f07e6}.card-footer[_ngcontent-%COMP%]   .box-5[_ngcontent-%COMP%]{position:absolute;bottom:0;right:50%;transform:translateY(100%);width:40px;height:40px;background-color:#3bf50d}.card-footer[_ngcontent-%COMP%]   .box-6[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0%;transform:translate(100%);width:80px;height:80px;background-color:#ff0}@media (max-width: 800px){.card-body[_ngcontent-%COMP%]   .box-3[_ngcontent-%COMP%], .card-footer[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%], .card-footer[_ngcontent-%COMP%]   .box-4[_ngcontent-%COMP%]{display:none}}@media (max-width: 430px){.allbox-3[_ngcontent-%COMP%]{display:none}.allbox-2[_ngcontent-%COMP%]{position:relative;position:absolute;top:-15%;right:0%;transform:translate(-20%);width:200px;height:200px}.allbox-1[_ngcontent-%COMP%]{position:relative;position:absolute;top:20%;left:-20%;transform:translateY(100%);width:200px;height:200px}}']}),n})(),gB=(()=>{class n{constructor(){this.title="TpSalaJuegosLucianoGil"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"containerApp"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"app-nav-bar-h")(2,"router-outlet"),h.qZA())},dependencies:[rI,pB],styles:[".containerApp[_ngcontent-%COMP%]{background-image:url(https://snz04pap002files.storage.live.com/y4mePmRsiPcOXcfns_-SUM5tWfHzAh8uvANUvCJhFuJuadvaQCFKo1zPa7w7tMpej9SoSqOmZv4CSkXYxwuqTV1L4mtRGnNqGMNkMb8SOKaLzkttBbZVj-4KdzrbimI1kJPl2J3l-9NarDTpYpzV6naveJLKqR5GalHK6pcOAgyO8Y5D110upnkezsepvBuzQCJ?width=5400&height=3600&cropmode=none);background-repeat:no-repeat;background-size:cover;background-position:center;min-height:100vh;padding:0;margin:0}"]}),n})();const Fk_firebase={projectId:"tpsalajuegolucianogil",appId:"1:582302011158:web:aaaba42d63d0f6a4ceca37",storageBucket:"tpsalajuegolucianogil.appspot.com",apiKey:"AIzaSyBKLEjSn8Sz4wD-_87DSN_0acOu7QRBST4",authDomain:"tpsalajuegolucianogil.firebaseapp.com",messagingSenderId:"582302011158"};let mB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[gB]}),n.\u0275inj=h.cJS({imports:[Rl,cB,Io.hO.initializeApp(Fk_firebase),mb,yb,lB,NC]}),n})();(0,h.G48)(),Pl().bootstrapModule(mB).catch(n=>console.error(n))},5867:(at,Se,k)=>{k.d(Se,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.9.4","app")},127:(at,Se,k)=>{k.d(Se,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(at,Se,k)=>{k.r(Se);var h=k(5861),ee=k(3942),N=k(2090),se=k(9681),re=k(655),de=k(1877),ce=k(4859);const we=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new de.Yd("@firebase/auth");function nt(_,...f){Qe.logLevel<=de.in.ERROR&&Qe.error(`Auth (${se.SDK_VERSION}): ${_}`,...f)}function Ae(_,...f){throw Be(_,...f)}function ve(_,...f){return Be(_,...f)}function be(_,f,m){const w=Object.assign(Object.assign({},Xe()),{[f]:m});return new N.LL("auth","Firebase",w).create(f,{appName:_.name})}function Ue(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(_,"argument-error"),be(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(_,...f){if("string"!=typeof _){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return ye.create(_,...f)}function U(_,f,...m){if(!_)throw Be(f,...m)}function me(_){const f="INTERNAL ASSERTION FAILED: "+_;throw nt(f),new Error(f)}function Y(_,f){_||me(f)}const X=new Map;function ie(_){Y(_ instanceof Function,"Expected a class definition");let f=X.get(_);return f?(Y(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,X.set(_,f),f)}function Ne(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ut(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class an{constructor(f,m){this.shortDelay=f,this.longDelay=m,Y(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(_,f){Y(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Zt{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vr=new an(3e4,6e4);function Lt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function nn(_,f,m,w){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(_,f,m,w,A={}){return Nr(_,A,(0,h.Z)(function*(){let R={},$={};w&&("GET"===f?$=w:R={body:JSON.stringify(w)});const ae=(0,N.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Le=yield _._getAdditionalHeaders();return Le["Content-Type"]="application/json",_.languageCode&&(Le["X-Firebase-Locale"]=_.languageCode),Zt.fetch()(Ti(_,_.config.apiHost,m,ae),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Nr(_,f,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(_,f,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Yt),f);try{const A=new kr(_),R=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw hi(_,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const ae=R.ok?$.errorMessage:$.error.message,[Le,Ye]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw hi(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Le)throw hi(_,"email-already-in-use",$);if("USER_DISABLED"===Le)throw hi(_,"user-disabled",$);const mt=w[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw be(_,mt,Ye);Ae(_,mt)}}catch(A){if(A instanceof N.ZR)throw A;Ae(_,"network-request-failed")}})).apply(this,arguments)}function Or(_,f,m,w){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(_,f,m,w,A={}){const R=yield nn(_,f,m,w,A);return"mfaPendingCredential"in R&&Ae(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ti(_,f,m,w){const A=`${f}${m}?${w}`;return _.config.emulator?Sn(_.config,A):`${_.config.apiScheme}://${A}`}class kr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hi(_,f,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=ve(_,f,w);return A.customData._tokenResponse=m,A}function Ke(){return(Ke=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Lr(_,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function An(_,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wr(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function hn(){return(hn=(0,h.Z)(function*(_,f=!1){const m=(0,N.m9)(_),w=yield m.getIdToken(f),A=ot(w);U(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,$=R?.sign_in_provider;return{claims:A,token:w,authTime:Wr(dt(A.auth_time)),issuedAtTime:Wr(dt(A.iat)),expirationTime:Wr(dt(A.exp)),signInProvider:$||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(_){return 1e3*Number(_)}function ot(_){var f;const[m,w,A]=_.split(".");if(void 0===m||void 0===w||void 0===A)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,N.tV)(w);return R?JSON.parse(R):(nt("Failed to decode base64 JWT payload"),null)}catch(R){return nt("Caught error parsing JWT payload as JSON",null===(f=R)||void 0===f?void 0:f.toString()),null}}function tr(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof N.ZR&&wr(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function wr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class It{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Wi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qt(_){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(_){var f;const m=_.auth,w=yield _.getIdToken(),A=yield tr(_,An(m,{idToken:w}));U(A?.users.length,m,"internal-error");const R=A.users[0];_._notifyReloadListener(R);const $=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?V(R.providerUserInfo):[],ae=j(_.providerData,$),mt=!!_.isAnonymous&&!(_.email&&R.passwordHash||ae?.length),ft={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ae,metadata:new Wi(R.createdAt,R.lastLoginAt),isAnonymous:mt};Object.assign(_,ft)})).apply(this,arguments)}function K(){return(K=(0,h.Z)(function*(_){const f=(0,N.m9)(_);yield Qt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function j(_,f){return[..._.filter(w=>!f.some(A=>A.providerId===w.providerId)),...f]}function V(_){return _.map(f=>{var{providerId:m}=f,w=(0,re._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function q(){return(q=(0,h.Z)(function*(_,f){const m=yield Nr(_,{},(0,h.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=_.config,$=Ti(_,A,"/v1/token",`key=${R}`),ae=yield _._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()($,{method:"POST",headers:ae,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ln(_){const f=ot(_);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,h.Z)(function*(){return U(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:$}=yield function z(_,f){return q.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(A,R,Number($))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:A,expirationTime:R}=m,$=new De;return w&&(U("string"==typeof w,"internal-error",{appName:f}),$.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:f}),$.accessToken=A),R&&(U("number"==typeof R,"internal-error",{appName:f}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return me("not implemented")}}function Ve(_,f){U("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class it{constructor(f){var{uid:m,auth:w,stsTokenManager:A}=f,R=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Wi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const w=yield tr(m,m.stsTokenManager.getToken(m.auth,f));return U(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function jn(_){return hn.apply(this,arguments)}(this,f)}reload(){return function Kt(_){return K.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new it(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield Qt(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield tr(f,function Mo(_,f){return Ke.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,A,R,$,ae,Le,Ye,mt;const ft=null!==(w=m.displayName)&&void 0!==w?w:void 0,Vn=null!==(A=m.email)&&void 0!==A?A:void 0,as=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,fc=null!==($=m.photoURL)&&void 0!==$?$:void 0,Xl=null!==(ae=m.tenantId)&&void 0!==ae?ae:void 0,pc=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,pf=null!==(Ye=m.createdAt)&&void 0!==Ye?Ye:void 0,gf=null!==(mt=m.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:eu,emailVerified:Li,isAnonymous:tu,providerData:gc,stsTokenManager:M_}=m;U(eu&&M_,f,"internal-error");const x_=De.fromJSON(this.name,M_);U("string"==typeof eu,f,"internal-error"),Ve(ft,f.name),Ve(Vn,f.name),U("boolean"==typeof Li,f,"internal-error"),U("boolean"==typeof tu,f,"internal-error"),Ve(as,f.name),Ve(fc,f.name),Ve(Xl,f.name),Ve(pc,f.name),Ve(pf,f.name),Ve(gf,f.name);const xg=new it({uid:eu,auth:f,email:Vn,emailVerified:Li,displayName:ft,isAnonymous:tu,photoURL:fc,phoneNumber:as,tenantId:Xl,stsTokenManager:x_,createdAt:pf,lastLoginAt:gf});return gc&&Array.isArray(gc)&&(xg.providerData=gc.map(P_=>Object.assign({},P_))),pc&&(xg._redirectEventId=pc),xg}static _fromIdTokenResponse(f,m,w=!1){return(0,h.Z)(function*(){const A=new De;A.updateFromServerResponse(m);const R=new it({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:w});return yield Qt(R),R})()}}const Jt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,h.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function $n(_,f,m){return`firebase:${_}:${f}:${m}`}class Vt{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=$n(this.userKey,A.apiKey,R),this.fullPersistenceKey=$n("persistence",A.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?it._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Vt(ie(Jt),f,w);const A=(yield Promise.all(m.map(function(){var Ye=(0,h.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let R=A[0]||ie(Jt);const $=$n(w,f.config.apiKey,f.name);let ae=null;for(const Ye of m)try{const mt=yield Ye._get($);if(mt){const ft=it._fromJSON(f,mt);Ye!==R&&(ae=ft),R=Ye;break}}catch{}const Le=A.filter(Ye=>Ye._shouldAllowMigration);return R._shouldAllowMigration&&Le.length?(R=Le[0],ae&&(yield R._set($,ae.toJSON())),yield Promise.all(m.map(function(){var Ye=(0,h.Z)(function*(mt){if(mt!==R)try{yield mt._remove($)}catch{}});return function(mt){return Ye.apply(this,arguments)}}())),new Vt(R,f,w)):new Vt(R,f,w)})()}}function Nt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Er(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(gn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(je(f))return"Blackberry";if(yt(f))return"Webos";if(Nn(f))return"Safari";if((f.includes("chrome/")||Si(f))&&!f.includes("edge/"))return"Chrome";if(On(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function gn(_=(0,N.z$)()){return/firefox\//i.test(_)}function Nn(_=(0,N.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Si(_=(0,N.z$)()){return/crios\//i.test(_)}function Er(_=(0,N.z$)()){return/iemobile/i.test(_)}function On(_=(0,N.z$)()){return/android/i.test(_)}function je(_=(0,N.z$)()){return/blackberry/i.test(_)}function yt(_=(0,N.z$)()){return/webos/i.test(_)}function Xt(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function js(_=(0,N.z$)()){return Xt(_)||On(_)||yt(_)||je(_)||/windows phone/i.test(_)||Er(_)}function _s(_,f=[]){let m;switch(_){case"Browser":m=Nt((0,N.z$)());break;case"Worker":m=`${Nt((0,N.z$)())}-${_}`;break;default:m=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${se.SDK_VERSION}/${w}`}class $s{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=R=>new Promise(($,ae)=>{try{$(f(R))}catch(Le){ae(Le)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){var w;if(m.auth.currentUser===f)return;const A=[];try{for(const R of m.queue)yield R(f),R.onAbort&&A.push(R.onAbort)}catch(R){A.reverse();for(const $ of A)try{$()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=R)||void 0===w?void 0:w.message})}})()}}class Ot{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new $s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=ie(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield Vt.create(w,f),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let R=A,$=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ae=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Le=R?._redirectEventId,Ye=yield m.tryRedirectSignIn(f);(!ae||ae===Le)&&Ye?.user&&(R=Ye.user,$=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if($)try{yield m.beforeStateQueue.runMiddleware(R)}catch(ae){R=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ae))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){var w;try{yield Qt(f)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const w=f?(0,N.m9)(f):null;return w&&U(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return f&&U(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(ie(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,h.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&ie(f)||m._popupRedirectResolver;U(w,m,"argument-error"),m.redirectPersistenceManager=yield Vt.create(m,[ie(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,A){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return U($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof m?f.addObserver(m,w,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=_s(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function yn(_){return(0,N.m9)(_)}class Gs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ai(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function vs(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class lr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return me("not implemented")}_getIdTokenResponse(f){return me("not implemented")}_linkToIdToken(f,m){return me("not implemented")}_getReauthenticationResolver(f){return me("not implemented")}}function Ln(_,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:resetPassword",Lt(_,f))})).apply(this,arguments)}function rn(_,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Cu(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:update",Lt(_,f))})).apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithPassword",Lt(_,f))})).apply(this,arguments)}function Es(_,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:sendOobCode",Lt(_,f))})).apply(this,arguments)}function zn(_,f){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,h.Z)(function*(_,f){return Es(_,f)})).apply(this,arguments)}function rr(_,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f){return Es(_,f)})).apply(this,arguments)}function ol(_,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_,f){return Es(_,f)})).apply(this,arguments)}function Su(_,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(_,f){return Es(_,f)})).apply(this,arguments)}function Jc(){return(Jc=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,f))})).apply(this,arguments)}function al(){return(al=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,f))})).apply(this,arguments)}class Au extends lr{constructor(f,m,w,A=null){super("password",w),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new Au(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new Au(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function la(_,f){return xo.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Lh(_,f){return Jc.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return rn(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Xc(_,f){return al.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Wn(_,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithIdp",Lt(_,f))})).apply(this,arguments)}class qi extends lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new qi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A}=m,R=(0,re._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const $=new qi(w,A);return $.idToken=R.idToken||void 0,$.accessToken=R.accessToken||void 0,$.secret=R.secret,$.nonce=R.nonce,$.pendingToken=R.pendingToken||null,$}_getIdTokenResponse(f){return Wn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Wn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Wn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function og(_,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:sendVerificationCode",Lt(_,f))})).apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,f))})).apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(_,f){const m=yield Or(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,f));if(m.temporaryProof)throw hi(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const lg={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),lg)})).apply(this,arguments)}class bs extends lr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new bs({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new bs({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function xu(_,f){return Is.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ag(_,f){return td.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ug(_,f){return nd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}=f;return w||m||A||R?new bs({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class ll{constructor(f){var m,w,A,R,$,ae;const Le=(0,N.zd)((0,N.pd)(f)),Ye=null!==(m=Le.apiKey)&&void 0!==m?m:null,mt=null!==(w=Le.oobCode)&&void 0!==w?w:null,ft=function rd(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);U(Ye&&mt&&ft,"argument-error"),this.apiKey=Ye,this.operation=ft,this.code=mt,this.continueUrl=null!==(R=Le.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=Le.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ae=Le.tenantId)&&void 0!==ae?ae:null}static parseLink(f){const m=function id(_){const f=(0,N.zd)((0,N.pd)(_)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||f||_}(f);try{return new ll(m)}catch{return null}}}let Mi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return Au._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=ll.parseLink(w);return U(A,"argument-error"),Au._fromEmailAndCode(m,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ki{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Zi extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ws extends Zi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return U("providerId"in m&&"signInMethod"in m,"argument-error"),qi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ws.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ws.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:$,providerId:ae}=f;if(!w&&!A&&!m&&!R||!ae)return null;try{return new Ws(ae)._credential({idToken:m,accessToken:w,nonce:$,pendingToken:R})}catch{return null}}}let ca=(()=>{class _ extends Zi{constructor(){super("facebook.com")}static credential(m){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ul=(()=>{class _ extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return _.credential(w,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Pu=(()=>{class _ extends Zi{constructor(){super("github.com")}static credential(m){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Yi extends lr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Wn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Wn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Wn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A,pendingToken:R}=m;return w&&A&&R&&w===A?new Yi(w,R):null}static _create(f,m){return new Yi(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kr extends Ki{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Kr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Kr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Yi.fromJSON(f);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Yi._create(w,m)}catch{return null}}}let Fr=(()=>{class _ extends Zi{constructor(){super("twitter.com")}static credential(m,w){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return _.credential(w,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Po(_,f){return sd.apply(this,arguments)}function sd(){return(sd=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signUp",Lt(_,f))})).apply(this,arguments)}class ur{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,A=!1){return(0,h.Z)(function*(){const R=yield it._fromIdTokenResponse(f,w,A),$=Uh(w);return new ur({user:R,providerId:$,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const A=Uh(w);return new ur({user:f,providerId:A,_tokenResponse:w,operationType:m})})()}}function Uh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function bn(){return(bn=(0,h.Z)(function*(_){var f;const m=yn(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new ur({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Po(m,{returnSecureToken:!0}),A=yield ur._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class cl extends N.ZR{constructor(f,m,w,A){var R;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,cl.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,A){return new cl(f,m,w,A)}}function Hh(_,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?cl._fromErrorAndOperation(_,R,f,w):R})}function Zr(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function dl(){return(dl=(0,h.Z)(function*(_,f){const m=(0,N.m9)(_);yield Gt(!0,m,f);const{providerUserInfo:w}=yield Lr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=Zr(w||[]);return m.providerData=m.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ro(_,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(_,f,m=!1){const w=yield tr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return ur._forOperation(_,"link",w)})).apply(this,arguments)}function Gt(_,f,m){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(_,f,m){yield Qt(f);const A=!1===_?"provider-already-linked":"no-such-provider";U(Zr(f.providerData).has(m)===_,f.auth,A)})).apply(this,arguments)}function qs(_,f){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(_,f,m=!1){var w;const{auth:A}=_,R="reauthenticate";try{const $=yield tr(_,Hh(A,R,f,_),m);U($.idToken,A,"internal-error");const ae=ot($.idToken);U(ae,A,"internal-error");const{sub:Le}=ae;return U(_.uid===Le,A,"user-mismatch"),ur._forOperation(_,R,$)}catch($){throw"auth/user-not-found"===(null===(w=$)||void 0===w?void 0:w.code)&&Ae(A,"user-mismatch"),$}})).apply(this,arguments)}function yi(_,f){return fl.apply(this,arguments)}function fl(){return(fl=(0,h.Z)(function*(_,f,m=!1){const w="signIn",A=yield Hh(_,w,f),R=yield ur._fromIdTokenResponse(_,w,A);return m||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function _n(_,f){return bt.apply(this,arguments)}function bt(){return(bt=(0,h.Z)(function*(_,f){return yi(yn(_),f)})).apply(this,arguments)}function pl(_,f){return jh.apply(this,arguments)}function jh(){return(jh=(0,h.Z)(function*(_,f){const m=(0,N.m9)(_);return yield Gt(!1,m,f.providerId),Ro(m,f)})).apply(this,arguments)}function gl(_,f){return ml.apply(this,arguments)}function ml(){return(ml=(0,h.Z)(function*(_,f){return qs((0,N.m9)(_),f)})).apply(this,arguments)}function Ru(_,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(_,f){return Or(_,"POST","/v1/accounts:signInWithCustomToken",Lt(_,f))})).apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(_,f){const m=yn(_),w=yield Ru(m,{token:f,returnSecureToken:!0}),A=yield ur._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ce{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Ut._fromServerResponse(f,m):Ae(f,"internal-error")}}class Ut extends Ce{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Ut(m)}}function yl(_,f,m){var w;U((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Dn(){return(Dn=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_),A={requestType:"PASSWORD_RESET",email:f};m&&yl(w,A,m),yield rr(w,A)})).apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(_,f,m){yield Ln((0,N.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(_,f){yield Cu((0,N.m9)(_),{oobCode:f})})).apply(this,arguments)}function pa(_,f){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,h.Z)(function*(_,f){const m=(0,N.m9)(_),w=yield Ln(m,{oobCode:f}),A=w.requestType;switch(U(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,m,"internal-error");default:U(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=Ce._fromServerResponse(yn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(_,f){const{data:m}=yield pa((0,N.m9)(_),f);return m.email})).apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(_,f,m){const w=yn(_),A=yield Po(w,{returnSecureToken:!0,email:f,password:m}),R=yield ur._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};U(m.handleCodeInApp,w,"argument-error"),m&&yl(w,A,m),yield ol(w,A)})).apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_),A=Mi.credentialWithLink(f,m||Ne());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),_n(w,A)})).apply(this,arguments)}function dg(_,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:createAuthUri",Lt(_,f))})).apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(_,f){const w={identifier:f,continueUri:ut()?Ne():"http://localhost"},{signinMethods:A}=yield dg((0,N.m9)(_),w);return A||[]})).apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(_,f){const m=(0,N.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&yl(m.auth,A,f);const{email:R}=yield zn(m.auth,A);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function El(){return(El=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&yl(w.auth,R,m);const{email:$}=yield Su(w.auth,R);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function Il(_,f){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,h.Z)(function*(_,f){return nn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ju(){return(ju=(0,h.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,N.m9)(_),R={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},$=yield tr(w,Il(w.auth,R));w.displayName=$.displayName||null,w.photoURL=$.photoUrl||null;const ae=w.providerData.find(({providerId:Le})=>"password"===Le);ae&&(ae.displayName=w.displayName,ae.photoURL=w.photoURL),yield w._updateTokensIfNecessary($)})).apply(this,arguments)}function Qs(_,f,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(_,f,m){const{auth:w}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),m&&(R.password=m);const $=yield tr(_,rn(w,R));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Vr{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class fn extends Vr{constructor(f,m,w,A){super(f,m,w),this.username=A}}class ld extends Vr{constructor(f,m){super(f,"facebook.com",m)}}class $u extends fn{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class $h extends Vr{constructor(f,m){super(f,"google.com",m)}}class Gu extends fn{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Dl(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function qn(_){var f,m;if(!_)return null;const{providerId:w}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const $=null===(m=null===(f=ot(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new Vr(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!w)return null;switch(w){case"facebook.com":return new ld(R,A);case"github.com":return new $u(R,A);case"google.com":return new $h(R,A);case"twitter.com":return new Gu(R,A,_.screenName||null);case"custom":case"anonymous":return new Vr(R,null);default:return new Vr(R,w,A)}}(m)}class Js{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Js("enroll",f)}static _fromMfaPendingCredential(f){return new Js("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Js._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Js._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Cl{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=yn(f),A=m.customData._serverResponse,R=(A.mfaInfo||[]).map(ae=>Ce._fromServerResponse(w,ae));U(A.mfaPendingCredential,w,"internal-error");const $=Js._fromMfaPendingCredential(A.mfaPendingCredential);return new Cl($,R,function(){var ae=(0,h.Z)(function*(Le){const Ye=yield Le._process(w,$);delete A.mfaInfo,delete A.mfaPendingCredential;const mt=Object.assign(Object.assign({},A),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(m.operationType){case"signIn":const ft=yield ur._fromIdTokenResponse(w,m.operationType,mt);return yield w._updateCurrentUser(ft.user),ft;case"reauthenticate":return U(m.user,w,"internal-error"),ur._forOperation(m.user,m.operationType,mt);default:Ae(w,"internal-error")}});return function(Le){return ae.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function Tl(_,f){return nn(_,"POST","/v2/accounts/mfaEnrollment:start",Lt(_,f))}class Gh{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ce._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Gh(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Js._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var w=this;return(0,h.Z)(function*(){const A=f,R=yield w.getSession(),$=yield tr(w.user,A._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary($),w.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){var w;const A="string"==typeof f?f:f.uid,R=yield m.user.getIdToken(),$=yield tr(m.user,function hd(_,f){return nn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(_,f))}(m.user.auth,{idToken:R,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ae})=>ae!==A),yield m.user._updateTokensIfNecessary($);try{yield m.user.reload()}catch(ae){if("auth/user-token-expired"!==(null===(w=ae)||void 0===w?void 0:w.code))throw ae}})()}}const Xs=new WeakMap,eo="__sak";class Al{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(eo,"1"),this.storage.removeItem(eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const va=(()=>{class _ extends Al{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _a(){const _=(0,N.z$)();return Nn(_)||Xt(_)}()&&function mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=js(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&m(w,R,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ae,Le,Ye)=>{this.notifyListeners(ae,Ye)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(A);if(m.newValue!==ae)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const R=()=>{const ae=this.storage.getItem(A);!w&&this.localCache[A]===ae||this.notifyListeners(A,ae)},$=this.storage.getItem(A);!function Gn(){return(0,N.w1)()&&10===document.documentMode}()||$===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,R=this;return(0,h.Z)(function*(){yield A().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,h.Z)(function*(){const R=yield w().call(A,m);return A.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,A=this;return(0,h.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return _.type="LOCAL",_})(),Pi=(()=>{class _ extends Al{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let gd=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const A=new _(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const A=m,{eventId:R,eventType:$,data:ae}=A.data,Le=w.handlersMap[$];if(!Le?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const Ye=Array.from(Le).map(function(){var ft=(0,h.Z)(function*(Vn){return Vn(A.origin,ae)});return function(Vn){return ft.apply(this,arguments)}}()),mt=yield function Ea(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Ye);A.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:mt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ia(_="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return _+m}class Wu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var A=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let $,ae;return new Promise((Le,Ye)=>{const mt=Ia("",20);R.port1.start();const ft=setTimeout(()=>{Ye(new Error("unsupported_event"))},w);ae={messageChannel:R,onMessage(Vn){const as=Vn;if(as.data.eventId===mt)switch(as.data.status){case"ack":clearTimeout(ft),$=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Le(as.data.response);break;default:clearTimeout(ft),clearTimeout($),Ye(new Error("invalid_response"))}}},A.handlers.add(ae),R.port1.addEventListener("message",ae.onMessage),A.target.postMessage({eventType:f,eventId:mt,data:m},[R.port2])}).finally(()=>{ae&&A.removeMessageHandler(ae)})})()}}function xn(){return window}function Ml(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function ba(){return(ba=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ts="firebaseLocalStorageDb",Ss="firebaseLocalStorage",Rl="fbase_key";class no{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Da(_,f){return _.transaction([Ss],f?"readwrite":"readonly").objectStore(Ss)}function Vo(){const _=indexedDB.open(Ts,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Ss,{keyPath:Rl})}catch(A){m(A)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Ss)?f(w):(w.close(),yield function yd(){const _=indexedDB.deleteDatabase(Ts);return new no(_).toPromise()}(),f(yield Vo()))}))})}function ts(_,f,m){return qu.apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(_,f,m){const w=Da(_,!0).put({[Rl]:f,value:m});return new no(w).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,h.Z)(function*(_,f){const m=Da(_,!1).get(f),w=yield new no(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ro(_,f){const m=Da(_,!0).delete(f);return new no(m).toPromise()}const Uo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Vo()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Ml()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=gd._getInstance(function Pl(){return Ml()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(A,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function to(){return ba.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Wu(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function xl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Vo();return yield ts(m,eo,"1"),yield ro(m,eo),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(R=>ts(R,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const A=yield w._withRetries(R=>function Nl(_,f){return Ca.apply(this,arguments)}(R,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>ro(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries($=>{const ae=Da($,!1).getAll();return new no(ae).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:$,value:ae}of w)R.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(ae)&&(m.notifyListeners($,ae),A.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!R.has($)&&(m.notifyListeners($,null),A.push($));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const R of Array.from(A))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Bo(_,f){return nn(_,"POST","/v2/accounts/mfaSignIn:start",Lt(_,f))}function As(){return(As=(0,h.Z)(function*(_){return(yield nn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jo(_){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=A=>{const R=ve("internal-error");R.customData=A,m(R)},w.type="text/javascript",w.charset="UTF-8",function Ho(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Ll(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ta=1e12;class dn{constructor(f){this.auth=f,this.counter=Ta,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new hg(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Ta;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ta))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(f||Ta))||void 0===w||w.execute(),""})()}}class hg{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function a_(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fg=Ll("rcb"),l_=new an(3e4,6e4);class zh{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=xn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return U(function cE(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(xn().grecaptcha):new Promise((w,A)=>{const R=xn().setTimeout(()=>{A(ve(f,"network-request-failed"))},l_.get());xn()[fg]=()=>{xn().clearTimeout(R),delete xn()[fg];const ae=xn().grecaptcha;if(!ae)return void A(ve(f,"internal-error"));const Le=ae.render;ae.render=(Ye,mt)=>{const ft=Le(Ye,mt);return this.counter++,ft},this.hostLanguage=m,w(ae)},jo(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:fg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),A(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=xn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zu{load(f){return(0,h.Z)(function*(){return new dn(f)})()}clearedOneInstance(){}}const c_="recaptcha",d_={theme:"light",type:"image"};class sr{constructor(f,m=Object.assign({},d_),w){this.parameters=m,this.type=c_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zu:new zh,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const $=ae=>{!ae||(f.tokenChangeListeners.delete($),R(ae))};f.tokenChangeListeners.add($),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=xn()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){U(ut()&&!Ml(),f.auth,"internal-error"),yield function Fl(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Ur(_){return As.apply(this,arguments)}(f.auth);U(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Go{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=bs._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Vl(){return(Vl=(0,h.Z)(function*(_,f,m){const w=yn(_),A=yield so(w,f,(0,N.m9)(m));return new Go(A,R=>_n(w,R))})).apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_);yield Gt(!1,w,"phone");const A=yield so(w.auth,f,(0,N.m9)(m));return new Go(A,R=>pl(w,R))})).apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_),A=yield so(w.auth,f,(0,N.m9)(m));return new Go(A,R=>gl(w,R))})).apply(this,arguments)}function so(_,f,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(_,f,m){var w;const A=yield m.verify();try{let R;if(U("string"==typeof A,_,"argument-error"),U(m.type===c_,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const $=R.session;if("phoneNumber"in R)return U("enroll"===$.type,_,"internal-error"),(yield Tl(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===$.type,_,"internal-error");const ae=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return U(ae,_,"missing-multi-factor-info"),(yield Bo(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield og(_,{phoneNumber:R.phoneNumber,recaptchaToken:A});return $}}finally{m._reset()}})).apply(this,arguments)}function Ul(){return(Ul=(0,h.Z)(function*(_,f){yield Ro((0,N.m9)(_),f)})).apply(this,arguments)}let Ju=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,w){return so(this.auth,m,(0,N.m9)(w))}static credential(m,w){return bs._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?bs._fromTokenResponse(w,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function oo(_,f){return f?ie(f):(U(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Xu extends lr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Wn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Wn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Wn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Qr(_){return yi(_.auth,new Xu(_),_.bypassAuthState)}function zo(_){const{auth:f,user:m}=_;return U(m,f,"internal-error"),qs(m,new Xu(_),_.bypassAuthState)}function Jr(_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,h.Z)(function*(_){const{auth:f,user:m}=_;return U(m,f,"internal-error"),Ro(m,new Xu(_),_.bypassAuthState)})).apply(this,arguments)}class ao{constructor(f,m,w,A,R=!1){this.auth=f,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(w,A){f.pendingPromise={resolve:w,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:$,error:ae,type:Le}=f;if(ae)return void m.reject(ae);const Ye={auth:m.auth,requestUri:w,sessionId:A,tenantId:$||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(Ye))}catch(mt){m.reject(mt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Qr;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return zo;default:Ae(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _d=new an(2e3,1e4);function Aa(){return(Aa=(0,h.Z)(function*(_,f,m){const w=yn(_);Ue(_,f,Ki);const A=oo(w,m);return new Wo(w,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function vd(){return(vd=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_);Ue(w.auth,f,Ki);const A=oo(w.auth,m);return new Wo(w.auth,"reauthViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_);Ue(w.auth,f,Ki);const A=oo(w.auth,m);return new Wo(w.auth,"linkViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}let Wo=(()=>{class _ extends ao{constructor(m,w,A,R,$){super(m,w,R,$),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return U(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=Ia();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,_d.get())};m()}}return _.currentPopupAction=null,_})();const Ni=new Map;class ec extends ao{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=Ni.get(m.auth._key());if(!w){try{const R=(yield function Hl(_,f){return Ms.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}Ni.set(m.auth._key(),w)}return m.bypassAuthState||Ni.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const A=yield w.auth._redirectUserForId(f.eventId);if(A)return w.user=A,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Ms(){return(Ms=(0,h.Z)(function*(_,f){const m=wd(f),w=xs(_);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function tc(_,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(_,f){return xs(_)._set(wd(f),"true")})).apply(this,arguments)}function qo(_,f){Ni.set(_._key(),f)}function xs(_){return ie(_._redirectPersistence)}function wd(_){return $n("pendingRedirect",_.config.apiKey,_.name)}function D(){return(D=(0,h.Z)(function*(_,f,m){const w=yn(_);Ue(_,f,Ki);const A=oo(w,m);return yield tc(A,w),A._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_);Ue(w.auth,f,Ki);const A=oo(w.auth,m);yield tc(A,w.auth);const R=yield ht(w);return A._openRedirect(w.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Te(){return(Te=(0,h.Z)(function*(_,f,m){const w=(0,N.m9)(_);Ue(w.auth,f,Ki);const A=oo(w.auth,m);yield Gt(!1,w,f.providerId),yield tc(A,w.auth);const R=yield ht(w);return A._openRedirect(w.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function ct(){return(ct=(0,h.Z)(function*(_,f){return yield yn(_)._initializationPromise,_t(_,f,!1)})).apply(this,arguments)}function _t(_,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(_,f,m=!1){const w=yn(_),A=oo(w,f),$=yield new ec(w,A,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield w._persistUserIfCurrent($.user),yield w._setRedirectUser(null,f)),$})).apply(this,arguments)}function ht(_){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_){const f=Ia(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Pa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Zo(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!lo(f)){const A=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ko(f))}saveEventToCache(f){this.cachedEventUids.add(Ko(f)),this.lastProcessedEventTime=Date.now()}}function Ko(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function lo({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Oi(_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(_,f={}){return nn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,os=/^https?/;function Ed(){return(Ed=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Oi(_);for(const m of f)try{if(vi(m))return}catch{}Ae(_,"unauthorized-domain")})).apply(this,arguments)}function vi(_){const f=Ne(),{protocol:m,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===w}if(!os.test(m))return!1;if(uo.test(_))return w===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const mg=new an(3e4,6e4);function Id(){const _=xn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let $l=null;function Zh(_){return $l=$l||function nc(_){return new Promise((f,m)=>{var w,A,R;function $(){Id(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Id(),m(ve(_,"network-request-failed"))},timeout:mg.get()})}if(null!==(A=null===(w=xn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(R=xn().gapi)||void 0===R||!R.load){const ae=Ll("iframefcb");return xn()[ae]=()=>{gapi.load?$():m(ve(_,"network-request-failed"))},jo(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Le=>m(Le))}$()}}).catch(f=>{throw $l=null,f})}(_),$l}const h_=new an(5e3,15e3),f_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hE(_){const f=_.config;U(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Sn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:se.SDK_VERSION},A=Yh.get(_.config.apiHost);A&&(w.eid=A);const R=_._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function Ra(){return Ra=(0,h.Z)(function*(_){const f=yield Zh(_),m=xn().gapi;return U(m,_,"internal-error"),f.open({where:document.body,url:hE(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f_,dontclear:!0},w=>new Promise(function(){var A=(0,h.Z)(function*(R,$){yield w.restyle({setHideOnLeave:!1});const ae=ve(_,"network-request-failed"),Le=xn().setTimeout(()=>{$(ae)},h_.get());function Ye(){xn().clearTimeout(Le),R(w)}w.ping(Ye).then(Ye,()=>{$(ae)})});return function(R,$){return A.apply(this,arguments)}}()))}),Ra.apply(this,arguments)}const bd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Na(_,f,m,w,A,R){U(_.config.authDomain,_,"auth-domain-config-required"),U(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:se.SDK_VERSION,eventId:A};if(f instanceof Ki){f.setDefaultLanguage(_.languageCode),$.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||($.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Ye]of Object.entries(R||{}))$[Le]=Ye}if(f instanceof Zi){const Le=f.getScopes().filter(Ye=>""!==Ye);Le.length>0&&($.scopes=Le.join(","))}_.tenantId&&($.tid=_.tenantId);const ae=$;for(const Le of Object.keys(ae))void 0===ae[Le]&&delete ae[Le];return`${function vg({config:_}){return _.emulator?Sn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(ae).slice(1)}`}const oc="webStorageSupport";class Ps extends class Td{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return me("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ps(f)}_finalizeEnroll(f,m,w){return function Sl(_,f){return nn(_,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(_,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function kl(_,f){return nn(_,"POST","/v2/accounts/mfaSignIn:finalize",Lt(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let co=(()=>{class _{constructor(){}static assertion(m){return Ps._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Xh="@firebase/auth";class g_{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var A;f((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mr(){return window}function ef(){return(ef=(0,h.Z)(function*(_,f,m){var w;const{BuildInfo:A}=mr();Y(f.sessionId,"AuthEvent did not contain a session ID");const R=yield wg(f.sessionId),$={};return Xt()?$.ibi=A.packageName:On()?$.apn=A.packageName:Ae(_,"operation-not-supported-in-this-environment"),A.displayName&&($.appDisplayName=A.displayName),$.sessionId=R,Na(_,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,$)})).apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(_){const{BuildInfo:f}=mr(),m={};Xt()?m.iosBundleId=f.packageName:On()?m.androidPackageName=f.packageName:Ae(_,"operation-not-supported-in-this-environment"),yield Oi(_,m)})).apply(this,arguments)}function Fa(){return(Fa=(0,h.Z)(function*(_,f,m){const{cordova:w}=mr();let A=()=>{};try{yield new Promise((R,$)=>{let ae=null;function Le(){var ft;R();const Vn=null===(ft=w.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Vn&&Vn(),"function"==typeof m?.close&&m.close()}function Ye(){ae||(ae=window.setTimeout(()=>{$(ve(_,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===document?.visibilityState&&Ye()}f.addPassiveListener(Le),document.addEventListener("resume",Ye,!1),On()&&document.addEventListener("visibilitychange",mt,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",mt,!1),ae&&window.clearTimeout(ae)}})}finally{A()}})).apply(this,arguments)}function wg(_){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(_){const f=gE(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gE(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}!function m_(_){(0,se._registerComponent)(new ce.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:R,authDomain:$}=w.options;return((ae,Le)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:ae.name}),U(!$?.includes(":"),"argument-error",{appName:ae.name});const Ye={apiKey:R,authDomain:$,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_s(_)},mt=new Ot(ae,Le,Ye);return function Oe(_,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ie);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,f?.popupRedirectResolver)}(mt,m),mt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ce.wA("auth-internal",f=>{const m=yn(f.getProvider("auth").getImmediate());return new g_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Xh,"0.20.6",function Oa(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(Xh,"0.20.6","esm2017")}("Browser");class y_ extends Pa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Md(_){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,h.Z)(function*(_){const f=yield Ig()._get(ql(_));return f&&(yield Ig()._remove(ql(_))),f})).apply(this,arguments)}function __(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Ig(){return ie(va)}function ql(_){return $n("authEvent",_.config.apiKey,_.name)}function uc(_){if(!_?.includes("?"))return{};const[f,...m]=_.split("?");return(0,N.zd)(m.join("?"))}function nf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Kl(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Dg(_=(0,N.z$)()){return!("file:"!==Kl()&&"ionic:"!==Kl()&&"capacitor:"!==Kl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function af(){try{const _=self.localStorage,f=Ia();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Cg(_=(0,N.z$)()){return function b_(){return(0,N.w1)()&&11===document?.documentMode}()||function Ua(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch{return Rs()&&(0,N.hl)()}return!1}function Rs(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cc(){return(function E_(){return"http:"===Kl()||"https:"===Kl()}()||(0,N.ru)()||Dg())&&!function I_(){return(0,N.b$)()||(0,N.UG)()}()&&af()&&!Rs()}function lf(){return Dg()&&typeof document<"u"}function Rd(){return(Rd=(0,h.Z)(function*(){return!!lf()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},Zl=U,Ba="persistence";function Yl(_){return dc.apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(_){yield _._initializationPromise;const f=cf(),m=$n(Ba,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function cf(){var _;try{return(null===(_=function D_(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Ql=U;class Ns{constructor(){this.browserResolver=ie(class Qo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=_t,this._overrideRedirectResult=qo}_openPopup(f,m,w,A){var R=this;return(0,h.Z)(function*(){var $;Y(null===($=R.eventManagers[f._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ae=Na(f,m,w,Ne(),A);return function Jh(_,f,m,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),$=Math.max((window.screen.availWidth-w)/2,0).toString();let ae="";const Le=Object.assign(Object.assign({},bd),{width:w.toString(),height:A.toString(),top:R,left:$}),Ye=(0,N.z$)().toLowerCase();m&&(ae=Si(Ye)?"_blank":m),gn(Ye)&&(f=f||"http://localhost",Le.scrollbars="yes");const mt=Object.entries(Le).reduce((Vn,[as,fc])=>`${Vn}${as}=${fc},`,"");if(function gi(_=(0,N.z$)()){var f;return Xt(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ye)&&"_self"!==ae)return function Dd(_,f){const m=document.createElement("a");m.href=_,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",ae),new Gl(null);const ft=window.open(f||"",ae,mt);U(ft,_,"popup-blocked");try{ft.focus()}catch{}return new Gl(ft)}(f,ae,Ia())})()}_openRedirect(f,m,w,A){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function _i(_){xn().location.href=_}(Na(f,m,w,Ne(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:R}=this.eventManagers[m];return A?Promise.resolve(A):(Y(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const w=yield function yg(_){return Ra.apply(this,arguments)}(f),A=new Pa(f);return w.register("authEvent",R=>(U(R?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=w,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(oc,{type:oc},A=>{var R;const $=null===(R=A?.[0])||void 0===R?void 0:R[oc];void 0!==$&&m(!!$),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jl(_){return Ed.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return js()||Nn()||Xt()}}),this.cordovaResolver=ie(class xd{constructor(){this._redirectPersistence=Pi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_t,this._overrideRedirectResult=qo}_initialize(f){var m=this;return(0,h.Z)(function*(){const w=f._key();let A=m.eventManagers.get(w);return A||(A=new y_(f),m.eventManagers.set(w,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,A){var R=this;return(0,h.Z)(function*(){!function Sd(_){var f,m,w,A,R,$,ae,Le,Ye,mt;const ft=mr();U("function"==typeof(null===(f=ft?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=ft?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(A=null===(w=ft?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Le=null===(ae=null===($=ft?.cordova)||void 0===$?void 0:$.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Le?void 0:Le.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(mt=null===(Ye=ft?.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===mt?void 0:mt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const $=yield R._initialize(f);yield $.initialized(),$.resetRedirect(),function qh(){Ni.clear()}(),yield R._originValidation(f);const ae=function zl(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:__(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(f,w,A);yield function Wl(_,f){return Ig()._set(ql(_),f)}(f,ae);const Le=yield function ac(_,f,m){return ef.apply(this,arguments)}(f,ae,m),Ye=yield function lc(_){const{cordova:f}=mr();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let A=null;w?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function qr(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(A)})})}(Le);return function wi(_,f,m){return Fa.apply(this,arguments)}(f,$,Ye)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function tf(_){return La.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=mr(),$=setTimeout((0,h.Z)(function*(){yield Md(f),m.onEvent(nf())}),500),ae=function(){var mt=(0,h.Z)(function*(ft){clearTimeout($);const Vn=yield Md(f);let as=null;Vn&&ft?.url&&(as=function mE(_,f){var m,w;const A=function w_(_){const f=uc(_),m=f.link?decodeURIComponent(f.link):void 0,w=uc(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return uc(A).link||A||w||m||_}(f);if(A.includes("/__/auth/callback")){const R=uc(A),$=R.firebaseError?function v_(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ae=null===(w=null===(m=$?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Le=ae?ve(ae):null;return Le?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Vn,ft.url)),m.onEvent(as||nf())});return function(Vn){return mt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ae);const Le=A,Ye=`${R.packageName.toLowerCase()}://`;mr().handleOpenURL=function(){var mt=(0,h.Z)(function*(ft){if(ft.toLowerCase().startsWith(Ye)&&ae({url:ft}),"function"==typeof Le)try{Le(ft)}catch(Vn){console.error(Vn)}});return function(ft){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Pi,this._completeRedirectFn=_t,this._overrideRedirectResult=qo}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,m,w,A)})()}_openRedirect(f,m,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,m,w,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return lf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ql(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Tg(){return Rd.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function df(_){return _.unwrap()}function C_(_){return Ha(_)}function Ha(_){const{_tokenResponse:f}=_ instanceof N.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ju.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ul;break;case"facebook.com":w=ca;break;case"github.com":w=Pu;break;case"twitter.com":w=Fr;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:ae,nonce:Le}=f;return R||$||A||ae?ae?m.startsWith("saml.")?Yi._create(m,ae):qi._fromParams({providerId:m,signInMethod:m,pendingToken:ae,idToken:A,accessToken:R}):new Ws(m).credential({idToken:A,accessToken:R,rawNonce:Le}):null}return _ instanceof N.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Fn(_,f){return f.catch(m=>{throw m instanceof N.ZR&&function Od(_,f){var m,w;const A=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new T_(_,function Tn(_,f){var m;const w=(0,N.m9)(_),A=f;return U(f.customData.operationType,w,"argument-error"),U(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Cl._fromError(w,A)}(_,f));else if(A){const R=Ha(f),$=f;R&&($.credential=R,$.tenantId=A.tenantId||void 0,$.email=A.email||void 0,$.phoneNumber=A.phoneNumber||void 0)}}(_,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:C_(m),additionalUserInfo:Dl(m),user:ho.getOrCreate(A)}})}function hf(_,f){return hc.apply(this,arguments)}function hc(){return(hc=(0,h.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>Fn(_,m.confirm(w))}})).apply(this,arguments)}class T_{constructor(f,m){this.resolver=m,this.auth=function Nd(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Fn(df(this.auth),this.resolver.resolveSignIn(f))}}class ho{constructor(f){this._delegate=f,this.multiFactor=function Fo(_){const f=(0,N.m9)(_);return Xs.has(f)||Xs.set(f,Gh._fromUser(f)),Xs.get(f)}(f)}static getOrCreate(f){return ho.USER_MAP.has(f)||ho.USER_MAP.set(f,new ho(f)),ho.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return Fn(m.auth,pl(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,h.Z)(function*(){return hf(w.auth,function Dr(_,f,m){return Ri.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return Fn(m.auth,function gg(_,f,m){return Ma.apply(this,arguments)}(m._delegate,f,Ns))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Yl(yn(m.auth)),function J(_,f,m){return function oe(_,f,m){return Te.apply(this,arguments)}(_,f,m)}(m._delegate,f,Ns)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return Fn(m.auth,gl(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return hf(this.auth,function Yu(_,f,m){return is.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Fn(this.auth,function pg(_,f,m){return vd.apply(this,arguments)}(this._delegate,f,Ns))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Yl(yn(m.auth)),function C(_,f,m){return function x(_,f,m){return F.apply(this,arguments)}(_,f,m)}(m._delegate,f,Ns)})()}sendEmailVerification(f){return function Vu(_,f){return ya.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function br(_,f){return dl.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function ad(_,f){return Qs((0,N.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Ys(_,f){return Qs((0,N.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Wh(_,f){return Ul.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Hu(_,f){return ju.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Uu(_,f,m){return El.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;const Jl=U;let ja=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;Jl(A,"invalid-api-key",{appName:m.name}),Jl(A,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?Ns:void 0;this._delegate=w.initialize({options:{persistence:Mg(A,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function bu(_,f,m){const w=yn(_);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,R=Ai(f),{host:$,port:ae}=function kn(_){const f=Ai(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:vs(w.substr(R.length+1))}}{const[R,$]=w.split(":");return{host:R,port:vs($)}}}(f);w.config.emulator={url:`${R}//${$}${null===ae?"":`:${ae}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$,port:ae,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ws(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function Yr(_,f){return fa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return pa(this._delegate,m)}confirmPasswordReset(m,w){return function vl(_,f,m){return No.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,h.Z)(function*(){return Fn(A._delegate,function Ks(_,f,m){return Cn.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function wl(_,f){return ma.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function es(_,f){return"EMAIL_SIGNIN"===ll.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){Jl(cc(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function He(_,f){return ct.apply(this,arguments)}(m._delegate,Ns);return w?Fn(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Kn(_,f){yn(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:R,error:$,complete:ae}=Ag(m,w,A);return this._delegate.onAuthStateChanged(R,$,ae)}onIdTokenChanged(m,w,A){const{next:R,error:$,complete:ae}=Ag(m,w,A);return this._delegate.onIdTokenChanged(R,$,ae)}sendSignInLinkToEmail(m,w){return function Lu(_,f,m){return Zs.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function _l(_,f,m){return Dn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,h.Z)(function*(){let A;switch(function Sg(_,f){Zl(Object.values(Tr).includes(f),_,"invalid-persistence-type"),(0,N.b$)()?Zl(f!==Tr.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?Zl(f===Tr.NONE,_,"unsupported-persistence-type"):Rs()?Zl(f===Tr.NONE||f===Tr.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):Zl(f===Tr.NONE||af(),_,"unsupported-persistence-type")}(w._delegate,m),m){case Tr.SESSION:A=Pi;break;case Tr.LOCAL:A=(yield ie(Uo)._isAvailable())?Uo:va;break;case Tr.NONE:A=Jt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Fn(this._delegate,function Bh(_){return bn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Fn(this._delegate,_n(this._delegate,m))}signInWithCustomToken(m){return Fn(this._delegate,function Nu(_,f){return ha.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Fn(this._delegate,function xi(_,f,m){return _n((0,N.m9)(_),Mi.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Fn(this._delegate,function cg(_,f,m){return ga.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return hf(this._delegate,function rs(_,f,m){return Vl.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,h.Z)(function*(){return Jl(cc(),w._delegate,"operation-not-supported-in-this-environment"),Fn(w._delegate,function Bl(_,f,m){return Aa.apply(this,arguments)}(w._delegate,m,Ns))})()}signInWithRedirect(m){var w=this;return(0,h.Z)(function*(){return Jl(cc(),w._delegate,"operation-not-supported-in-this-environment"),yield Yl(w._delegate),function Pn(_,f,m){return function Kh(_,f,m){return D.apply(this,arguments)}(_,f,m)}(w._delegate,m,Ns)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function ku(_,f){return od.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Tr,_})();function Ag(_,f,m){let w=_;"function"!=typeof _&&({next:w,error:f,complete:m}=_);const A=w;return{next:$=>A($&&ho.getOrCreate($)),error:f,complete:m}}function Mg(_,f){const m=function uf(_,f){const m=cf();if(!m)return[];const w=$n(Ba,_,f);switch(m.getItem(w)){case Tr.NONE:return[Jt];case Tr.LOCAL:return[Uo,Pi];case Tr.SESSION:return[Pi];default:return[]}}(_,f);if(typeof self<"u"&&!m.includes(Uo)&&m.push(Uo),typeof window<"u")for(const w of[va,Pi])m.includes(w)||m.push(w);return m.includes(Jt)||m.push(Jt),m}class ff{constructor(){this.providerId="phone",this._delegate=new Ju(df(ee.Z.auth()))}static credential(f,m){return Ju.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}ff.PHONE_SIGN_IN_METHOD=Ju.PHONE_SIGN_IN_METHOD,ff.PROVIDER_ID=Ju.PROVIDER_ID;const S_=U;class kd{constructor(f,m,w=ee.Z.app()){var A;S_(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new sr(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ld(_){_.INTERNAL.registerComponent(new ce.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new ja(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Mi,FacebookAuthProvider:ca,GithubAuthProvider:Pu,GoogleAuthProvider:ul,OAuthProvider:Ws,SAMLAuthProvider:Kr,PhoneAuthProvider:ff,PhoneMultiFactorGenerator:co,RecaptchaVerifier:kd,TwitterAuthProvider:Fr,Auth:ja,AuthCredential:lr,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.19")}(ee.Z)},9751:(at,Se,k)=>{k.d(Se,{y:()=>he});var h=k(2961),ee=k(727),N=k(8822),se=k(9635),re=k(2416),de=k(576),ce=k(2806);let he=(()=>{class Q{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const we=new Q;return we.source=this,we.operator=Me,we}subscribe(Me,we,Xe){const ye=function G(Q){return Q&&Q instanceof h.Lv||function H(Q){return Q&&(0,de.m)(Q.next)&&(0,de.m)(Q.error)&&(0,de.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(Me)?Me:new h.Hp(Me,we,Xe);return(0,ce.x)(()=>{const{operator:pe,source:Qe}=this;ye.add(pe?pe.call(ye,Qe):Qe?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Me){try{return this._subscribe(Me)}catch(we){Me.error(we)}}forEach(Me,we){return new(we=ge(we))((Xe,ye)=>{const pe=new h.Hp({next:Qe=>{try{Me(Qe)}catch(nt){ye(nt),pe.unsubscribe()}},error:ye,complete:Xe});this.subscribe(pe)})}_subscribe(Me){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Me)}[N.L](){return this}pipe(...Me){return(0,se.U)(Me)(this)}toPromise(Me){return new(Me=ge(Me))((we,Xe)=>{let ye;this.subscribe(pe=>ye=pe,pe=>Xe(pe),()=>we(ye))})}}return Q.create=Fe=>new Q(Fe),Q})();function ge(Q){var Fe;return null!==(Fe=Q??re.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(at,Se,k)=>{k.d(Se,{x:()=>ce});var h=k(9751),ee=k(727);const se=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(8737),de=k(2806);let ce=(()=>{class ge extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new he(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new se}next(G){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Fe,observers:Me}=this;return Q||Fe?ee.Lc:(this.currentObservers=null,Me.push(G),new ee.w0(()=>{this.currentObservers=null,(0,re.P)(Me,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Fe,isStopped:Me}=this;Q?G.error(Fe):Me&&G.complete()}asObservable(){const G=new h.y;return G.source=this,G}}return ge.create=(H,G)=>new he(H,G),ge})();class he extends ce{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,H)}error(H){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==Q?Q:ee.Lc}}},2961:(at,Se,k)=>{k.d(Se,{Hp:()=>Xe,Lv:()=>Q});var h=k(576),ee=k(727),N=k(2416),se=k(7849);function re(){}const de=ge("C",void 0,void 0);function ge(Ae,ve,be){return{kind:Ae,value:ve,error:be}}var H=k(3410),G=k(2806);class Q extends ee.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,ee.Nn)(ve)&&ve.add(this)):this.destination=nt}static create(ve,be,Ue){return new Xe(ve,be,Ue)}next(ve){this.isStopped?Qe(function he(Ae){return ge("N",Ae,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Qe(function ce(Ae){return ge("E",void 0,Ae)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Qe(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Me(Ae,ve){return Fe.call(Ae,ve)}class we{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:be}=this;if(be.next)try{be.next(ve)}catch(Ue){ye(Ue)}}error(ve){const{partialObserver:be}=this;if(be.error)try{be.error(ve)}catch(Ue){ye(Ue)}else ye(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(be){ye(be)}}}class Xe extends Q{constructor(ve,be,Ue){let Be;if(super(),(0,h.m)(ve)||!ve)Be={next:ve??void 0,error:be??void 0,complete:Ue??void 0};else{let U;this&&N.v.useDeprecatedNextContext?(U=Object.create(ve),U.unsubscribe=()=>this.unsubscribe(),Be={next:ve.next&&Me(ve.next,U),error:ve.error&&Me(ve.error,U),complete:ve.complete&&Me(ve.complete,U)}):Be=ve}this.destination=new we(Be)}}function ye(Ae){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ae):(0,se.h)(Ae)}function Qe(Ae,ve){const{onStoppedNotification:be}=N.v;be&&H.z.setTimeout(()=>be(Ae,ve))}const nt={closed:!0,next:re,error:function pe(Ae){throw Ae},complete:re}},727:(at,Se,k)=>{k.d(Se,{Lc:()=>de,w0:()=>re,Nn:()=>ce});var h=k(576);const N=(0,k(3888).d)(ge=>function(G){ge(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Fe)=>`${Fe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var se=k(8737);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Me of G)Me.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,h.m)(Q))try{Q()}catch(Me){H=Me instanceof N?Me.errors:[Me]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Me of Fe)try{he(Me)}catch(we){H=H??[],we instanceof N?H=[...H,...we.errors]:H.push(we)}}if(H)throw new N(H)}}add(H){var G;if(H&&H!==this)if(this.closed)he(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,se.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,se.P)(G,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const ge=new re;return ge.closed=!0,ge})();const de=re.EMPTY;function ce(ge){return ge instanceof re||ge&&"closed"in ge&&(0,h.m)(ge.remove)&&(0,h.m)(ge.add)&&(0,h.m)(ge.unsubscribe)}function he(ge){(0,h.m)(ge)?ge():ge.unsubscribe()}},2416:(at,Se,k)=>{k.d(Se,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Se,k)=>{k.d(Se,{E:()=>ee});const ee=new(k(9751).y)(re=>re.complete())},8996:(at,Se,k)=>{k.d(Se,{D:()=>ve});var h=k(8421),ee=k(5363),N=k(9468),de=k(9751),he=k(2202),ge=k(576),H=k(9672);function Q(be,Ue){if(!be)throw new Error("Iterable cannot be null");return new de.y(Be=>{(0,H.f)(Be,Ue,()=>{const U=be[Symbol.asyncIterator]();(0,H.f)(Be,Ue,()=>{U.next().then(me=>{me.done?Be.complete():Be.next(me.value)})},0,!0)})})}var Fe=k(3670),Me=k(8239),we=k(1144),Xe=k(6495),ye=k(2206),pe=k(4532),Qe=k(3260);function ve(be,Ue){return Ue?function Ae(be,Ue){if(null!=be){if((0,Fe.c)(be))return function se(be,Ue){return(0,h.Xf)(be).pipe((0,N.R)(Ue),(0,ee.Q)(Ue))}(be,Ue);if((0,we.z)(be))return function ce(be,Ue){return new de.y(Be=>{let U=0;return Ue.schedule(function(){U===be.length?Be.complete():(Be.next(be[U++]),Be.closed||this.schedule())})})}(be,Ue);if((0,Me.t)(be))return function re(be,Ue){return(0,h.Xf)(be).pipe((0,N.R)(Ue),(0,ee.Q)(Ue))}(be,Ue);if((0,ye.D)(be))return Q(be,Ue);if((0,Xe.T)(be))return function G(be,Ue){return new de.y(Be=>{let U;return(0,H.f)(Be,Ue,()=>{U=be[he.h](),(0,H.f)(Be,Ue,()=>{let me,Y;try{({value:me,done:Y}=U.next())}catch(X){return void Be.error(X)}Y?Be.complete():Be.next(me)},0,!0)}),()=>(0,ge.m)(U?.return)&&U.return()})}(be,Ue);if((0,Qe.L)(be))return function nt(be,Ue){return Q((0,Qe.Q)(be),Ue)}(be,Ue)}throw(0,pe.z)(be)}(be,Ue):(0,h.Xf)(be)}},8421:(at,Se,k)=>{k.d(Se,{Xf:()=>Fe});var h=k(655),ee=k(1144),N=k(8239),se=k(9751),re=k(3670),de=k(2206),ce=k(4532),he=k(6495),ge=k(3260),H=k(576),G=k(7849),Q=k(8822);function Fe(Ae){if(Ae instanceof se.y)return Ae;if(null!=Ae){if((0,re.c)(Ae))return function Me(Ae){return new se.y(ve=>{const be=Ae[Q.L]();if((0,H.m)(be.subscribe))return be.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function we(Ae){return new se.y(ve=>{for(let be=0;be<Ae.length&&!ve.closed;be++)ve.next(Ae[be]);ve.complete()})}(Ae);if((0,N.t)(Ae))return function Xe(Ae){return new se.y(ve=>{Ae.then(be=>{ve.closed||(ve.next(be),ve.complete())},be=>ve.error(be)).then(null,G.h)})}(Ae);if((0,de.D)(Ae))return pe(Ae);if((0,he.T)(Ae))return function ye(Ae){return new se.y(ve=>{for(const be of Ae)if(ve.next(be),ve.closed)return;ve.complete()})}(Ae);if((0,ge.L)(Ae))return function Qe(Ae){return pe((0,ge.Q)(Ae))}(Ae)}throw(0,ce.z)(Ae)}function pe(Ae){return new se.y(ve=>{(function nt(Ae,ve){var be,Ue,Be,U;return(0,h.mG)(this,void 0,void 0,function*(){try{for(be=(0,h.KL)(Ae);!(Ue=yield be.next()).done;)if(ve.next(Ue.value),ve.closed)return}catch(me){Be={error:me}}finally{try{Ue&&!Ue.done&&(U=be.return)&&(yield U.call(be))}finally{if(Be)throw Be.error}}ve.complete()})})(Ae,ve).catch(be=>ve.error(be))})}},6451:(at,Se,k)=>{k.d(Se,{T:()=>de});var h=k(8189),ee=k(8421),N=k(515),se=k(7669),re=k(8996);function de(...ce){const he=(0,se.yG)(ce),ge=(0,se._6)(ce,1/0),H=ce;return H.length?1===H.length?(0,ee.Xf)(H[0]):(0,h.J)(ge)((0,re.D)(H,he)):N.E}},5403:(at,Se,k)=>{k.d(Se,{x:()=>ee});var h=k(2961);function ee(se,re,de,ce,he){return new N(se,re,de,ce,he)}class N extends h.Lv{constructor(re,de,ce,he,ge,H){super(re),this.onFinalize=ge,this.shouldUnsubscribe=H,this._next=de?function(G){try{de(G)}catch(Q){re.error(Q)}}:super._next,this._error=he?function(G){try{he(G)}catch(Q){re.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(G){re.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(at,Se,k)=>{k.d(Se,{U:()=>N});var h=k(4482),ee=k(5403);function N(se,re){return(0,h.e)((de,ce)=>{let he=0;de.subscribe((0,ee.x)(ce,ge=>{ce.next(se.call(re,ge,he++))}))})}},8189:(at,Se,k)=>{k.d(Se,{J:()=>N});var h=k(5577),ee=k(4671);function N(se=1/0){return(0,h.z)(ee.y,se)}},5577:(at,Se,k)=>{k.d(Se,{z:()=>he});var h=k(4004),ee=k(8421),N=k(4482),se=k(9672),re=k(5403),ce=k(576);function he(ge,H,G=1/0){return(0,ce.m)(H)?he((Q,Fe)=>(0,h.U)((Me,we)=>H(Q,Me,Fe,we))((0,ee.Xf)(ge(Q,Fe))),G):("number"==typeof H&&(G=H),(0,N.e)((Q,Fe)=>function de(ge,H,G,Q,Fe,Me,we,Xe){const ye=[];let pe=0,Qe=0,nt=!1;const Ae=()=>{nt&&!ye.length&&!pe&&H.complete()},ve=Ue=>pe<Q?be(Ue):ye.push(Ue),be=Ue=>{Me&&H.next(Ue),pe++;let Be=!1;(0,ee.Xf)(G(Ue,Qe++)).subscribe((0,re.x)(H,U=>{Fe?.(U),Me?ve(U):H.next(U)},()=>{Be=!0},void 0,()=>{if(Be)try{for(pe--;ye.length&&pe<Q;){const U=ye.shift();we?(0,se.f)(H,we,()=>be(U)):be(U)}Ae()}catch(U){H.error(U)}}))};return ge.subscribe((0,re.x)(H,ve,()=>{nt=!0,Ae()})),()=>{Xe?.()}}(Q,Fe,ge,G)))}},5363:(at,Se,k)=>{k.d(Se,{Q:()=>se});var h=k(9672),ee=k(4482),N=k(5403);function se(re,de=0){return(0,ee.e)((ce,he)=>{ce.subscribe((0,N.x)(he,ge=>(0,h.f)(he,re,()=>he.next(ge),de),()=>(0,h.f)(he,re,()=>he.complete(),de),ge=>(0,h.f)(he,re,()=>he.error(ge),de)))})}},3099:(at,Se,k)=>{k.d(Se,{B:()=>re});var h=k(8421),ee=k(7579),N=k(2961),se=k(4482);function re(ce={}){const{connector:he=(()=>new ee.x),resetOnError:ge=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=ce;return Q=>{let Fe,Me,we,Xe=0,ye=!1,pe=!1;const Qe=()=>{Me?.unsubscribe(),Me=void 0},nt=()=>{Qe(),Fe=we=void 0,ye=pe=!1},Ae=()=>{const ve=Fe;nt(),ve?.unsubscribe()};return(0,se.e)((ve,be)=>{Xe++,!pe&&!ye&&Qe();const Ue=we=we??he();be.add(()=>{Xe--,0===Xe&&!pe&&!ye&&(Me=de(Ae,G))}),Ue.subscribe(be),!Fe&&Xe>0&&(Fe=new N.Hp({next:Be=>Ue.next(Be),error:Be=>{pe=!0,Qe(),Me=de(nt,ge,Be),Ue.error(Be)},complete:()=>{ye=!0,Qe(),Me=de(nt,H),Ue.complete()}}),(0,h.Xf)(ve).subscribe(Fe))})(Q)}}function de(ce,he,...ge){if(!0===he)return void ce();if(!1===he)return;const H=new N.Hp({next:()=>{H.unsubscribe(),ce()}});return he(...ge).subscribe(H)}},9468:(at,Se,k)=>{k.d(Se,{R:()=>ee});var h=k(4482);function ee(N,se=0){return(0,h.e)((re,de)=>{de.add(N.schedule(()=>re.subscribe(de),se))})}},8505:(at,Se,k)=>{k.d(Se,{b:()=>re});var h=k(576),ee=k(4482),N=k(5403),se=k(4671);function re(de,ce,he){const ge=(0,h.m)(de)||ce||he?{next:de,error:ce,complete:he}:de;return ge?(0,ee.e)((H,G)=>{var Q;null===(Q=ge.subscribe)||void 0===Q||Q.call(ge);let Fe=!0;H.subscribe((0,N.x)(G,Me=>{var we;null===(we=ge.next)||void 0===we||we.call(ge,Me),G.next(Me)},()=>{var Me;Fe=!1,null===(Me=ge.complete)||void 0===Me||Me.call(ge),G.complete()},Me=>{var we;Fe=!1,null===(we=ge.error)||void 0===we||we.call(ge,Me),G.error(Me)},()=>{var Me,we;Fe&&(null===(Me=ge.unsubscribe)||void 0===Me||Me.call(ge)),null===(we=ge.finalize)||void 0===we||we.call(ge)}))}):se.y}},4408:(at,Se,k)=>{k.d(Se,{o:()=>re});var h=k(727);class ee extends h.w0{constructor(ce,he){super()}schedule(ce,he=0){return this}}const N={setInterval(de,ce,...he){const{delegate:ge}=N;return ge?.setInterval?ge.setInterval(de,ce,...he):setInterval(de,ce,...he)},clearInterval(de){const{delegate:ce}=N;return(ce?.clearInterval||clearInterval)(de)},delegate:void 0};var se=k(8737);class re extends ee{constructor(ce,he){super(ce,he),this.scheduler=ce,this.work=he,this.pending=!1}schedule(ce,he=0){if(this.closed)return this;this.state=ce;const ge=this.id,H=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(H,ge,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(H,this.id,he),this}requestAsyncId(ce,he,ge=0){return N.setInterval(ce.flush.bind(ce,this),ge)}recycleAsyncId(ce,he,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return he;N.clearInterval(he)}execute(ce,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ce,he);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,he){let H,ge=!1;try{this.work(ce)}catch(G){ge=!0,H=G||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ce,scheduler:he}=this,{actions:ge}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ge,this),null!=ce&&(this.id=this.recycleAsyncId(he,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Se,k)=>{k.d(Se,{v:()=>N});var h=k(6063);class ee{constructor(re,de=ee.now){this.schedulerActionCtor=re,this.now=de}schedule(re,de=0,ce){return new this.schedulerActionCtor(this,re).schedule(ce,de)}}ee.now=h.l.now;class N extends ee{constructor(re,de=ee.now){super(re,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:de}=this;if(this._active)return void de.push(re);let ce;this._active=!0;do{if(ce=re.execute(re.state,re.delay))break}while(re=de.shift());if(this._active=!1,ce){for(;re=de.shift();)re.unsubscribe();throw ce}}}},4986:(at,Se,k)=>{k.d(Se,{z:()=>N});var h=k(4408);const N=new(k(7565).v)(h.o)},6063:(at,Se,k)=>{k.d(Se,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(at,Se,k)=>{k.d(Se,{z:()=>h});const h={setTimeout(ee,N,...se){const{delegate:re}=h;return re?.setTimeout?re.setTimeout(ee,N,...se):setTimeout(ee,N,...se)},clearTimeout(ee){const{delegate:N}=h;return(N?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(at,Se,k)=>{k.d(Se,{h:()=>ee});const ee=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Se,k)=>{k.d(Se,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(at,Se,k)=>{k.d(Se,{_6:()=>de,jO:()=>se,yG:()=>re});var h=k(576);function N(ce){return ce[ce.length-1]}function se(ce){return(0,h.m)(N(ce))?ce.pop():void 0}function re(ce){return function ee(ce){return ce&&(0,h.m)(ce.schedule)}(N(ce))?ce.pop():void 0}function de(ce,he){return"number"==typeof N(ce)?ce.pop():he}},8737:(at,Se,k)=>{function h(ee,N){if(ee){const se=ee.indexOf(N);0<=se&&ee.splice(se,1)}}k.d(Se,{P:()=>h})},3888:(at,Se,k)=>{function h(ee){const se=ee(re=>{Error.call(re),re.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Se,{d:()=>h})},2806:(at,Se,k)=>{k.d(Se,{O:()=>se,x:()=>N});var h=k(2416);let ee=null;function N(re){if(h.v.useDeprecatedSynchronousErrorHandling){const de=!ee;if(de&&(ee={errorThrown:!1,error:null}),re(),de){const{errorThrown:ce,error:he}=ee;if(ee=null,ce)throw he}}else re()}function se(re){h.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=re)}},9672:(at,Se,k)=>{function h(ee,N,se,re=0,de=!1){const ce=N.schedule(function(){se(),de?ee.add(this.schedule(null,re)):this.unsubscribe()},re);if(ee.add(ce),!de)return ce}k.d(Se,{f:()=>h})},4671:(at,Se,k)=>{function h(ee){return ee}k.d(Se,{y:()=>h})},1144:(at,Se,k)=>{k.d(Se,{z:()=>h});const h=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(at,Se,k)=>{k.d(Se,{D:()=>ee});var h=k(576);function ee(N){return Symbol.asyncIterator&&(0,h.m)(N?.[Symbol.asyncIterator])}},576:(at,Se,k)=>{function h(ee){return"function"==typeof ee}k.d(Se,{m:()=>h})},3670:(at,Se,k)=>{k.d(Se,{c:()=>N});var h=k(8822),ee=k(576);function N(se){return(0,ee.m)(se[h.L])}},6495:(at,Se,k)=>{k.d(Se,{T:()=>N});var h=k(2202),ee=k(576);function N(se){return(0,ee.m)(se?.[h.h])}},8239:(at,Se,k)=>{k.d(Se,{t:()=>ee});var h=k(576);function ee(N){return(0,h.m)(N?.then)}},3260:(at,Se,k)=>{k.d(Se,{L:()=>se,Q:()=>N});var h=k(655),ee=k(576);function N(re){return(0,h.FC)(this,arguments,function*(){const ce=re.getReader();try{for(;;){const{value:he,done:ge}=yield(0,h.qq)(ce.read());if(ge)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(he)}}finally{ce.releaseLock()}})}function se(re){return(0,ee.m)(re?.getReader)}},4482:(at,Se,k)=>{k.d(Se,{A:()=>ee,e:()=>N});var h=k(576);function ee(se){return(0,h.m)(se?.lift)}function N(se){return re=>{if(ee(re))return re.lift(function(de){try{return se(de,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(at,Se,k)=>{k.d(Se,{U:()=>N,z:()=>ee});var h=k(4671);function ee(...se){return N(se)}function N(se){return 0===se.length?h.y:1===se.length?se[0]:function(de){return se.reduce((ce,he)=>he(ce),de)}}},7849:(at,Se,k)=>{k.d(Se,{h:()=>N});var h=k(2416),ee=k(3410);function N(se){ee.z.setTimeout(()=>{const{onUnhandledError:re}=h.v;if(!re)throw se;re(se)})}},4532:(at,Se,k)=>{function h(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>h})},655:(at,Se,k)=>{function se(Y,X){var ie={};for(var ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&X.indexOf(ne)<0&&(ie[ne]=Y[ne]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ne=Object.getOwnPropertySymbols(Y);Oe<ne.length;Oe++)X.indexOf(ne[Oe])<0&&Object.prototype.propertyIsEnumerable.call(Y,ne[Oe])&&(ie[ne[Oe]]=Y[ne[Oe]])}return ie}function he(Y,X,ie,ne){return new(ie||(ie=Promise))(function(Ne,ut){function Wt(an){try{Ge(ne.next(an))}catch(Sn){ut(Sn)}}function Ht(an){try{Ge(ne.throw(an))}catch(Sn){ut(Sn)}}function Ge(an){an.done?Ne(an.value):function Oe(Ne){return Ne instanceof ie?Ne:new ie(function(ut){ut(Ne)})}(an.value).then(Wt,Ht)}Ge((ne=ne.apply(Y,X||[])).next())})}function ye(Y){return this instanceof ye?(this.v=Y,this):new ye(Y)}function pe(Y,X,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ne=ie.apply(Y,X||[]),Ne=[];return Oe={},ut("next"),ut("throw"),ut("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function ut(Zt){ne[Zt]&&(Oe[Zt]=function(Yt){return new Promise(function(vr,Lt){Ne.push([Zt,Yt,vr,Lt])>1||Wt(Zt,Yt)})})}function Wt(Zt,Yt){try{!function Ht(Zt){Zt.value instanceof ye?Promise.resolve(Zt.value.v).then(Ge,an):Sn(Ne[0][2],Zt)}(ne[Zt](Yt))}catch(vr){Sn(Ne[0][3],vr)}}function Ge(Zt){Wt("next",Zt)}function an(Zt){Wt("throw",Zt)}function Sn(Zt,Yt){Zt(Yt),Ne.shift(),Ne.length&&Wt(Ne[0][0],Ne[0][1])}}function nt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function Q(Y){var X="function"==typeof Symbol&&Symbol.iterator,ie=X&&Y[X],ne=0;if(ie)return ie.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ne>=Y.length&&(Y=void 0),{value:Y&&Y[ne++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ie={},ne("next"),ne("throw"),ne("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ne(Ne){ie[Ne]=Y[Ne]&&function(ut){return new Promise(function(Wt,Ht){!function Oe(Ne,ut,Wt,Ht){Promise.resolve(Ht).then(function(Ge){Ne({value:Ge,done:Wt})},ut)}(Wt,Ht,(ut=Y[Ne](ut)).done,ut.value)})}}}k.d(Se,{FC:()=>pe,KL:()=>nt,_T:()=>se,mG:()=>he,qq:()=>ye})},4650:(at,Se,k)=>{k.d(Se,{$8M:()=>kl,$Z:()=>QE,AFp:()=>Gw,ALo:()=>bw,AaK:()=>he,CHM:()=>yl,CRH:()=>iy,CZH:()=>pp,CqO:()=>NI,D6c:()=>Ay,DdM:()=>lh,EJc:()=>sA,EpF:()=>PI,F$t:()=>rh,F4k:()=>RI,FYo:()=>mt,FiY:()=>He,G48:()=>dA,Gf:()=>WS,GfV:()=>fc,GkF:()=>ks,Gpc:()=>G,Hsn:()=>Uv,JOm:()=>Bi,KtG:()=>_l,LFG:()=>Pn,LSH:()=>sf,Lbi:()=>Ww,Lck:()=>MS,MMx:()=>ip,NdJ:()=>Fv,OlP:()=>dn,Oqu:()=>$f,PXZ:()=>s0,Q6J:()=>kv,QGY:()=>wm,QP$:()=>Si,QbO:()=>dh,Qsj:()=>ft,R0b:()=>Fs,RDi:()=>hE,Rgc:()=>lp,SBq:()=>ae,Sil:()=>Yw,Suo:()=>qS,TTD:()=>Zi,TgZ:()=>Lv,Tol:()=>Hf,VKq:()=>Ew,WLB:()=>sp,X6Q:()=>Ey,XFs:()=>Ke,Xpm:()=>z,Xts:()=>cc,Y36:()=>zd,YKP:()=>mw,YNc:()=>xI,Yjl:()=>Vt,Yz7:()=>Yt,Z0I:()=>aa,ZZ4:()=>m0,_Bn:()=>$t,_UZ:()=>_e,_Vd:()=>A,_c5:()=>rl,_uU:()=>ih,aQg:()=>Ap,c2e:()=>uD,cJS:()=>Lt,cg1:()=>Nm,dDg:()=>pD,dqk:()=>ln,eFA:()=>gD,ekj:()=>Bf,eoX:()=>n0,f3M:()=>D,g9A:()=>zw,h0i:()=>ds,hGG:()=>Sy,iGM:()=>qb,ifc:()=>ot,ip1:()=>ii,jDz:()=>Tb,kL8:()=>oS,l5B:()=>Rb,lG2:()=>$n,lcZ:()=>Dw,lqb:()=>Fn,lri:()=>t0,n5z:()=>ns,oAB:()=>it,oxw:()=>tl,q4F:()=>Xl,qLn:()=>Fd,qOj:()=>Pv,qZA:()=>_m,rFY:()=>Km,rWj:()=>fD,sBO:()=>hA,sIi:()=>Ya,s_b:()=>ty,soG:()=>gp,tb:()=>lD,tp0:()=>_t,uIk:()=>DI,vHH:()=>we,vpe:()=>Ls,wAp:()=>wt,xp6:()=>GE,z2F:()=>Ip,zSh:()=>df,zs3:()=>Ec});var h=k(7579),ee=k(727),N=k(9751),se=k(6451),re=k(3099);function de(s){for(let o in s)if(s[o]===de)return o;throw Error("Could not find renamed property on target object.")}function ce(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=de({__forward_ref__:de});function G(s){return s.__forward_ref__=G,s.toString=function(){return he(this())},s}function Q(s){return Fe(s)?s():s}function Fe(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===G}class we extends Error{constructor(o,a){super(function Xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function ve(s,o){throw new we(-201,!1)}function Ht(s,o){null==s&&function Ge(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function nn(s){return Nr(s,Ti)||Nr(s,hi)}function aa(s){return null!==nn(s)}function Nr(s,o){return s.hasOwnProperty(o)?s[o]:null}function ys(s){return s&&(s.hasOwnProperty(kr)||s.hasOwnProperty(Mo))?s[kr]:null}const Ti=de({\u0275prov:de}),kr=de({\u0275inj:de}),hi=de({ngInjectableDef:de}),Mo=de({ngInjectorDef:de});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let Lr;function An(s){const o=Lr;return Lr=s,o}function fi(s,o,a){const u=nn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ke.Optional?null:void 0!==o?o:void ve(he(s))}function Mn(s){return{toString:s}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),ot=(()=>{return(s=ot||(ot={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ot;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wr={},It=[],Wi=de({\u0275cmp:de}),Qt=de({\u0275dir:de}),pi=de({\u0275pipe:de}),Kt=de({\u0275mod:de}),K=de({\u0275fac:de}),j=de({__NG_ELEMENT_ID__:de});let V=0;function z(s){return Mn(()=>{const a=!0===s.standalone,u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||It,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ot.Emulated,id:"c"+V++,styles:s.styles||It,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return d.inputs=Jt(s.inputs,u),d.outputs=Jt(s.outputs),v&&v.forEach(E=>E(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(De).filter(Ve):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(Nn).filter(Ve):null,d})}function De(s){return Nt(s)||gn(s)}function Ve(s){return null!==s}function it(s){return Mn(()=>({type:s.type,bootstrap:s.bootstrap||It,declarations:s.declarations||It,imports:s.imports||It,exports:s.exports||It,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Jt(s,o){if(null==s)return wr;const a={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=u,o&&(o[d]=g)}return a}const $n=z;function Vt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Nt(s){return s[Wi]||null}function gn(s){return s[Qt]||null}function Nn(s){return s[pi]||null}function Si(s){const o=Nt(s)||gn(s)||Nn(s);return null!==o&&o.standalone}function Er(s,o){const a=s[Kt]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function rr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ir(s){return Array.isArray(s)&&!0===s[1]}function ol(s){return 0!=(8&s.flags)}function ua(s){return 2==(2&s.flags)}function Su(s){return 1==(1&s.flags)}function gr(s){return null!==s.template}function Lh(s){return 0!=(256&s[2])}function Mi(s,o){return s.hasOwnProperty(K)?s[K]:null}class Ki{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zi(){return Ws}function Ws(s){return s.type.prototype.ngOnChanges&&(s.setInput=ul),ca}function ca(){const s=Vh(this),o=s?.current;if(o){const a=s.previous;if(a===wr)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ul(s,o,a,u){const d=Vh(s)||function Yi(s,o){return s[Pu]=o}(s,{previous:wr,current:null}),g=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[a],b=v[E];g[E]=new Ki(b&&b.currentValue,o,v===wr),s[u]=o}Zi.ngInherit=!0;const Pu="__ngSimpleChanges__";function Vh(s){return s[Pu]||null}function bn(s){for(;Array.isArray(s);)s=s[0];return s}function Zr(s,o){return bn(o[s])}function br(s,o){return bn(o[s.index])}function Ro(s,o){return s.data[o]}function Gt(s,o){const a=o[s];return rr(a)?a:a[0]}function da(s){return 4==(4&s[2])}function qs(s){return 64==(64&s[2])}function yi(s,o){return null==o?null:s[o]}function fl(s){s[18]=0}function _n(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const bt={lFrame:Hu(null),bindingsEnabled:!0};function Xi(){return bt.bindingsEnabled}function Ce(){return bt.lFrame.lView}function Ut(){return bt.lFrame.tView}function yl(s){return bt.lFrame.contextLView=s,s[8]}function _l(s){return bt.lFrame.contextLView=null,s}function Dn(){let s=vl();for(;null!==s&&64===s.type;)s=s.parent;return s}function vl(){return bt.lFrame.currentTNode}function Yr(s,o){const a=bt.lFrame;a.currentTNode=s,a.isParent=o}function fa(){return bt.lFrame.isParent}function pa(){bt.lFrame.isParent=!1}function Cn(){const s=bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Zs(){return bt.lFrame.bindingIndex++}function es(s){const o=bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function dg(s,o){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=s,wl(o)}function wl(s){bt.lFrame.currentDirectiveIndex=s}function Vu(){return bt.lFrame.currentQueryIndex}function ya(s){bt.lFrame.currentQueryIndex=s}function Uu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function El(s,o,a){if(a&Ke.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&Ke.Host||(d=Uu(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const u=bt.lFrame=Bu();return u.currentTNode=o,u.lView=s,!0}function Il(s){const o=Bu(),a=s[1];bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Bu(){const s=bt.lFrame,o=null===s?null:s.child;return null===o?Hu(s):o}function Hu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ju(){const s=bt.lFrame;return bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ad=ju;function Ys(){const s=ju();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qn(){return bt.lFrame.selectedIndex}function Vr(s){bt.lFrame.selectedIndex=s}function fn(){const s=bt.lFrame;return Ro(s.tView,s.selectedIndex)}function zu(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:P}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-a,b),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(a,P)}}function Oo(s,o,a){Lo(s,o,3,a)}function ko(s,o,a,u){(3&s[2])===a&&Lo(s,o,a,u)}function cd(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Lo(s,o,a,u){const g=u??-1,v=o.length-1;let E=0;for(let b=void 0!==u?65535&s[18]:0;b<v;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=u&&E>=u)break}else o[b]<0&&(s[18]+=65536),(E<g||-1==g)&&(dd(s,a,o,b),s[18]=(4294901760&s[18])+b+2),b++}function dd(s,o,a,u){const d=a[u]<0,g=a[u+1],E=s[d?-a[u]:a[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Cs{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Fo(s,o,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const g=a[u++],v=a[u++],E=a[u++];s.setAttribute(o,v,E,g)}else{const g=d,v=a[++u];Al(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),u++}}return u}function eo(s){return 3===s||4===s||6===s}function Al(s){return 64===s.charCodeAt(0)}function _a(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||fd(s,a,d,null,-1===a||2===a?o[++u]:null)}}return s}function fd(s,o,a,u,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==d&&(s[g+1]=d));if(u===s[g+1])return void(s[g+2]=d)}g++,null!==u&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==u&&s.splice(g++,0,u),null!==d&&s.splice(g++,0,d)}function pd(s){return-1!==s}function ir(s){return 32767&s}function wa(s,o){let a=function va(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Pi=!0;function Ea(s){const o=Pi;return Pi=s,o}let xn=0;const _i={};function to(s,o){const a=xl(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,ba(u.data,s),ba(o,null),ba(u.blueprint,null));const d=Pl(s,o),g=s.injectorIndex;if(pd(d)){const v=ir(d),E=wa(d,o),b=E[1].data;for(let S=0;S<8;S++)o[g+S]=E[v+S]|b[v+S]}return o[g+8]=d,g}function ba(s,o){s.push(0,0,0,0,0,0,0,0,o)}function xl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Pl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){if(u=Bo(d),null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Ts(s,o,a){!function Ml(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(j)&&(u=a[j]),null==u&&(u=a[j]=xn++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Ss(s,o,a){if(a&Ke.Optional)return s;ve()}function Rl(s,o,a,u){if(a&Ke.Optional&&void 0===u&&(u=null),0==(a&(Ke.Self|Ke.Host))){const d=s[9],g=An(void 0);try{return d?d.get(o,u,a&Ke.Optional):fi(o,u,a&Ke.Optional)}finally{An(g)}}return Ss(u,0,a)}function no(s,o,a,u=Ke.Default,d){if(null!==s){if(1024&o[2]){const v=function Uo(s,o,a,u,d){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Da(g,v,a,u|Ke.Self,_i);if(E!==_i)return E;let b=g.parent;if(!b){const S=v[21];if(S){const P=S.get(a,_i,u);if(P!==_i)return P}b=Bo(v),v=v[15]}g=b}return d}(s,o,a,u,_i);if(v!==_i)return v}const g=Da(s,o,a,u,_i);if(g!==_i)return g}return Rl(o,a,u,d)}function Da(s,o,a,u,d){const g=function qu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(j)?s[j]:void 0;return"number"==typeof o?o>=0?255&o:Ku:o}(a);if("function"==typeof g){if(!El(o,s,u))return u&Ke.Host?Ss(d,0,u):Rl(o,a,u,d);try{const v=g(u);if(null!=v||u&Ke.Optional)return v;ve()}finally{ad()}}else if("number"==typeof g){let v=null,E=xl(s,o),b=-1,S=u&Ke.Host?o[16][6]:null;for((-1===E||u&Ke.SkipSelf)&&(b=-1===E?Pl(s,o):o[E+8],-1!==b&&Ca(u,!1)?(v=o[1],E=ir(b),o=wa(b,o)):E=-1);-1!==E;){const P=o[1];if(Nl(g,E,P.data)){const O=yd(E,o,a,v,u,S);if(O!==_i)return O}b=o[E+8],-1!==b&&Ca(u,o[1].data[E+8]===S)&&Nl(g,E,o)?(v=P,E=ir(b),o=wa(b,o)):E=-1}}return d}function yd(s,o,a,u,d,g){const v=o[1],E=v.data[s+8],P=Vo(E,v,a,null==u?ua(E)&&Pi:u!=v&&0!=(3&E.type),d&Ke.Host&&g===E);return null!==P?ts(o,v,P,E):_i}function Vo(s,o,a,u,d){const g=s.providerIndexes,v=o.data,E=1048575&g,b=s.directiveStart,P=g>>20,W=d?E+P:s.directiveEnd;for(let te=u?E:E+P;te<W;te++){const Ee=v[te];if(te<b&&a===Ee||te>=b&&Ee.type===a)return te}if(d){const te=v[b];if(te&&gr(te)&&te.type===a)return b}return null}function ts(s,o,a,u){let d=s[a];const g=o.data;if(function Js(s){return s instanceof Cs}(d)){const v=d;v.resolving&&function Qe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(g[a]));const E=Ea(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?An(v.injectImpl):null;El(s,u,Ke.Default);try{d=s[a]=v.factory(void 0,g,s,u),o.firstCreatePass&&a>=u.directiveStart&&function ud(s,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(u){const v=Ws(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==b&&An(b),Ea(E),v.resolving=!1,ad()}}return d}function Nl(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ca(s,o){return!(s&Ke.Self||s&Ke.Host&&o)}class ro{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return no(this._tNode,this._lView,o,u,a)}}function Ku(){return new ro(Dn(),Ce())}function ns(s){return Mn(()=>{const o=s.prototype.constructor,a=o[K]||Ol(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const g=d[K]||Ol(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ol(s){return Fe(s)?()=>{const o=Ol(Q(s));return o&&o()}:Mi(s)}function Bo(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function kl(s){return function md(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const g=a[d];if(eo(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(Dn(),s)}const As="__parameters__";function $o(s,o,a){return Mn(()=>{const u=function Ll(s){return function(...a){if(s){const u=s(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...g){if(this instanceof d)return u.apply(this,g),this;const v=new d(...g);return E.annotation=v,E;function E(b,S,P){const O=b.hasOwnProperty(As)?b[As]:Object.defineProperty(b,As,{value:[]})[As];for(;O.length<=P;)O.push(null);return(O[P]=O[P]||[]).push(v),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class dn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Dr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Dr(u,o)):o!==s&&o.push(u)}return o}function Ri(s,o){s.forEach(a=>Array.isArray(a)?Ri(a,o):o(a))}function Yu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function is(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function so(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Qr(s,o,a){let u=Jr(s,o);return u>=0?s[1|u]=a:(u=~u,function Ul(s,o,a,u){let d=s.length;if(d==o)s.push(a,u);else if(1===d)s.push(u,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function zo(s,o){const a=Jr(s,o);if(a>=0)return s[1|a]}function Jr(s,o){return function ao(s,o,a){let u=0,d=s.length>>a;for(;d!==u;){const g=u+(d-u>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:u=g+1}return~(d<<a)}(s,o,1)}const Ni={},ec="__NG_DI_FLAG__",Hl="ngTempTokenPath",tc=/\n/gm,qh="__source";let qo;function xs(s){const o=qo;return qo=s,o}function wd(s,o=Ke.Default){if(void 0===qo)throw new we(-203,!1);return null===qo?fi(s,void 0,o):qo.get(s,o&Ke.Optional?null:void 0,o)}function Pn(s,o=Ke.Default){return(function zi(){return Lr}()||wd)(Q(s),o)}function D(s,o=Ke.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Pn(s,o)}function C(s){const o=[];for(let a=0;a<s.length;a++){const u=Q(s[a]);if(Array.isArray(u)){if(0===u.length)throw new we(900,!1);let d,g=Ke.Default;for(let v=0;v<u.length;v++){const E=u[v],b=F(E);"number"==typeof b?-1===b?d=E.token:g|=b:d=E}o.push(Pn(d,g))}else o.push(Pn(u))}return o}function x(s,o){return s[ec]=o,s.prototype[ec]=o,s}function F(s){return s[ec]}const He=x($o("Optional"),8),_t=x($o("SkipSelf"),4);let Yh;function hE(s){Yh=s}class Na{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ps(s){return s instanceof Na?s.changingThisBreaksApplicationSecurity:s}const tf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function sf(s){const o=function Rs(){const s=Ce();return s&&s[12]}();return o?o.sanitize(Kn.URL,s)||"":function co(s,o){const a=function Xh(s){return s instanceof Na&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?Ps(s):function La(s){return(s=String(s)).match(tf)?s:"unsafe:"+s}(ye(s))}const cc=new dn("ENVIRONMENT_INITIALIZER"),lf=new dn("INJECTOR",-1),Tg=new dn("INJECTOR_DEF_TYPES");class Rd{get(o,a=Ni){if(a===Ni){const u=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw u.name="NullInjectorError",u}return a}}function D_(...s){return{\u0275providers:Tr(0,s)}}function Tr(s,...o){const a=[],u=new Set;let d;return Ri(o,g=>{const v=g;Ba(v,a,[],u)&&(d||(d=[]),d.push(v))}),void 0!==d&&Zl(d,a),a}function Zl(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];Ri(d,g=>{o.push(g)})}}function Ba(s,o,a,u){if(!(s=Q(s)))return!1;let d=null,g=ys(s);const v=!g&&Nt(s);if(g||v){if(v&&!v.standalone)return!1;d=s}else{const b=s.ngModule;if(g=ys(b),!g)return!1;d=b}const E=u.has(d);if(v){if(E)return!1;if(u.add(d),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of b)Ba(S,o,a,u)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;u.add(d);try{Ri(g.imports,P=>{Ba(P,o,a,u)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&Zl(S,o)}if(!E){const S=Mi(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:It},{provide:Tg,useValue:d,multi:!0},{provide:cc,useValue:()=>Pn(d),multi:!0})}const b=g.providers;null==b||E||Ri(b,P=>{o.push(P)})}}return d!==s&&void 0!==s.providers}const Yl=de({provide:String,useValue:de});function dc(s){return null!==s&&"object"==typeof s&&Yl in s}function Ql(s){return"function"==typeof s}const df=new dn("Set Injector scope."),Nd={},C_={};let Od;function Ha(){return void 0===Od&&(Od=new Rd),Od}class Fn{}class hf extends Fn{constructor(o,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kd(o,v=>this.processProvider(v)),this.records.set(lf,ja(void 0,this)),d.has("environment")&&this.records.set(Fn,ja(void 0,this));const g=this.records.get(df);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Tg.multi,It,Ke.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=xs(this),u=An(void 0);try{return o()}finally{xs(a),An(u)}}get(o,a=Ni,u=Ke.Default){this.assertNotDestroyed();const d=xs(this),g=An(void 0);try{if(!(u&Ke.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function ff(s){return"function"==typeof s||"object"==typeof s&&s instanceof dn}(o)&&nn(o);E=b&&this.injectableDefInScope(b)?ja(hc(o),Nd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&Ke.Self?Ha():this.parent).get(o,a=u&Ke.Optional&&a===Ni?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Hl]=v[Hl]||[]).unshift(he(o)),d)throw v;return function J(s,o,a,u){const d=s[Hl];throw o[qh]&&d.unshift(o[qh]),s.message=function oe(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=he(o);if(Array.isArray(o))d=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}d=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${s.replace(tc,"\n  ")}`}("\n"+s.message,d,a,u),s.ngTokenPath=d,s[Hl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{An(g),xs(d)}}resolveInjectorInitializers(){const o=xs(this),a=An(void 0);try{const u=this.get(cc.multi,It,Ke.Self);for(const d of u)d()}finally{xs(o),An(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(he(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let a=Ql(o=Q(o))?o:Q(o&&o.provide);const u=function ho(s){return dc(s)?ja(void 0,s.useValue):ja(Jl(s),Nd)}(o);if(Ql(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=ja(void 0,Nd,!0),d.factory=()=>C(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===Nd&&(a.value=C_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Mg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function hc(s){const o=nn(s),a=null!==o?o.factory:Mi(s);if(null!==a)return a;if(s instanceof dn)throw new we(204,!1);if(s instanceof Function)return function T_(s){const o=s.length;if(o>0)throw so(o,"?"),new we(204,!1);const a=function pr(s){const o=s&&(s[Ti]||s[hi]);if(o){const a=function Or(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new we(204,!1)}function Jl(s,o,a){let u;if(Ql(s)){const d=Q(s);return Mi(d)||hc(d)}if(dc(s))u=()=>Q(s.useValue);else if(function cf(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...C(s.deps||[]));else if(function uf(s){return!(!s||!s.useExisting)}(s))u=()=>Pn(Q(s.useExisting));else{const d=Q(s&&(s.useClass||s.provide));if(!function Ag(s){return!!s.deps}(s))return Mi(d)||hc(d);u=()=>new d(...C(s.deps))}return u}function ja(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function S_(s){return!!s.\u0275providers}function kd(s,o){for(const a of s)Array.isArray(a)?kd(a,o):S_(a)?kd(a.\u0275providers,o):o(a)}class Ld{}class w{resolveComponentFactory(o){throw function _(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let A=(()=>{class s{}return s.NULL=new w,s})();function R(){return $(Dn(),Ce())}function $(s,o){return new ae(br(s,o))}let ae=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=R,s})();function Le(s){return s instanceof ae?s.nativeElement:s}class mt{}let ft=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Vn(){const s=Ce(),a=Gt(Dn().index,s);return(rr(a)?a:s)[11]}(),s})(),as=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class fc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xl=new fc("14.2.1"),pc={};function k_(s){return s.ngOriginalError}class Fd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&k_(o);for(;a&&k_(a);)a=k_(a);return a||null}}const F_=new Map;let RC=0;const nu="__ngContext__";function Ze(s,o){rr(o)?(s[nu]=o[20],function V_(s){F_.set(s[20],s)}(o)):s[nu]=o}function Vi(s){const o=s[nu];return"number"==typeof o?function U_(s){return F_.get(s)||null}(o):o||null}function Ui(s){const o=Vi(s);return o?rr(o)?o:o.lView:null}function Xo(s){return s instanceof Function?s():s}var Bi=(()=>((Bi=Bi||{})[Bi.Important=1]="Important",Bi[Bi.DashCase=2]="DashCase",Bi))();function _f(s,o){return undefined(s,o)}function mc(s){const o=s[3];return Ir(o)?o[3]:o}function Og(s){return kg(s[13])}function Br(s){return kg(s[4])}function kg(s){for(;null!==s&&!Ir(s);)s=s[4];return s}function Un(s,o,a,u,d){if(null!=u){let g,v=!1;Ir(u)?g=u:rr(u)&&(v=!0,u=u[0]);const E=bn(u);0===s&&null!==a?null==d?Bd(o,a,E):Rt(o,a,E,d||null,!0):1===s&&null!==a?Rt(o,a,E,d||null,!0):2===s?function q_(s,o,a){const u=Vg(s,o);u&&function Hd(s,o,a,u){s.removeChild(o,a,u)}(s,u,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function LE(s,o,a,u,d){const g=a[7];g!==bn(a)&&Un(o,s,u,g,d);for(let E=10;E<a.length;E++){const b=a[E];If(b[1],b,s,o,u,g)}}(o,s,g,a,d)}}function Hr(s,o,a){return s.createElement(o,a)}function Ga(s,o){const a=s[9],u=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,_n(d,-1)),a.splice(u,1)}function j_(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const d=u[17];null!==d&&d!==s&&Ga(d,u),o>0&&(s[a-1][4]=u[4]);const g=is(s,10+o);!function Lg(s,o){If(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Ud(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&If(s,o,a,3,null,null),function $a(s){let o=s[13];if(!o)return Ef(s[1],s);for(;o;){let a=null;if(rr(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)rr(o)&&Ef(o[1],o),o=o[3];null===o&&(o=s),rr(o)&&Ef(o[1],o),a=o&&o[4]}o=a}}(o)}}function Ef(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function GC(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof Cs)){const g=a[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=d[g[v]],b=g[v+1];try{b.call(E)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function ME(s,o){const a=s.cleanup,u=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):bn(o[v]),b=u[d=a[g+2]],S=a[g+3];"boolean"==typeof S?E.removeEventListener(a[g],b,S):S>=0?u[d=S]():u[d=-S].unsubscribe(),g+=2}else{const v=u[d=a[g+1]];a[g].call(v)}if(null!==u){for(let g=d+1;g<u.length;g++)(0,u[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ir(o[3])){a!==o[3]&&Ga(a,o);const u=o[19];null!==u&&u.detachView(s)}!function NC(s){F_.delete(s[20])}(o)}}function xE(s,o,a){return function Fg(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===ot.None||d===ot.Emulated)return null}return br(u,a)}(s,o.parent,a)}function Rt(s,o,a,u,d){s.insertBefore(o,a,u,d)}function Bd(s,o,a){s.appendChild(o,a)}function PE(s,o,a,u,d){null!==u?Rt(s,o,a,u,d):Bd(s,o,a)}function Vg(s,o){return s.parentNode(o)}function $_(s,o,a){return z_(s,o,a)}let z_=function G_(s,o,a){return 40&s.type?br(s,a):null};function po(s,o,a,u){const d=xE(s,u,o),g=o[11],E=$_(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)PE(g,d,a[b],E,!1);else PE(g,d,a,E,!1)}function jd(s,o){if(null!==o){const a=o.type;if(3&a)return br(o,s);if(4&a)return W_(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return jd(s,u);{const d=s[o.index];return Ir(d)?W_(-1,d):bn(d)}}if(32&a)return _f(o,s)()||bn(s[o.index]);{const u=NE(s,o);return null!==u?Array.isArray(u)?u[0]:jd(mc(s[16]),u):jd(s,o.next)}}return null}function NE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function W_(s,o){const a=10+s+1;if(a<o.length){const u=o[a],d=u[1].firstChild;if(null!==d)return jd(u,d)}return o[7]}function Ug(s,o,a,u,d,g,v){for(;null!=a;){const E=u[a.index],b=a.type;if(v&&0===o&&(E&&Ze(bn(E),u),a.flags|=4),64!=(64&a.flags))if(8&b)Ug(s,o,a.child,u,d,g,!1),Un(o,s,d,E,g);else if(32&b){const S=_f(a,u);let P;for(;P=S();)Un(o,s,d,P,g);Un(o,s,d,E,g)}else 16&b?kE(s,o,u,a,d,g):Un(o,s,d,E,g);a=v?a.projectionNext:a.next}}function If(s,o,a,u,d,g){Ug(a,u,s.firstChild,o,d,g,!1)}function kE(s,o,a,u,d,g){const v=a[16],b=v[6].projection[u.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)Un(o,s,d,b[S],g);else Ug(s,o,b,v[3],d,g,!0)}function bf(s,o,a){s.setAttribute(o,"style",a)}function za(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function jt(s,o,a){let u=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===u||s.charCodeAt(d+g)<=32)return d}a=d+1}}const VE="ng-template";function wc(s,o,a){let u=0;for(;u<s.length;){let d=s[u++];if(a&&"class"===d){if(d=s[u],-1!==jt(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function UE(s){return 4===s.type&&s.value!==VE}function BE(s,o,a){return o===(4!==s.type||a?s.value:VE)}function K_(s,o,a){let u=4;const d=s.attrs||[],g=function jg(s){for(let o=0;o<s.length;o++)if(eo(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!v)if(4&u){if(u=2|1&u,""!==b&&!BE(s,b,a)||""===b&&1===o.length){if(go(u))return!1;v=!0}}else{const S=8&u?b:o[++E];if(8&u&&null!==s.attrs){if(!wc(s.attrs,S,a)){if(go(u))return!1;v=!0}continue}const O=Hg(8&u?"class":b,d,UE(s),a);if(-1===O){if(go(u))return!1;v=!0;continue}if(""!==S){let W;W=O>g?"":d[O+1].toLowerCase();const te=8&u?W:null;if(te&&-1!==jt(te,S,0)||2&u&&S!==W){if(go(u))return!1;v=!0}}}}else{if(!v&&!go(u)&&!go(b))return!1;if(v&&go(b))continue;v=!1,u=b|1&u}}return go(u)||v}function go(s){return 0==(1&s)}function Hg(s,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function zC(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function $d(s,o,a=!1){for(let u=0;u<o.length;u++)if(K_(s,o[u],a))return!0;return!1}function Z_(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function Df(s,o){return s?":not("+o.trim()+")":o}function jE(s){let o=s[0],a=1,u=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&u){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?d+="."+v:4&u&&(d+=" "+v);else""!==d&&!go(v)&&(o+=Df(g,d),d=""),u=v,g=g||!go(u);a++}return""!==d&&(o+=Df(g,d)),o}const kt={};function GE(s){Cf(Ut(),Ce(),qn()+s,!1)}function Cf(s,o,a,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Oo(o,g,a)}else{const g=s.preOrderHooks;null!==g&&ko(o,g,0,a)}Vr(a)}function zg(s,o=null,a=null,u){const d=QC(s,o,a,u);return d.resolveInjectorInitializers(),d}function QC(s,o=null,a=null,u,d=new Set){const g=[a||It,D_(s)];return u=u||("object"==typeof s?void 0:he(s)),new hf(g,o||Ha(),u||null,d)}let Ec=(()=>{class s{static create(a,u){if(Array.isArray(a))return zg({name:""},u,a,"");{const d=a.name??"";return zg({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Ni,s.NULL=new Rd,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>Pn(lf)}),s.__NG_ELEMENT_ID__=-1,s})();function zd(s,o=Ke.Default){const a=Ce();return null===a?Pn(s,o):no(Dn(),a,Q(s),o)}function QE(){throw new Error("invalid")}function Zg(s,o){return s<<17|o<<2}function mo(s){return s>>17&32767}function Yg(s){return 2|s}function yo(s){return(131068&s)>>2}function Af(s,o){return-131069&s|o<<2}function su(s){return 1|s}function dv(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],g=a[u+1];if(-1!==g){const v=s.data[g];ya(d),v.contentQueries(2,o[g],g)}}}function tm(s,o,a,u,d,g,v,E,b,S,P){const O=o.blueprint.slice();return O[0]=d,O[2]=76|u,(null!==P||s&&1024&s[2])&&(O[2]|=1024),fl(O),O[3]=O[15]=s,O[8]=a,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=b||s&&s[12]||null,O[9]=S||s&&s[9]||null,O[6]=g,O[20]=function EE(){return RC++}(),O[21]=P,O[16]=2==o.type?s[16]:O,O}function _o(s,o,a,u,d){let g=s.data[o];if(null===g)g=function Tc(s,o,a,u,d){const g=vl(),v=fa(),b=s.data[o]=function Yd(s,o,a,u,d,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,u,d);return null===s.firstChild&&(s.firstChild=b),null!==g&&(v?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,o,a,u,d),function cg(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=d;const v=function No(){const s=bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Yr(g,!0),g}function Zd(s,o,a,u){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function nm(s,o,a){Il(o);try{const u=s.viewQuery;null!==u&&um(1,u,a);const d=s.template;null!==d&&lI(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&dv(s,o),s.staticViewQueries&&um(2,s.viewQuery,a);const g=s.components;null!==g&&function fT(s,o){for(let a=0;a<o.length;a++)bT(s,o[a])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ys()}}function Ka(s,o,a,u){const d=o[2];if(128!=(128&d)){Il(o);try{fl(o),function Lu(s){return bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&lI(s,o,a,2,u);const v=3==(3&d);if(v){const S=s.preOrderCheckHooks;null!==S&&Oo(o,S,null)}else{const S=s.preOrderHooks;null!==S&&ko(o,S,0,null),cd(o,0)}if(function ET(s){for(let o=Og(s);null!==o;o=Br(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const d=a[u],g=d[3];0==(512&d[2])&&_n(g,1),d[2]|=512}}}(o),function wT(s){for(let o=Og(s);null!==o;o=Br(o))for(let a=10;a<o.length;a++){const u=o[a],d=u[1];qs(u)&&Ka(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&dv(s,o),v){const S=s.contentCheckHooks;null!==S&&Oo(o,S)}else{const S=s.contentHooks;null!==S&&ko(o,S,1),cd(o,1)}!function hT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)Vr(~d);else{const g=d,v=a[++u],E=a[++u];dg(v,g),E(2,o[g])}}}finally{Vr(-1)}}(s,o);const E=s.components;null!==E&&function em(s,o){for(let a=0;a<o.length;a++)IT(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&um(2,b,u),v){const S=s.viewCheckHooks;null!==S&&Oo(o,S)}else{const S=s.viewHooks;null!==S&&ko(o,S,2),cd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,_n(o[3],-1))}finally{Ys()}}}function Pf(s,o,a,u){const d=o[10],v=da(o);try{!v&&d.begin&&d.begin(),v&&nm(s,o,u),Ka(s,o,a,u)}finally{!v&&d.end&&d.end()}}function lI(s,o,a,u,d){const g=qn(),v=2&u;try{Vr(-1),v&&o.length>22&&Cf(s,o,22,!1),a(u,d)}finally{Vr(g)}}function uI(s,o,a){if(ol(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function hv(s,o,a){!Xi()||(function _v(s,o,a,u){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||to(a,o),Ze(u,o);const v=a.initialInputs;for(let E=d;E<g;E++){const b=s.data[E],S=gr(b);S&&yI(o,a,b);const P=ts(o,s,E,a);Ze(P,o),null!==v&&sm(0,E-d,P,b,0,v),S&&(Gt(a.index,o)[8]=P)}}(s,o,a,br(a,o)),128==(128&a.flags)&&function pI(s,o,a){const u=a.directiveStart,d=a.directiveEnd,g=a.index,v=function Fu(){return bt.lFrame.currentDirectiveIndex}();try{Vr(g);for(let E=u;E<d;E++){const b=s.data[E],S=o[E];wl(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&rm(b,S)}}finally{Vr(-1),wl(v)}}(s,o,a))}function fv(s,o,a=br){const u=o.localNames;if(null!==u){let d=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function cI(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=pv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function pv(s,o,a,u,d,g,v,E,b,S){const P=22+u,O=P+d,W=function Hx(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:kt);return a}(P,O),te="function"==typeof S?S():S;return W[1]={type:s,blueprint:W,template:a,queries:null,viewQuery:E,declTNode:o,data:W.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:te,incompleteFirstPass:!1}}function Rf(s,o,a,u){const d=bv(o);null===a?d.push(u):(d.push(a),s.firstCreatePass&&Dv(s).push(u,d.length-1))}function dI(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,d):a[u]=[o,d]}return a}function hI(s,o){const u=o.directiveEnd,d=s.data,g=o.attrs,v=[];let E=null,b=null;for(let S=o.directiveStart;S<u;S++){const P=d[S],O=P.inputs,W=null===g||UE(o)?null:_I(O,g);v.push(W),E=dI(O,S,E),b=dI(P.outputs,S,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=b}function fI(s,o){const a=Gt(o,s);16&a[2]||(a[2]|=32)}function mv(s,o,a,u){let d=!1;if(Xi()){const g=function im(s,o,a){const u=s.directiveRegistry;let d=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];$d(a,v.selectors,!1)&&(d||(d=[]),Ts(to(a,o),s,v.type),gr(v)?(gI(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===u?null:{"":-1};if(null!==g){d=!0,mI(a,s.data.length,g.length);for(let P=0;P<g.length;P++){const O=g[P];O.providersResolver&&O.providersResolver(O)}let E=!1,b=!1,S=Zd(s,o,g.length,null);for(let P=0;P<g.length;P++){const O=g[P];a.mergedAttrs=_a(a.mergedAttrs,O.hostAttrs),Nf(s,a,o,S,O),vT(S,O,v),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const W=O.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),b=!0),S++}hI(s,a)}v&&function _T(s,o,a){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new we(-301,!1);u.push(o[d],g)}}}(a,u,v)}return a.mergedAttrs=_a(a.mergedAttrs,a.attrs),d}function yv(s,o,a,u,d,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const b=~o.index;(function yT(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=b&&E.push(b),E.push(u,d,v)}}function rm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function gI(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function vT(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;gr(o)&&(a[""]=s)}}function mI(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Nf(s,o,a,u,d){s.data[u]=d;const g=d.factory||(d.factory=Mi(d.type)),v=new Cs(g,gr(d),zd);s.blueprint[u]=v,a[u]=v,yv(s,o,0,u,Zd(s,a,d.hostVars,kt),d)}function yI(s,o,a){const u=br(o,s),d=cI(a),g=s[10],v=lm(s,tm(s,d,null,a.onPush?32:16,u,o,g,g.createRenderer(u,a),null,null,null));s[o.index]=v}function vo(s,o,a,u,d,g){const v=br(s,o);!function Qd(s,o,a,u,d,g,v){if(null==g)s.removeAttribute(o,d,a);else{const E=null==v?ye(g):v(g,u||"",d);s.setAttribute(o,d,E,a)}}(o[11],v,g,s.value,a,u,d)}function sm(s,o,a,u,d,g){const v=g[o];if(null!==v){const E=u.setInput;for(let b=0;b<v.length;){const S=v[b++],P=v[b++],O=v[b++];null!==E?u.setInput(a,O,S,P):a[P]=O}}}function _I(s,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return a}function vv(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function IT(s,o){const a=Gt(o,s);if(qs(a)){const u=a[1];48&a[2]?Ka(u,a,u.template,a[8]):a[5]>0&&wv(a)}}function wv(s){for(let u=Og(s);null!==u;u=Br(u))for(let d=10;d<u.length;d++){const g=u[d];if(qs(g))if(512&g[2]){const v=g[1];Ka(v,g,v.template,g[8])}else g[5]>0&&wv(g)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Gt(a[u],s);qs(d)&&d[5]>0&&wv(d)}}function bT(s,o){const a=Gt(o,s),u=a[1];(function am(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),nm(u,a,a[8])}function lm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ev(s){for(;s;){s[2]|=32;const o=mc(s);if(Lh(s)&&!o)return s;s=o}return null}function um(s,o,a){ya(0),o(s,a)}function bv(s){return s[7]||(s[7]=[])}function Dv(s){return s.cleanup||(s.cleanup=[])}function Tv(s,o){const a=s[9],u=a?a.get(Fd,null):null;u&&u.handleError(o)}function cm(s,o,a,u,d){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],b=o[v],S=s.data[v];null!==S.setInput?S.setInput(b,d,u,E):b[E]=d}}function dm(s,o,a){let u=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?d=ge(d,E):2==g&&(u=ge(u,E+": "+o[++v]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=d:s.classesWithoutHost=d}function hm(s,o,a,u,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&u.push(bn(g)),Ir(g))for(let E=10;E<g.length;E++){const b=g[E],S=b[1].firstChild;null!==S&&hm(b[1],b,S,u)}const v=a.type;if(8&v)hm(s,o,a.child,u);else if(32&v){const E=_f(a,o);let b;for(;b=E();)u.push(b)}else if(16&v){const E=NE(o,a);if(Array.isArray(E))u.push(...E);else{const b=mc(o[16]);hm(b[1],b,E,u,!0)}}a=d?a.projectionNext:a.next}return u}class Of{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return hm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ir(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(j_(o,u),is(a,u))}this._attachedToViewContainer=!1}Ud(this._lView[1],this._lView)}onDestroy(o){Rf(this._lView[1],this._lView,null,o)}markForCheck(){Ev(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Iv(s,o,a){const u=o[10];u.begin&&u.begin();try{Ka(s,o,s.template,a)}catch(d){throw Tv(o,d),d}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $C(s,o){If(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class CT extends Of{constructor(o){super(o),this._view=o}detectChanges(){!function vI(s){!function DT(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Ui(a);if(null!==u){const d=u[1];Pf(d,u,d.template,a)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Sv extends A{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Nt(o);return new Jd(a,this.ngModule)}}function Av(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class wI{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){const d=this.injector.get(o,pc,u);return d!==pc||a===pc?d:this.parentInjector.get(o,a,u)}}class Jd extends Ld{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function $E(s){return s.map(jE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Av(this.componentDef.inputs)}get outputs(){return Av(this.componentDef.outputs)}create(o,a,u,d){let g=(d=d||this.ngModule)instanceof Fn?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new wI(o,g):o,E=v.get(mt,null);if(null===E)throw new we(407,!1);const b=v.get(as,null),S=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",O=u?function gv(s,o,a){return s.selectRootElement(o,a===ot.ShadowDom)}(S,u,this.componentDef.encapsulation):Hr(E.createRenderer(null,this.componentDef),P,function Mv(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),W=this.componentDef.onPush?288:272,te={components:[]},Ee=pv(0,null,null,1,0,null,null,null,null,null),Re=tm(null,Ee,te,W,null,null,E,S,b,v,null);let $e,Je;Il(Re);try{const vt=function ST(s,o,a,u,d,g){const v=a[1];a[22]=s;const b=_o(v,22,2,"#host",null),S=b.mergedAttrs=o.hostAttrs;null!==S&&(dm(b,S,!0),null!==s&&(Fo(d,s,S),null!==b.classes&&za(d,s,b.classes),null!==b.styles&&bf(d,s,b.styles)));const P=u.createRenderer(s,o),O=tm(a,cI(o),null,o.onPush?32:16,a[22],b,u,P,g||null,null,null);return v.firstCreatePass&&(Ts(to(b,a),v,o.type),gI(v,b),mI(b,a.length,1)),lm(a,O),a[22]=O}(O,this.componentDef,Re,E,S);if(O)if(u)Fo(S,O,["ng-version",Xl.full]);else{const{attrs:xe,classes:gt}=function WC(s){const o=[],a=[];let u=1,d=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++u]):8===d&&a.push(g);else{if(!go(d))break;d=g}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);xe&&Fo(S,O,xe),gt&&gt.length>0&&za(S,O,gt.join(" "))}if(Je=Ro(Ee,22),void 0!==a){const xe=Je.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const qt=a[gt];xe.push(null!=qt?Array.from(qt):null)}}$e=function fm(s,o,a,u,d){const g=a[1],v=function mT(s,o,a){const u=Dn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Nf(s,u,o,Zd(s,o,1,null),a),hI(s,u));const d=ts(o,s,u.directiveStart,u);Ze(d,o);const g=br(u,o);return g&&Ze(g,o),d}(g,a,o);if(u.components.push(v),s[8]=v,null!==d)for(const b of d)b(v,o);if(o.contentQueries){const b=Dn();o.contentQueries(1,v,b.directiveStart)}const E=Dn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Vr(E.index),yv(a[1],E,0,E.directiveStart,E.directiveEnd,o),rm(o,v)),v}(vt,this.componentDef,Re,te,[xv]),nm(Ee,Re,null)}finally{Ys()}return new TT(this.componentType,$e,$(Je,Re),Re,Je)}}class TT extends class A_{}{constructor(o,a,u,d,g){super(),this.location=u,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new CT(d),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[o])){const g=this._rootLView;cm(g[1],g,d,o,a),fI(g,this._tNode.index)}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xv(){const s=Dn();zu(Ce()[1],s)}function Pv(s){let o=function pm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let d;if(gr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);d=o.\u0275dir}if(d){if(a){u.push(d);const v=s;v.inputs=Xd(s.inputs),v.declaredInputs=Xd(s.declaredInputs),v.outputs=Xd(s.outputs);const E=d.hostBindings;E&&PT(s,E);const b=d.viewQuery,S=d.contentQueries;if(b&&MT(s,b),S&&xT(s,S),ce(s.inputs,d.inputs),ce(s.declaredInputs,d.declaredInputs),ce(s.outputs,d.outputs),gr(d)&&d.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Pv&&(a=!1)}}o=Object.getPrototypeOf(o)}!function AT(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=_a(d.hostAttrs,a=_a(a,d.hostAttrs))}}(u)}function Xd(s){return s===wr?{}:s===It?[]:s}function MT(s,o){const a=s.viewQuery;s.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function xT(s,o){const a=s.contentQueries;s.contentQueries=a?(u,d,g)=>{o(u,d,g),a(u,d,g)}:o}function PT(s,o){const a=s.hostBindings;s.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}let Zn=null;function Sc(){if(!Zn){const s=ln.Symbol;if(s&&s.iterator)Zn=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Zn=u)}}}return Zn}function Ya(s){return!!Rv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Sc()in s)}function Rv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qa(s,o,a){return s[o]=a}function ti(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Ja(s,o,a,u){const d=ti(s,o,a);return ti(s,o+1,u)||d}function DI(s,o,a,u){const d=Ce();return ti(d,Zs(),o)&&(Ut(),vo(fn(),d,s,o,a,u)),DI}function xI(s,o,a,u,d,g,v,E){const b=Ce(),S=Ut(),P=s+22,O=S.firstCreatePass?function VT(s,o,a,u,d,g,v,E,b){const S=o.consts,P=_o(o,s,4,v||null,yi(S,E));mv(o,a,P,yi(S,b)),zu(o,P);const O=P.tViews=pv(2,P,u,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,P),O.queries=o.queries.embeddedTView(P)),P}(P,S,b,o,a,u,d,g,v):S.data[P];Yr(O,!1);const W=b[11].createComment("");po(S,b,W,O),Ze(W,b),lm(b,b[P]=vv(W,b,W,O)),Su(O)&&hv(S,b,O),null!=v&&fv(b,O,E)}function kv(s,o,a){const u=Ce();return ti(u,Zs(),o)&&function ls(s,o,a,u,d,g,v,E){const b=br(o,a);let P,S=o.inputs;!E&&null!=S&&(P=S[u])?(cm(s,a,P,u,d),ua(o)&&fI(a,o.index)):3&o.type&&(u=function pT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=v?v(d,o.value||"",u):d,g.setProperty(b,u,d))}(Ut(),fn(),u,s,o,u[11],a,!1),kv}function ym(s,o,a,u,d){const v=d?"class":"style";cm(s,a,o.inputs[v],v,u)}function Lv(s,o,a,u){const d=Ce(),g=Ut(),v=22+s,E=d[11],b=d[v]=Hr(E,o,function Dl(){return bt.lFrame.currentNamespace}()),S=g.firstCreatePass?function HT(s,o,a,u,d,g,v){const E=o.consts,S=_o(o,s,2,d,yi(E,g));return mv(o,a,S,yi(E,v)),null!==S.attrs&&dm(S,S.attrs,!1),null!==S.mergedAttrs&&dm(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,d,0,o,a,u):g.data[v];Yr(S,!0);const P=S.mergedAttrs;null!==P&&Fo(E,b,P);const O=S.classes;null!==O&&za(E,b,O);const W=S.styles;return null!==W&&bf(E,b,W),64!=(64&S.flags)&&po(g,d,b,S),0===function gl(){return bt.lFrame.elementDepthCount}()&&Ze(b,d),function ml(){bt.lFrame.elementDepthCount++}(),Su(S)&&(hv(g,d,S),uI(g,S,d)),null!==u&&fv(d,S),Lv}function _m(){let s=Dn();fa()?pa():(s=s.parent,Yr(s,!1));const o=s;!function Ru(){bt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(zu(a,s),ol(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Sl(s){return 0!=(16&s.flags)}(o)&&ym(a,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function hd(s){return 0!=(32&s.flags)}(o)&&ym(a,o,Ce(),o.stylesWithoutHost,!1),_m}function _e(s,o,a,u){return Lv(s,o,a,u),_m(),_e}function vm(s,o,a){const u=Ce(),d=Ut(),g=s+22,v=d.firstCreatePass?function jT(s,o,a,u,d){const g=o.consts,v=yi(g,u),E=_o(o,s,8,"ng-container",v);return null!==v&&dm(E,v,!0),mv(o,a,E,yi(g,d)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,d,u,o,a):d.data[g];Yr(v,!0);const E=u[g]=u[11].createComment("");return po(d,u,E,v),Ze(E,u),Su(v)&&(hv(d,u,v),uI(d,v,u)),null!=a&&fv(u,v),vm}function Xa(){let s=Dn();const o=Ut();return fa()?pa():(s=s.parent,Yr(s,!1)),o.firstCreatePass&&(zu(o,s),ol(s)&&o.queries.elementEnd(s)),Xa}function ks(s,o,a){return vm(s,o,a),Xa(),ks}function PI(){return Ce()}function wm(s){return!!s&&"function"==typeof s.then}function RI(s){return!!s&&"function"==typeof s.subscribe}const NI=RI;function Fv(s,o,a,u){const d=Ce(),g=Ut(),v=Dn();return function el(s,o,a,u,d,g,v,E){const b=Su(u),P=s.firstCreatePass&&Dv(s),O=o[8],W=bv(o);let te=!0;if(3&u.type||E){const $e=br(u,o),Je=E?E($e):$e,vt=W.length,xe=E?qt=>E(bn(qt[u.index])):u.index;let gt=null;if(!E&&b&&(gt=function $T(s,o,a,u){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===u){const E=o[7],b=d[g+2];return E.length>b?E[b]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,u.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=g,gt.__ngLastListenerFn__=g,te=!1;else{g=jr(u,o,O,g,!1);const qt=a.listen(Je,d,g);W.push(g,qt),P&&P.push(d,xe,vt,vt+1)}}else g=jr(u,o,O,g,!1);const Ee=u.outputs;let Re;if(te&&null!==Ee&&(Re=Ee[d])){const $e=Re.length;if($e)for(let Je=0;Je<$e;Je+=2){const pn=o[Re[Je]][Re[Je+1]].subscribe(g),Do=W.length;W.push(g,pn),P&&P.push(d,u.index,Do,-(Do+1))}}}(g,d,d[11],v,s,o,0,u),Fv}function Vv(s,o,a,u){try{return!1!==a(u)}catch(d){return Tv(s,d),!1}}function jr(s,o,a,u,d){return function g(v){if(v===Function)return u;Ev(2&s.flags?Gt(s.index,o):o);let b=Vv(o,0,u,v),S=g.__ngNextListenerFn__;for(;S;)b=Vv(o,0,S,v)&&b,S=S.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function tl(s=1){return function Qs(s){return(bt.lFrame.contextLView=function bl(s,o){for(;s>0;)o=o[15],s--;return o}(s,bt.lFrame.contextLView))[8]}(s)}function GT(s,o){let a=null;const u=function HE(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===u?$d(s,g,!0):Z_(u,g))return d}else a=d}return a}function rh(s){const o=Ce()[16][6];if(!o.projection){const u=o.projection=so(s?s.length:1,null),d=u.slice();let g=o.child;for(;null!==g;){const v=s?GT(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:u[v]=g,d[v]=g),g=g.next}}}function Uv(s,o=0,a){const u=Ce(),d=Ut(),g=_o(d,22+s,16,null,a||null);null===g.projection&&(g.projection=o),pa(),64!=(64&g.flags)&&function OE(s,o,a){kE(o[11],0,o,a,xE(s,a,o),$_(a.parent||o[6],a,o))}(d,u,g)}function Kv(s,o,a,u,d){const g=s[a+1],v=null===o;let E=u?mo(g):yo(g),b=!1;for(;0!==E&&(!1===b||v);){const P=s[E+1];kI(s[E],o)&&(b=!0,s[E+1]=u?su(P):Yg(P)),E=u?mo(P):yo(P)}b&&(s[a+1]=u?Yg(g):su(g))}function kI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Jr(s,o)>=0}const or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zv(s){return s.substring(or.key,or.keyEnd)}function Qv(s,o){const a=or.textEnd;return a===o?-1:(o=or.keyEnd=function VI(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,or.key=o,a),Pc(s,o,a))}function Pc(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Bf(s,o){return function cs(s,o,a,u){const d=Ce(),g=Ut(),v=es(2);g.firstUpdatePass&&ZT(g,s,v,u),o!==kt&&ti(d,v,o)&&$I(g,g.data[qn()],d,d[11],s,d[v+1]=function Dm(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(Ps(s)))),s}(o,a),u,v)}(s,o,null,!0),Bf}function Hf(s){!function Eo(s,o,a,u){const d=Ut(),g=es(2);d.firstUpdatePass&&ZT(d,null,g,u);const v=Ce();if(a!==kt&&ti(v,g,a)){const E=d.data[qn()];if(Rc(E,u)&&!KT(d,g)){let b=u?E.classesWithoutHost:E.stylesWithoutHost;null!==b&&(a=ge(b,a||"")),ym(d,E,v,a,u)}else!function YT(s,o,a,u,d,g,v,E){d===kt&&(d=It);let b=0,S=0,P=0<d.length?d[0]:null,O=0<g.length?g[0]:null;for(;null!==P||null!==O;){const W=b<d.length?d[b+1]:void 0,te=S<g.length?g[S+1]:void 0;let Re,Ee=null;P===O?(b+=2,S+=2,W!==te&&(Ee=O,Re=te)):null===O||null!==P&&P<O?(b+=2,Ee=P):(S+=2,Ee=O,Re=te),null!==Ee&&$I(s,o,a,u,Ee,Re,v,E),P=b<d.length?d[b]:null,O=S<g.length?g[S]:null}}(d,E,v,v[11],v[g+1],v[g+1]=function HI(s,o,a){if(null==a||""===a)return It;const u=[],d=Ps(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(u,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(u,g,d[g]);else"string"==typeof d&&o(u,d);return u}(s,o,a),u,g)}}(Qr,ra,s,!0)}function ra(s,o){for(let a=function LI(s){return function Uf(s){or.key=0,or.keyEnd=0,or.value=0,or.valueEnd=0,or.textEnd=s.length}(s),Qv(s,Pc(s,0,or.textEnd))}(o);a>=0;a=Qv(o,a))Qr(s,Zv(o),!0)}function KT(s,o){return o>=s.expandoStartIndex}function ZT(s,o,a,u){const d=s.data;if(null===d[a+1]){const g=d[qn()],v=KT(s,a);Rc(g,u)&&null===o&&!v&&(o=!1),o=function Yx(s,o,a,u){const d=function ma(s){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=jf(a=BI(null,s,o,a,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=BI(d,s,o,a,u),null===g){let b=function Qx(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==yo(u))return s[mo(u)]}(s,o,u);void 0!==b&&Array.isArray(b)&&(b=BI(null,s,o,b[1],u),b=jf(b,o.attrs,u),function Jx(s,o,a,u){s[mo(a?o.classBindings:o.styleBindings)]=u}(s,o,u,b))}else g=function Xx(s,o,a){let u;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)u=jf(u,s[g].hostAttrs,a);return jf(u,o.attrs,a)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,u),function OI(s,o,a,u,d,g){let v=g?o.classBindings:o.styleBindings,E=mo(v),b=yo(v);s[u]=a;let P,S=!1;if(Array.isArray(a)){const O=a;P=O[1],(null===P||Jr(O,P)>0)&&(S=!0)}else P=a;if(d)if(0!==b){const W=mo(s[E+1]);s[u+1]=Zg(W,E),0!==W&&(s[W+1]=Af(s[W+1],u)),s[E+1]=function oT(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=Zg(E,0),0!==E&&(s[E+1]=Af(s[E+1],u)),E=u;else s[u+1]=Zg(b,0),0===E?E=u:s[b+1]=Af(s[b+1],u),b=u;S&&(s[u+1]=Yg(s[u+1])),Kv(s,P,u,!0),Kv(s,P,u,!1),function WT(s,o,a,u,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Jr(g,o)>=0&&(a[u+1]=su(a[u+1]))}(o,P,s,u,g),v=Zg(E,b),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,u)}}function BI(s,o,a,u,d){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],u=jf(u,g.hostAttrs,d),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),u}function jf(s,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qr(s,v,!!a||o[++g]))}return void 0===s?null:s}function $I(s,o,a,u,d,g,v,E){if(!(3&o.type))return;const b=s.data,S=b[E+1];uu(function ta(s){return 1==(1&s)}(S)?bm(b,o,a,d,yo(S),v):void 0)||(uu(g)||function tv(s){return 2==(2&s)}(S)&&(g=bm(b,null,a,d,E,v)),function FE(s,o,a,u,d){if(o)d?s.addClass(a,u):s.removeClass(a,u);else{let g=-1===u.indexOf("-")?void 0:Bi.DashCase;null==d?s.removeStyle(a,u,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Bi.Important),s.setStyle(a,u,d,g))}}(u,v,Zr(qn(),a),d,g))}function bm(s,o,a,u,d,g){const v=null===o;let E;for(;d>0;){const b=s[d],S=Array.isArray(b),P=S?b[1]:b,O=null===P;let W=a[d+1];W===kt&&(W=O?It:void 0);let te=O?zo(W,u):P===u?W:void 0;if(S&&!uu(te)&&(te=zo(b,u)),uu(te)&&(E=te,v))return E;const Ee=s[d+1];d=v?mo(Ee):yo(Ee)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(E=zo(b,u))}return E}function uu(s){return void 0!==s}function Rc(s,o){return 0!=(s.flags&(o?16:32))}function ih(s,o=""){const a=Ce(),u=Ut(),d=s+22,g=u.firstCreatePass?_o(u,d,1,o,null):u.data[d],v=a[d]=function _c(s,o){return s.createText(o)}(a[11],o);po(u,a,v,g),Yr(g,!1)}function $f(s){return Cm("",s,""),$f}function Cm(s,o,a){const u=Ce(),d=function wo(s,o,a,u){return ti(s,Zs(),a)?o+ye(a)+u:kt}(u,s,o,a);return d!==kt&&function Za(s,o,a){const u=Zr(o,s);!function wf(s,o,a){s.setValue(o,a)}(s[11],u,a)}(u,qn(),d),Cm}const cu=void 0;var Kf=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function YI(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Zf={};function Nm(s){const o=function QI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=aS(o);if(a)return a;const u=o.split("-")[0];if(a=aS(u),a)return a;if("en"===u)return Kf;throw new we(701,!1)}function oS(s){return Nm(s)[wt.PluralCase]}function aS(s){return s in Zf||(Zf[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),Zf[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Nc="en-US";let ow=Nc;function bb(s,o,a,u,d){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)bb(s[g],o,a,u,d);else{const g=Ut(),v=Ce();let E=Ql(s)?s:Q(s.provide),b=Jl(s);const S=Dn(),P=1048575&S.providerIndexes,O=S.directiveStart,W=S.providerIndexes>>20;if(Ql(s)||!s.multi){const te=new Cs(b,d,zd),Ee=Cb(E,o,d?P:P+W,O);-1===Ee?(Ts(to(S,v),g,E),Db(g,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(te),v.push(te)):(a[Ee]=te,v[Ee]=te)}else{const te=Cb(E,o,P+W,O),Ee=Cb(E,o,P,P+W),Re=te>=0&&a[te],$e=Ee>=0&&a[Ee];if(d&&!$e||!d&&!Re){Ts(to(S,v),g,E);const Je=function $m(s,o,a,u,d){const g=new Cs(s,a,zd);return g.multi=[],g.index=o,g.componentProviders=0,AS(g,d,u&&!a),g}(d?mP:gP,a.length,d,u,b);!d&&$e&&(a[Ee].providerFactory=Je),Db(g,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Je),v.push(Je)}else Db(g,s,te>-1?te:Ee,AS(a[d?Ee:te],b,!d&&u));!d&&u&&$e&&a[Ee].componentProviders++}}}function Db(s,o,a,u){const d=Ql(o),g=function Ns(s){return!!s.useClass}(o);if(d||g){const b=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(b){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const P=S.indexOf(a);-1===P?S.push(a,[u,b]):S[P+1].push(u,b)}else S.push(a,b)}}}function AS(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Cb(s,o,a,u){for(let d=a;d<u;d++)if(o[d]===s)return d;return-1}function gP(s,o,a,u){return nl(this.multi,[])}function mP(s,o,a,u){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ts(a,a[1],this.providerFactory.index,u);g=E.slice(0,v),nl(d,g);for(let b=v;b<E.length;b++)g.push(E[b])}else g=[],nl(d,g);return g}function nl(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function $t(s,o=[]){return a=>{a.providersResolver=(u,d)=>function pP(s,o,a){const u=Ut();if(u.firstCreatePass){const d=gr(s);bb(a,u.data,u.blueprint,d,!0),bb(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class ds{}class mw{}function MS(s,o){return new yr(s,o??null)}class yr extends ds{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const u=Er(o);this._bootstrapComponents=Xo(u.bootstrap),this._r3Injector=QC(o,a,[{provide:ds,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class hs extends mw{constructor(o){super(),this.moduleType=o}create(o){return new yr(this.moduleType,o)}}class Gm extends ds{constructor(o,a,u){super(),this.componentFactoryResolver=new Sv(this),this.instance=null;const d=new hf([...o,{provide:ds,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],a||Ha(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ip(s,o,a=null){return new Gm(s,o,a).injector}let xS=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Tr(0,a.type),d=u.length>0?ip([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Yt({token:s,providedIn:"environment",factory:()=>new s(Pn(Fn))}),s})();function Tb(s){s.getStandaloneInjector=o=>o.get(xS).getOrCreateStandaloneInjector(s)}function lh(s,o,a){const u=Cn()+s,d=Ce();return d[u]===kt?Qa(d,u,a?o.call(a):o()):function mm(s,o){return s[o]}(d,u)}function Ew(s,o,a,u){return Zm(Ce(),Cn(),s,o,a,u)}function sp(s,o,a,u,d){return function Iw(s,o,a,u,d,g,v){const E=o+a;return Ja(s,E,d,g)?Qa(s,E+2,v?u.call(v,d,g):u(d,g)):uh(s,E+2)}(Ce(),Cn(),s,o,a,u,d)}function Rb(s,o,a,u,d,g,v){return function Ob(s,o,a,u,d,g,v,E,b){const S=o+a;return function Ei(s,o,a,u,d,g){const v=Ja(s,o,a,u);return Ja(s,o+2,d,g)||v}(s,S,d,g,v,E)?Qa(s,S+4,b?u.call(b,d,g,v,E):u(d,g,v,E)):uh(s,S+4)}(Ce(),Cn(),s,o,a,u,d,g,v)}function Km(s,o,a,u){return function Ym(s,o,a,u,d,g){let v=o+a,E=!1;for(let b=0;b<d.length;b++)ti(s,v++,d[b])&&(E=!0);return E?Qa(s,v,u.apply(g,d)):uh(s,v)}(Ce(),Cn(),s,o,a,u)}function uh(s,o){const a=s[o];return a===kt?void 0:a}function Zm(s,o,a,u,d,g){const v=o+a;return ti(s,v,d)?Qa(s,v+1,g?u.call(g,d):u(d)):uh(s,v+1)}function bw(s,o){const a=Ut();let u;const d=s+22;a.firstCreatePass?(u=function VS(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const g=u.factory||(u.factory=Mi(u.type)),v=An(zd);try{const E=Ea(!1),b=g();return Ea(E),function UT(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Ce(),d,b),b}finally{An(v)}}function Dw(s,o,a){const u=s+22,d=Ce(),g=function Ji(s,o){return s[o]}(d,u);return function op(s,o){return s[1].data[o].pure}(d,u)?Zm(d,Cn(),o,g.transform,a,g):g.transform(a)}function ap(s){return o=>{setTimeout(s,void 0,o)}}const Ls=class Qm extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let d=o,g=a||(()=>null),v=u;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),g=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(g=ap(g),d&&(d=ap(d)),v&&(v=ap(v)));const E=super.subscribe({next:d,error:g,complete:v});return o instanceof ee.w0&&o.add(E),E}};function Tw(){return this._results[Sc()]()}class Jm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Sc(),u=Jm.prototype;u[a]||(u[a]=Tw)}get changes(){return this._changes||(this._changes=new Ls)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=Dr(o);(this._changesDetected=!function Vl(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],g=o[u];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lp=(()=>{class s{}return s.__NG_ELEMENT_ID__=HS,s})();const Fb=lp,Xm=class extends Fb{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tViews,d=tm(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(u)),nm(u,d,o),new Of(d)}};function HS(){return ey(Dn(),Ce())}function ey(s,o){return 4&s.type?new Xm(o,s,$(s,o)):null}let ty=(()=>{class s{}return s.__NG_ELEMENT_ID__=jS,s})();function jS(){return Bb(Dn(),Ce())}const $S=ty,Vb=class extends $S{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return $(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const o=Pl(this._hostTNode,this._hostLView);if(pd(o)){const a=wa(o,this._hostLView),u=ir(o);return new ro(a[1].data[u+8],a)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ub(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){let d,g;"number"==typeof u?d=u:null!=u&&(d=u.index,g=u.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,d),v}createComponent(o,a,u,d,g){const v=o&&!function Go(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const O=a||{};E=O.index,u=O.injector,d=O.projectableNodes,g=O.environmentInjector||O.ngModuleRef}const b=v?o:new Jd(Nt(o)),S=u||this.parentInjector;if(!g&&null==b.ngModule){const W=(v?S:this.parentInjector).get(Fn,null);W&&(g=W)}const P=b.create(S,d,void 0,g);return this.insert(P.hostView,E),P}insert(o,a){const u=o._lView,d=u[1];if(function hl(s){return Ir(s[3])}(u)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const O=u[3],W=new Vb(O,O[6],O[3]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function vc(s,o,a,u){const d=10+u,g=a.length;u>0&&(a[d-1][4]=o),u<g-10?(o[4]=a[d],Yu(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function ei(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(d,u,v,g);const E=W_(g,v),b=u[11],S=Vg(b,v[7]);return null!==S&&function AE(s,o,a,u,d,g){u[0]=d,u[6]=o,If(s,u,a,1,d,g)}(d,v[6],b,u,S,E),o.attachToViewContainerRef(),Yu(Sw(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ub(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=j_(this._lContainer,a);u&&(is(Sw(this._lContainer),a),Ud(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=j_(this._lContainer,a);return u&&null!=is(Sw(this._lContainer),a)?new Of(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function Ub(s){return s[8]}function Sw(s){return s[8]||(s[8]=[])}function Bb(s,o){let a;const u=o[s.index];if(Ir(u))a=u;else{let d;if(8&s.type)d=bn(u);else{const g=o[11];d=g.createComment("");const v=br(s,o);Rt(g,Vg(g,v),d,function ea(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=a=vv(u,o,d,s),lm(o,a)}return new Vb(a,s,o)}class ry{constructor(o){this.queryList=o,this.matches=null}clone(){return new ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class up{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<u;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new up(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Rw(o,a).matches&&this.queries[a].setDirty()}}class Hb{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Aw{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(o,d);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new Aw(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Mw{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Mw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const g=u[d];this.matchTNodeWithReadOption(o,a,jb(a,g)),this.matchTNodeWithReadOption(o,a,Vo(a,o,g,!1,!1))}else u===lp?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Vo(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===ae||d===ty||d===lp&&4&a.type)this.addMatch(a.index,-2);else{const g=Vo(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function jb(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Gb(s,o,a,u){return-1===a?function $b(s,o){return 11&s.type?$(s,o):4&s.type?ey(s,o):null}(o,s):-2===a?function zb(s,o,a){return a===ae?$(o,s):a===lp?ey(o,s):a===ty?Bb(o,s):void 0}(s,o,u):ts(s,s[1],a,o)}function xw(s,o,a,u){const d=o[19].queries[u];if(null===d.matches){const g=s.data,v=a.matches,E=[];for(let b=0;b<v.length;b+=2){const S=v[b];E.push(S<0?null:Gb(o,g[S],v[b+1],a.metadata.read))}d.matches=E}return d.matches}function Wb(s,o,a,u){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=xw(s,o,d,a);for(let E=0;E<g.length;E+=2){const b=g[E];if(b>0)u.push(v[E/2]);else{const S=g[E+1],P=o[-b];for(let O=10;O<P.length;O++){const W=P[O];W[17]===W[3]&&Wb(W[1],W,S,u)}if(null!==P[9]){const O=P[9];for(let W=0;W<O.length;W++){const te=O[W];Wb(te[1],te,S,u)}}}}}return u}function qb(s){const o=Ce(),a=Ut(),u=Vu();ya(u+1);const d=Rw(a,u);if(s.dirty&&da(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?Wb(a,o,u,[]):xw(a,o,d,u);s.reset(g,Le),s.notifyOnChanges()}return!0}return!1}function WS(s,o,a){const u=Ut();u.firstCreatePass&&(Pw(u,new Hb(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),Kb(u,Ce(),o)}function qS(s,o,a,u){const d=Ut();if(d.firstCreatePass){const g=Dn();Pw(d,new Hb(o,a,u),g.index),function KS(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}Kb(d,Ce(),a)}function iy(){return function wP(s,o){return s[19].queries[o].queryList}(Ce(),Vu())}function Kb(s,o,a){const u=new Jm(4==(4&a));Rf(s,o,u,u.destroy),null===o[19]&&(o[19]=new up),o[19].queries.push(new ry(u))}function Pw(s,o,a){null===s.queries&&(s.queries=new Aw),s.queries.track(new Mw(o,a))}function Rw(s,o){return s.queries.getByIndex(o)}function Mr(...s){}const ii=new dn("Application Initializer");let pp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Mr,this.reject=Mr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(wm(g))a.push(g);else if(NI(g)){const v=new Promise((E,b)=>{g.subscribe({complete:E,error:b})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Pn(ii,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Gw=new dn("AppId",{providedIn:"root",factory:function uy(){return`${cy()}${cy()}${cy()}`}});function cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zw=new dn("Platform Initializer"),Ww=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lD=new dn("appBootstrapListener"),dh=new dn("AnimationModuleType");let uD=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const gp=new dn("LocaleId",{providedIn:"root",factory:()=>D(gp,Ke.Optional|Ke.SkipSelf)||function qw(){return typeof $localize<"u"&&$localize.locale||Nc}()}),sA=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Zw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Yw=(()=>{class s{compileModuleSync(a){return new hs(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=Xo(Er(a).declarations).reduce((v,E)=>{const b=Nt(E);return b&&v.push(new Jd(b)),v},[]);return new Zw(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mp=(()=>Promise.resolve(0))();function Xw(s){typeof Zone>"u"?mp.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function yp(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function e0(s){const o=()=>{!function dy(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,_p(s),s.isCheckStableRunning=!0,hh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),_p(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,g,v,E)=>{try{return hy(s),a.invokeTask(d,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),fy(s)}},onInvoke:(a,u,d,g,v,E,b)=>{try{return hy(s),a.invoke(d,g,v,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),fy(s)}},onHasTask:(a,u,d,g)=>{a.hasTask(d,g),u===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,_p(s),hh(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new we(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,lA,Mr,Mr);try{return g.runTask(v,a,u)}finally{g.cancelTask(v)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const lA={};function hh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function _p(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hy(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fy(s){s._nesting--,hh(s)}class hD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ls,this.onMicrotaskEmpty=new Ls,this.onStable=new Ls,this.onError=new Ls}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}const t0=new dn(""),fD=new dn("");let py,pD=(()=>{class s{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,py||(function r0(s){py=s}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),Xw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Pn(Fs),Pn(n0),Pn(fD))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),n0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return py?.findTestabilityInTree(this,a,u)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),hu=null;const gy=new dn("AllowMultipleToken"),vp=new dn("PlatformDestroyListeners");class s0{constructor(o,a){this.name=o,this.token=a}}function gD(s,o,a=[]){const u=`Platform: ${o}`,d=new dn(u);return(g=[])=>{let v=wp();if(!v||v.injector.get(gy,!1)){const E=[...a,...g,{provide:d,useValue:!0}];s?s(E):function uA(s){if(hu&&!hu.get(gy,!1))throw new we(400,!1);hu=s;const o=s.get(l0);(function o0(s){const o=s.get(zw,null);o&&o.forEach(a=>a())})(s)}(function yy(s=[],o){return Ec.create({name:o,providers:[{provide:df,useValue:"platform"},{provide:vp,useValue:new Set([()=>hu=null])},...s]})}(E,u))}return function a0(s){const o=wp();if(!o)throw new we(401,!1);return o}()}}function wp(){return hu?.get(l0)??null}let l0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function Ep(s,o){let a;return a="noop"===s?new hD:("zone.js"===s?void 0:s)||new Fs(o),a}(u?.ngZone,function mD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Fs,useValue:d}];return d.run(()=>{const v=Ec.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(v),b=E.injector.get(Fd,null);if(!b)throw new we(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:P=>{b.handleError(P)}});E.onDestroy(()=>{wy(this._modules,E),S.unsubscribe()})}),function _y(s,o,a){try{const u=a();return wm(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(b,d,()=>{const S=E.injector.get(pp);return S.runInitializers(),S.donePromise.then(()=>(function XI(s){Ht(s,"Expected localeId to be defined"),"string"==typeof s&&(ow=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(gp,Nc)||Nc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,u=[]){const d=vy({},u);return function xr(s,o,a){const u=new hs(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const u=a.injector.get(Ip);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new we(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(vp,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Pn(Ec))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function vy(s,o){return Array.isArray(o)?o.reduce(vy,s):{...s,...o}}let Ip=(()=>{class s{constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),Xw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(g,v.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof Ld;if(!this._injector.get(pp).done)throw!d&&Si(a),new we(405,false);let v;v=d?a:this._injector.get(A).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function my(s){return s.isBoundToModule}(v)?void 0:this._injector.get(ds),S=v.create(Ec.NULL,[],u||v.selector,E),P=S.location.nativeElement,O=S.injector.get(t0,null);return O?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),wy(this.components,S),O?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;wy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(lD,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>wy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Pn(Fs),Pn(Fn),Pn(Fd))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function wy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let u0=!0,c0=!1;function Ey(){return c0=!0,u0}function dA(){if(c0)throw new Error("Cannot enable prod mode after platform setup.");u0=!1}let hA=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fc,s})();function Fc(s){return function vD(s,o,a){if(ua(s)&&!a){const u=Gt(s.index,o);return new Of(u,u)}return 47&s.type?new Of(o[16],o):null}(Dn(),Ce(),16==(16&s))}class Cy{constructor(){}supports(o){return Ya(o)}create(o){return new DD(o)}}const bD=(s,o)=>o;class DD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||bD}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,g=null;for(;a||u;){const v=!u||a&&a.currentIndex<g0(u,d,g)?a:u,E=g0(v,d,g),b=v.currentIndex;if(v===u)d--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const S=E-d,P=b-d;if(S!=P){for(let W=0;W<S;W++){const te=W<g.length?g[W]:g[W]=0,Ee=te+W;P<=Ee&&Ee<S&&(g[W]=te+1)}g[v.previousIndex]=P-S}}E!==b&&o(v,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ya(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),u=!0),a=a._next}else d=0,function kT(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Sc()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new CD(a,u),g,d),o}_verifyReinsertion(o,a,u,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new gh),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gh),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class CD{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class gh{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new mA,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function g0(s,o,a){const u=s.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class Tp{constructor(){}supports(o){return o instanceof Map||Rv(o)}create(){return new Sp}}class Sp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Rv(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const u=new Uc(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Uc{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ty(){return new m0([new Cy])}let m0=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Ty()),deps:[[s,new _t,new He]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new we(901,!1)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:Ty}),s})();function Bc(){return new Ap([new Tp])}let Ap=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Bc()),deps:[[s,new _t,new He]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new we(901,!1)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:Bc}),s})();const rl=gD(null,"core",[]);let Sy=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Pn(Ip))},s.\u0275mod=it({type:s}),s.\u0275inj=Lt({}),s})();function Ay(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(at,Se,k)=>{k.d(Se,{Z:()=>we});var h=k(2090),ee=k(4859),N=k(9681),se=k(1877);class re{constructor(ye,pe){this._delegate=ye,this.firebase=pe,(0,N._addComponent)(ye,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,pe=N._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(ye);return!nt.isInitialized()&&"EXPLICIT"===(null===(Qe=nt.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:pe})}_removeServiceInstance(ye,pe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(pe)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ge(){const Xe=function he(Xe){const ye={},pe={__esModule:!0,initializeApp:function Ae(Be,U={}){const me=N.initializeApp(Be,U);if((0,h.r3)(ye,me.name))return ye[me.name];const Y=new Xe(me,pe);return ye[me.name]=Y,Y},app:nt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function be(Be){const U=Be.name,me=U.replace("-compat","");if(N._registerComponent(Be)&&"PUBLIC"===Be.type){const Y=(X=nt())=>{if("function"!=typeof X[me])throw ce.create("invalid-app-argument",{appName:U});return X[me]()};void 0!==Be.serviceProps&&(0,h.ZB)(Y,Be.serviceProps),pe[me]=Y,Xe.prototype[me]=function(...X){return this._getService.bind(this,U).apply(this,Be.multipleInstances?X:[])}}return"PUBLIC"===Be.type?pe[me]:null},removeApp:function Qe(Be){delete ye[Be]},useAsService:function Ue(Be,U){return"serverAuth"===U?null:U},modularAPIs:N}};function nt(Be){if(!(0,h.r3)(ye,Be=Be||N._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Be});return ye[Be]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ve(){return Object.keys(ye).map(Be=>ye[Be])}}),nt.App=Xe,pe}(re);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ye(pe){(0,h.ZB)(Xe,pe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Xe}(),G=new se.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=H;!function Me(Xe){(0,N.registerVersion)("@firebase/app-compat","0.1.33",Xe)}()},9681:(at,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ys,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Yt,_apps:()=>an,_clearComponents:()=>aa,_components:()=>Sn,_getProvider:()=>Lt,_registerComponent:()=>vr,_removeServiceInstance:()=>nn,deleteApp:()=>Mo,getApp:()=>kr,getApps:()=>hi,initializeApp:()=>Ti,onLog:()=>zi,registerVersion:()=>Lr,setLogLevel:()=>An});var h=k(5861),ee=k(4859),N=k(1877),se=k(2090),re=k(8766);class de{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function ce(V){return"VERSION"===V.getComponent()?.type}(q)){const De=q.getImmediate();return`${De.library}/${De.version}`}return null}).filter(q=>q).join(" ")}}const he="@firebase/app",H=new N.Yd("@firebase/app"),Ht="[DEFAULT]",Ge={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,Sn=new Map;function Zt(V,z){try{V.container.addComponent(z)}catch(q){H.debug(`Component ${z.name} failed to register with FirebaseApp ${V.name}`,q)}}function Yt(V,z){V.container.addOrOverwriteComponent(z)}function vr(V){const z=V.name;if(Sn.has(z))return H.debug(`There were multiple attempts to register component ${z}.`),!1;Sn.set(z,V);for(const q of an.values())Zt(q,V);return!0}function Lt(V,z){const q=V.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),V.container.getProvider(z)}function nn(V,z,q=Ht){Lt(V,z).clearInstance(q)}function aa(){Sn.clear()}const pr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Or{constructor(z,q,De){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=De,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const ys="9.9.4";function Ti(V,z={}){"object"!=typeof z&&(z={name:z});const q=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},z),De=q.name;if("string"!=typeof De||!De)throw pr.create("bad-app-name",{appName:String(De)});const Ve=an.get(De);if(Ve){if((0,se.vZ)(V,Ve.options)&&(0,se.vZ)(q,Ve.config))return Ve;throw pr.create("duplicate-app",{appName:De})}const it=new ee.H0(De);for(const Jt of Sn.values())it.addComponent(Jt);const cn=new Or(V,q,it);return an.set(De,cn),cn}function kr(V=Ht){const z=an.get(V);if(!z)throw pr.create("no-app",{appName:V});return z}function hi(){return Array.from(an.values())}function Mo(V){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(V){const z=V.name;an.has(z)&&(an.delete(z),yield Promise.all(V.container.getProviders().map(q=>q.delete())),V.isDeleted=!0)})).apply(this,arguments)}function Lr(V,z,q){var De;let Ve=null!==(De=Ge[V])&&void 0!==De?De:V;q&&(Ve+=`-${q}`);const it=Ve.match(/\s|\//),cn=z.match(/\s|\//);if(it||cn){const Jt=[`Unable to register library "${Ve}" with version "${z}":`];return it&&Jt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),it&&cn&&Jt.push("and"),cn&&Jt.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void H.warn(Jt.join(" "))}vr(new ee.wA(`${Ve}-version`,()=>({library:Ve,version:z}),"VERSION"))}function zi(V,z){if(null!==V&&"function"!=typeof V)throw pr.create("invalid-log-argument");(0,N.Am)(V,z)}function An(V){(0,N.Ub)(V)}const Mn="firebase-heartbeat-store";let jn=null;function hn(){return jn||(jn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(V,z)=>{0===z&&V.createObjectStore(Mn)}}).catch(V=>{throw pr.create("idb-open",{originalErrorMessage:V.message})})),jn}function ot(){return(ot=(0,h.Z)(function*(V){var z;try{return(yield hn()).transaction(Mn).objectStore(Mn).get(nr(V))}catch(q){if(q instanceof se.ZR)H.warn(q.message);else{const De=pr.create("idb-get",{originalErrorMessage:null===(z=q)||void 0===z?void 0:z.message});H.warn(De.message)}}})).apply(this,arguments)}function ln(V,z){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(V,z){var q;try{const Ve=(yield hn()).transaction(Mn,"readwrite");return yield Ve.objectStore(Mn).put(z,nr(V)),Ve.done}catch(De){if(De instanceof se.ZR)H.warn(De.message);else{const Ve=pr.create("idb-set",{originalErrorMessage:null===(q=De)||void 0===q?void 0:q.message});H.warn(Ve.message)}}})).apply(this,arguments)}function nr(V){return`${V.name}!${V.options.appId}`}class Wi{constructor(z){this.container=z,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Kt(q),this._heartbeatsCachePromise=this._storage.read().then(De=>(this._heartbeatsCache=De,De))}triggerHeartbeat(){var z=this;return(0,h.Z)(function*(){const De=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=Qt();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!z._heartbeatsCache.heartbeats.some(it=>it.date===Ve))return z._heartbeatsCache.heartbeats.push({date:Ve,agent:De}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(it=>{const cn=new Date(it.date).valueOf();return Date.now()-cn<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,h.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const q=Qt(),{heartbeatsToSend:De,unsentEntries:Ve}=function pi(V,z=1024){const q=[];let De=V.slice();for(const Ve of V){const it=q.find(cn=>cn.agent===Ve.agent);if(it){if(it.dates.push(Ve.date),K(q)>z){it.dates.pop();break}}else if(q.push({agent:Ve.agent,dates:[Ve.date]}),K(q)>z){q.pop();break}De=De.slice(1)}return{heartbeatsToSend:q,unsentEntries:De}}(z._heartbeatsCache.heartbeats),it=(0,se.L)(JSON.stringify({version:2,heartbeats:De}));return z._heartbeatsCache.lastSentHeartbeatDate=q,Ve.length>0?(z._heartbeatsCache.heartbeats=Ve,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),it})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,h.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function dt(V){return ot.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var q=this;return(0,h.Z)(function*(){var De;if(yield q._canUseIndexedDBPromise){const it=yield q.read();return ln(q.app,{lastSentHeartbeatDate:null!==(De=z.lastSentHeartbeatDate)&&void 0!==De?De:it.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var q=this;return(0,h.Z)(function*(){var De;if(yield q._canUseIndexedDBPromise){const it=yield q.read();return ln(q.app,{lastSentHeartbeatDate:null!==(De=z.lastSentHeartbeatDate)&&void 0!==De?De:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...z.heartbeats]})}})()}}function K(V){return(0,se.L)(JSON.stringify({version:2,heartbeats:V})).length}!function j(V){vr(new ee.wA("platform-logger",z=>new de(z),"PRIVATE")),vr(new ee.wA("heartbeat",z=>new Wi(z),"PRIVATE")),Lr(he,"0.7.32",V),Lr(he,"0.7.32","esm2017"),Lr("fire-js","")}("")},4859:(at,Se,k)=>{k.d(Se,{H0:()=>he,wA:()=>N});var h=k(5861),ee=k(2090);class N{constructor(H,G,Q){this.name=H,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class re{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const Q=new ee.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:G});Fe&&Q.resolve(Fe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const Q=this.normalizeInstanceIdentifier(H?.identifier),Fe=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(Fe)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ce(ge){return"EAGER"===ge.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(G);try{const Me=this.getOrInitializeService({instanceIdentifier:Fe});Q.resolve(Me)}catch{}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,Q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[Me,we]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&we.resolve(Fe);return Fe}onInit(H,G){var Q;const Fe=this.normalizeInstanceIdentifier(G),Me=null!==(Q=this.onInitCallbacks.get(Fe))&&void 0!==Q?Q:new Set;Me.add(H),this.onInitCallbacks.set(Fe,Me);const we=this.instances.get(Fe);return we&&H(we,Fe),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Fe of Q)try{Fe(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let Q=this.instances.get(H);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=H,ge===se?void 0:ge),options:G}),this.instances.set(H,Q),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(Q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Q)}catch{}var ge;return Q||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new re(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Se,k)=>{k.d(Se,{Am:()=>ge,Ub:()=>he,Yd:()=>ce,in:()=>ee});const h=[];var ee=(()=>{return(H=ee||(ee={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ee;var H})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},se=ee.INFO,re={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},de=(H,G,...Q)=>{if(G<H.logLevel)return;const Fe=(new Date).toISOString(),Me=re[G];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Me](`[${Fe}]  ${H.name}:`,...Q)};class ce{constructor(G){this.name=G,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in ee))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...G),this._logHandler(this,ee.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...G),this._logHandler(this,ee.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...G),this._logHandler(this,ee.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...G),this._logHandler(this,ee.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...G),this._logHandler(this,ee.ERROR,...G)}}function he(H){h.forEach(G=>{G.setLogLevel(H)})}function ge(H,G){for(const Q of h){let Fe=null;G&&G.level&&(Fe=N[G.level]),Q.userLogHandler=null===H?null:(Me,we,...Xe)=>{const ye=Xe.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");we>=(Fe??Me.logLevel)&&H({level:ee[we].toLowerCase(),message:ye,args:Xe,type:Me.name})}}}},8766:(at,Se,k)=>{k.d(Se,{Lj:()=>Ae,X3:()=>nt});var h=k(5861);let N,se;const ce=new WeakMap,he=new WeakMap,ge=new WeakMap,H=new WeakMap,G=new WeakMap;let Me={get(U,me,Y){if(U instanceof IDBTransaction){if("done"===me)return he.get(U);if("objectStoreNames"===me)return U.objectStoreNames||ge.get(U);if("store"===me)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return pe(U[me])},set:(U,me,Y)=>(U[me]=Y,!0),has:(U,me)=>U instanceof IDBTransaction&&("done"===me||"store"===me)||me in U};function ye(U){return"function"==typeof U?function Xe(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...me){return U.apply(Qe(this),me),pe(ce.get(this))}:function(...me){return pe(U.apply(Qe(this),me))}:function(me,...Y){const X=U.call(Qe(this),me,...Y);return ge.set(X,me.sort?me.sort():[me]),pe(X)}}(U):(U instanceof IDBTransaction&&function Fe(U){if(he.has(U))return;const me=new Promise((Y,X)=>{const ie=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Oe),U.removeEventListener("abort",Oe)},ne=()=>{Y(),ie()},Oe=()=>{X(U.error||new DOMException("AbortError","AbortError")),ie()};U.addEventListener("complete",ne),U.addEventListener("error",Oe),U.addEventListener("abort",Oe)});he.set(U,me)}(U),((U,me)=>me.some(Y=>U instanceof Y))(U,function re(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Me):U)}function pe(U){if(U instanceof IDBRequest)return function Q(U){const me=new Promise((Y,X)=>{const ie=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Oe)},ne=()=>{Y(pe(U.result)),ie()},Oe=()=>{X(U.error),ie()};U.addEventListener("success",ne),U.addEventListener("error",Oe)});return me.then(Y=>{Y instanceof IDBCursor&&ce.set(Y,U)}).catch(()=>{}),G.set(me,U),me}(U);if(H.has(U))return H.get(U);const me=ye(U);return me!==U&&(H.set(U,me),G.set(me,U)),me}const Qe=U=>G.get(U);function nt(U,me,{blocked:Y,upgrade:X,blocking:ie,terminated:ne}={}){const Oe=indexedDB.open(U,me),Ne=pe(Oe);return X&&Oe.addEventListener("upgradeneeded",ut=>{X(pe(Oe.result),ut.oldVersion,ut.newVersion,pe(Oe.transaction))}),Y&&Oe.addEventListener("blocked",()=>Y()),Ne.then(ut=>{ne&&ut.addEventListener("close",()=>ne()),ie&&ut.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Ne}function Ae(U,{blocked:me}={}){const Y=indexedDB.deleteDatabase(U);return me&&Y.addEventListener("blocked",()=>me()),pe(Y).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Ue=new Map;function Be(U,me){if(!(U instanceof IDBDatabase)||me in U||"string"!=typeof me)return;if(Ue.get(me))return Ue.get(me);const Y=me.replace(/FromIndex$/,""),X=me!==Y,ie=be.includes(Y);if(!(Y in(X?IDBIndex:IDBObjectStore).prototype)||!ie&&!ve.includes(Y))return;const ne=function(){var Oe=(0,h.Z)(function*(Ne,...ut){const Wt=this.transaction(Ne,ie?"readwrite":"readonly");let Ht=Wt.store;return X&&(Ht=Ht.index(ut.shift())),(yield Promise.all([Ht[Y](...ut),ie&&Wt.done]))[0]});return function(ut){return Oe.apply(this,arguments)}}();return Ue.set(me,ne),ne}!function we(U){Me=U(Me)}(U=>({...U,get:(me,Y,X)=>Be(me,Y)||U.get(me,Y,X),has:(me,Y)=>!!Be(me,Y)||U.has(me,Y)}))},5861:(at,Se,k)=>{function h(N,se,re,de,ce,he,ge){try{var H=N[he](ge),G=H.value}catch(Q){return void re(Q)}H.done?se(G):Promise.resolve(G).then(de,ce)}function ee(N){return function(){var se=this,re=arguments;return new Promise(function(de,ce){var he=N.apply(se,re);function ge(G){h(he,de,ce,ge,H,"next",G)}function H(G){h(he,de,ce,ge,H,"throw",G)}ge(void 0)})}}k.d(Se,{Z:()=>ee})}},at=>{at(at.s=8411)}]);